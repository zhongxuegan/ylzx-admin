{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\common\\Tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\common\\Tags.vue","mtime":1596249713287},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport bus from './bus';\r\nexport default {\r\n\tname:'Tags',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttagsList: []\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tisActive(path) {\r\n\t\t\treturn path === this.$route.fullPath;\r\n\t\t},\r\n\t\t// 关闭单个标签\r\n\t\tcloseTags(index) {\r\n\t\t\tconst delItem = this.tagsList.splice(index, 1)[0];\r\n\t\t\tconst item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\r\n\t\t\tif (item) {\r\n\t\t\t\tdelItem.path === this.$route.fullPath && this.$router.push(item.path);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$router.push('/');\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 关闭全部标签\r\n\t\tcloseAll() {\r\n\t\t\tthis.tagsList = [];\r\n\t\t\tthis.$router.push('/');\r\n\t\t},\r\n\t\t// 关闭其他标签\r\n\t\tcloseOther() {\r\n\t\t\tconst curItem = this.tagsList.filter(item => {\r\n\t\t\t\treturn item.path === this.$route.fullPath;\r\n\t\t\t});\r\n\t\t\tthis.tagsList = curItem;\r\n\t\t},\r\n\t\t// 设置标签\r\n\t\tsetTags(route) {\r\n\t\t\tconst isExist = this.tagsList.some(item => {\r\n\t\t\t\treturn item.path === route.fullPath;\r\n\t\t\t});\r\n\t\t\tif (!isExist) {\r\n\t\t\t\tif (this.tagsList.length >= 8) {\r\n\t\t\t\t\tthis.tagsList.shift();\r\n\t\t\t\t}\r\n\t\t\t\tthis.tagsList.push({\r\n\t\t\t\t\ttitle: route.meta.title,\r\n\t\t\t\t\tpath: route.fullPath,\r\n\t\t\t\t\tname: route.matched[1].components.default.name\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tbus.$emit('tags', this.tagsList);\r\n\t\t},\r\n\t\thandleTags(command) {\r\n\t\t\tcommand === 'other' ? this.closeOther() : this.closeAll();\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tshowTags() {\r\n\t\t\treturn this.tagsList.length > 0;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t$route(newValue, oldValue) {\r\n\t\t\tthis.setTags(newValue);\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.setTags(this.$route);\r\n\t}\r\n};\r\n",{"version":3,"sources":["Tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tags.vue","sourceRoot":"src/main/common","sourcesContent":["<template>\r\n\t<div class=\"tags\" v-if=\"showTags\">\r\n\t\t<ul>\r\n\t\t\t<li class=\"tags-li\" v-for=\"(item, index) in tagsList\" :class=\"{ active: isActive(item.path) }\" :key=\"index\">\r\n\t\t\t\t<router-link :to=\"item.path\" class=\"tags-li-title\">{{ item.title }}</router-link>\r\n\t\t\t\t<span class=\"tags-li-icon\" @click=\"closeTags(index)\"><i class=\"el-icon-close\"></i></span>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class=\"tags-close-box\">\r\n\t\t\t<el-dropdown @command=\"handleTags\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\">\r\n\t\t\t\t\t标签选项\r\n\t\t\t\t\t<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-dropdown-menu size=\"small\" slot=\"dropdown\">\r\n\t\t\t\t\t<el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\r\n\t\t\t\t\t<el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\r\n\t\t\t\t</el-dropdown-menu>\r\n\t\t\t</el-dropdown>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport bus from './bus';\r\nexport default {\r\n\tname:'Tags',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttagsList: []\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tisActive(path) {\r\n\t\t\treturn path === this.$route.fullPath;\r\n\t\t},\r\n\t\t// 关闭单个标签\r\n\t\tcloseTags(index) {\r\n\t\t\tconst delItem = this.tagsList.splice(index, 1)[0];\r\n\t\t\tconst item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\r\n\t\t\tif (item) {\r\n\t\t\t\tdelItem.path === this.$route.fullPath && this.$router.push(item.path);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$router.push('/');\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 关闭全部标签\r\n\t\tcloseAll() {\r\n\t\t\tthis.tagsList = [];\r\n\t\t\tthis.$router.push('/');\r\n\t\t},\r\n\t\t// 关闭其他标签\r\n\t\tcloseOther() {\r\n\t\t\tconst curItem = this.tagsList.filter(item => {\r\n\t\t\t\treturn item.path === this.$route.fullPath;\r\n\t\t\t});\r\n\t\t\tthis.tagsList = curItem;\r\n\t\t},\r\n\t\t// 设置标签\r\n\t\tsetTags(route) {\r\n\t\t\tconst isExist = this.tagsList.some(item => {\r\n\t\t\t\treturn item.path === route.fullPath;\r\n\t\t\t});\r\n\t\t\tif (!isExist) {\r\n\t\t\t\tif (this.tagsList.length >= 8) {\r\n\t\t\t\t\tthis.tagsList.shift();\r\n\t\t\t\t}\r\n\t\t\t\tthis.tagsList.push({\r\n\t\t\t\t\ttitle: route.meta.title,\r\n\t\t\t\t\tpath: route.fullPath,\r\n\t\t\t\t\tname: route.matched[1].components.default.name\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tbus.$emit('tags', this.tagsList);\r\n\t\t},\r\n\t\thandleTags(command) {\r\n\t\t\tcommand === 'other' ? this.closeOther() : this.closeAll();\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tshowTags() {\r\n\t\t\treturn this.tagsList.length > 0;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t$route(newValue, oldValue) {\r\n\t\t\tthis.setTags(newValue);\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.setTags(this.$route);\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.tags {\r\n\tposition: relative;\r\n\theight: 30px;\r\n\toverflow: hidden;\r\n\tbackground: #fff;\r\n\tpadding-right: 120px;\r\n\tbox-shadow: 0 5px 10px #ddd;\r\n}\r\n\r\n.tags ul {\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.tags-li {\r\n\tfloat: left;\r\n\tmargin: 3px 5px 2px 3px;\r\n\tborder-radius: 3px;\r\n\tfont-size: 12px;\r\n\toverflow: hidden;\r\n\tcursor: pointer;\r\n\theight: 23px;\r\n\tline-height: 23px;\r\n\tborder: 1px solid #e9eaec;\r\n\tbackground: #fff;\r\n\tpadding: 0 5px 0 12px;\r\n\tvertical-align: middle;\r\n\tcolor: #666;\r\n\t-webkit-transition: all 0.3s ease-in;\r\n\t-moz-transition: all 0.3s ease-in;\r\n\ttransition: all 0.3s ease-in;\r\n}\r\n\r\n.tags-li:not(.active):hover {\r\n\tbackground: #f8f8f8;\r\n}\r\n\r\n.tags-li.active {\r\n\tcolor: #fff;\r\n}\r\n\r\n.tags-li-title {\r\n\tfloat: left;\r\n\tmax-width: 80px;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tmargin-right: 5px;\r\n\tcolor: #666;\r\n}\r\n\r\n.tags-li.active .tags-li-title {\r\n\tcolor: #fff;\r\n}\r\n\r\n.tags-close-box {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tbox-sizing: border-box;\r\n\tpadding-top: 1px;\r\n\ttext-align: center;\r\n\twidth: 110px;\r\n\theight: 30px;\r\n\tbackground: #fff;\r\n\tbox-shadow: -3px 0 15px 3px rgba(0, 0, 0, 0.1);\r\n\tz-index: 10;\r\n}\r\n</style>\n"]}]}