{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\servise_info_management.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\servise_info_management.vue","mtime":1597376595413},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n\tname: 'baseform',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisEdit: false,\r\n\t\t\thasC: false, // 富文本在编辑切换的时候不会改变，利用这个变量来控制他的改变\r\n\t\t\toriginForm: {},\r\n\t\t\tform: {\r\n\t\t\t\tqq: '',\r\n\t\t\t\twechat: '',\r\n\t\t\t\tid: '',\r\n\t\t\t\tgeneralNotice: '',\r\n\t\t\t\tvipNotice: '',\r\n\t\t\t\twithdrawNotice: '',\r\n\t\t\t\tearningCheats: '',\r\n\t\t\t\tnoviceDoc: '',\r\n\t\t\t\twxUnionName: '',\r\n\t\t\t\tqqGroup: '',\r\n\t\t\t\tqqGroupList: [{ qq: '', key: '' }]\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tadd() {\r\n\t\t\tthis.form.qqGroupList.push({ qq: '', key: '' });\r\n\t\t},\r\n\t\tremove() {\r\n\t\t\tif (this.form.qqGroupList.length <= 1) return;\r\n\t\t\tthis.form.qqGroupList.pop();\r\n\t\t},\r\n\t\tedit() {\r\n\t\t\tthis.isEdit = true;\r\n\t\t},\r\n\t\treset() {\r\n\t\t\tthis.isEdit = false;\r\n\t\t\tthis.form = JSON.parse(JSON.stringify(this.originForm));\r\n\t\t},\r\n\t\tasync getData() {\r\n\t\t\tlet {\r\n\t\t\t\tdata: { data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/system/service/info');\r\n\t\t\tif (data.qqGroup !== null) {\r\n\t\t\t\tdata.qqGroupList = data.qqGroup.split('/').map(item => {\r\n\t\t\t\t\tlet itemList = item.split(',');\r\n\t\t\t\t\treturn { qq: itemList[0], key: itemList[1] };\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdata.qqGroupList = [];\r\n\t\t\t}\r\n\t\t\tthis.form = JSON.parse(JSON.stringify(data));\r\n\t\t\tthis.originForm = JSON.parse(JSON.stringify(data));\r\n\t\t},\r\n\r\n\t\tasync confirm() {\r\n\t\t\tlet postData = JSON.parse(JSON.stringify(this.form));\r\n\t\t\tpostData.qqGroup = postData.qqGroupList.map(item => item.qq + ',' + item.key).join('/');\r\n\t\t\tdelete postData.qqGroupList;\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, message }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/system/service/info/update', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.$message.success(message);\r\n\t\t\t\tthis.getData();\r\n\t\t\t\tthis.isEdit = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$message.error(message);\r\n\t\t}\r\n\t}\r\n};\r\n",{"version":3,"sources":["servise_info_management.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"servise_info_management.vue","sourceRoot":"src/main/basic","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-calendar\"></i>\r\n\t\t\t\t\t客服信息管理\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form-box\" style=\"width:800px;margin: auto;\">\r\n\t\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"150px\">\r\n\t\t\t\t\t<el-form-item label=\"客服QQ号\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.qq\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.qq }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item class=\"mt20\" label-width=\"0\" v-for=\"(item, index) in form.qqGroupList\" :key=\"index\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-form-item :label=\"'联系我们qq群' + (index + 1)\"><el-input v-model=\"item.qq\" placeholder=\"请输入QQ群号\"></el-input></el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item :label=\"'QQ群' + (index + 1) + 'key值'\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<el-input v-model=\"item.key\" placeholder=\"请输入key值\"></el-input>\r\n\t\t\t\t\t\t\t\t\t<span>key值获取教程：https://www.jianshu.com/p/14bdf3884465</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<el-form-item :label=\"'联系我们qq群' + (index + 1)\">\r\n\t\t\t\t\t\t\t\t<span>{{ item.qq }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item :label=\"'QQ群' + (index + 1) + 'key值'\">\r\n\t\t\t\t\t\t\t\t<span>{{ item.key }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item v-if=\"isEdit\">\r\n\t\t\t\t\t\t<el-button type=\"info\" @click=\"remove\">删除</el-button>\r\n\t\t\t\t\t\t<el-button type=\"warning\" @click=\"add\">增加</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"客服微信\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.wechat\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.wechat }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"公众号名称\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"textarea\" v-model=\"form.wxUnionName\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.wxUnionName }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<!-- <el-form-item label=\"普通用户公告\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"textarea\" v-model=\"form.generalNotice\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.generalNotice }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"vip用户公告\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"textarea\" v-model=\"form.vipNotice\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.vipNotice }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t<el-form-item label=\"是否显示收徒排行\">\r\n\t\t\t\t\t\t<el-switch \r\n\t\t\t\t\t\t\tv-model=\"form.showApprenticeRanking\" \r\n\t\t\t\t\t\t\tactive-color=\"#4ad430\" inactive-color=\"#ccc\" \r\n\t\t\t\t\t\t\tactive-value=\"1\" \r\n\t\t\t\t\t\t\tinactive-value=\"0\"\r\n\t\t\t\t\t\t\t:disabled=\"!isEdit\">\r\n\t\t\t\t\t\t</el-switch>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"提现须知\">\r\n\t\t\t\t\t\t<div class=\"edit_container\"><tinymce :height=\"300\" :childHasChange=\"hasC\" v-model=\"form.withdrawNotice\" /></div>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"新手指南\">\r\n\t\t\t\t\t\t<div class=\"edit_container\"><tinymce :height=\"300\" :childHasChange=\"hasC\" v-model=\"form.noviceDoc\" /></div>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<!-- <el-form-item label=\"赚钱秘籍\">\r\n\t\t\t\t\t\t<div class=\"edit_container\"><tinymce :height=\"300\" :childHasChange=\"hasC\" v-model=\"form.earningCheats\" /></div>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"朋友圈解决方案\">\r\n\t\t\t\t\t\t<div class=\"edit_container\"><tinymce :height=\"300\" :childHasChange=\"hasC\" v-model=\"form.timelineSolution\" /></div>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"邀请攻略\">\r\n\t\t\t\t\t\t<div class=\"edit_container\"><tinymce :height=\"300\" :childHasChange=\"hasC\" v-model=\"form.invitationStrategy\" /></div>\r\n\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t<el-form-item style=\"display:block;text-align:center;\">\r\n\t\t\t\t\t\t<el-button v-if=\"!isEdit\" type=\"primary\" @click=\"edit\">修改</el-button>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<el-button type=\"default\" @click=\"reset\">取消</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"confirm\">确认</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'baseform',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisEdit: false,\r\n\t\t\thasC: false, // 富文本在编辑切换的时候不会改变，利用这个变量来控制他的改变\r\n\t\t\toriginForm: {},\r\n\t\t\tform: {\r\n\t\t\t\tqq: '',\r\n\t\t\t\twechat: '',\r\n\t\t\t\tid: '',\r\n\t\t\t\tgeneralNotice: '',\r\n\t\t\t\tvipNotice: '',\r\n\t\t\t\twithdrawNotice: '',\r\n\t\t\t\tearningCheats: '',\r\n\t\t\t\tnoviceDoc: '',\r\n\t\t\t\twxUnionName: '',\r\n\t\t\t\tqqGroup: '',\r\n\t\t\t\tqqGroupList: [{ qq: '', key: '' }]\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tadd() {\r\n\t\t\tthis.form.qqGroupList.push({ qq: '', key: '' });\r\n\t\t},\r\n\t\tremove() {\r\n\t\t\tif (this.form.qqGroupList.length <= 1) return;\r\n\t\t\tthis.form.qqGroupList.pop();\r\n\t\t},\r\n\t\tedit() {\r\n\t\t\tthis.isEdit = true;\r\n\t\t},\r\n\t\treset() {\r\n\t\t\tthis.isEdit = false;\r\n\t\t\tthis.form = JSON.parse(JSON.stringify(this.originForm));\r\n\t\t},\r\n\t\tasync getData() {\r\n\t\t\tlet {\r\n\t\t\t\tdata: { data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/system/service/info');\r\n\t\t\tif (data.qqGroup !== null) {\r\n\t\t\t\tdata.qqGroupList = data.qqGroup.split('/').map(item => {\r\n\t\t\t\t\tlet itemList = item.split(',');\r\n\t\t\t\t\treturn { qq: itemList[0], key: itemList[1] };\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdata.qqGroupList = [];\r\n\t\t\t}\r\n\t\t\tthis.form = JSON.parse(JSON.stringify(data));\r\n\t\t\tthis.originForm = JSON.parse(JSON.stringify(data));\r\n\t\t},\r\n\r\n\t\tasync confirm() {\r\n\t\t\tlet postData = JSON.parse(JSON.stringify(this.form));\r\n\t\t\tpostData.qqGroup = postData.qqGroupList.map(item => item.qq + ',' + item.key).join('/');\r\n\t\t\tdelete postData.qqGroupList;\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, message }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/system/service/info/update', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.$message.success(message);\r\n\t\t\t\tthis.getData();\r\n\t\t\t\tthis.isEdit = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$message.error(message);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\n<style scoped>\r\n.mt20{\r\n\tmargin-bottom: -3px;\r\n}\r\n.form-box span{\r\n\tcolor: #333;\r\n}\r\n</style>"]}]}