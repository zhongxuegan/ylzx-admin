{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\user_retention_analysis.vue?vue&type=style&index=0&id=e9ece49c&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\user_retention_analysis.vue","mtime":1597311974844},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.handle-box {\r\n\tpadding-bottom: 15px;\r\n}\r\n.handle-label {\r\n\twidth: 140px;\r\n}\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n",{"version":3,"sources":["user_retention_analysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user_retention_analysis.vue","sourceRoot":"src/main/statistics","sourcesContent":["// 用户信息\r\n<template>\r\n\t<div>\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t用户留存分析\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\tplaceholder=\"开始时间\"\r\n\t\t\t\t\tv-model=\"startCountDate\"\r\n\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t@change=\"startCountDateChange\"\r\n\t\t\t\t></el-date-picker>\r\n\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\tplaceholder=\"结束时间\"\r\n\t\t\t\t\tv-model=\"endCountDate\"\r\n\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t@change=\"endCountDateChange\"\r\n\t\t\t\t></el-date-picker>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"search\">搜索</el-button>\r\n\t\t\t</div>\r\n\t\t\t<el-table v-loading=\"tableLoading\" :data=\"dataList\" border class=\"table\" ref=\"multipleTable\">\r\n\t\t\t\t<el-table-column prop=\"countDate\" label=\"日期\" align=\"center\" width=\"100\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"userNum\" align=\"center\" label=\"新注册用户数\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"newUserJobsNum\" align=\"center\" label=\"新注册干活数\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"newUserRetentionRate\" align=\"center\" label=\"新用户留存率\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"loginCount\" align=\"center\" label=\"登录数\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"userJobsNum\" align=\"center\" label=\"干活数\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"loginCountRate\" align=\"center\" label=\"干活登录比\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"jobsIncome\" align=\"center\" label=\"干活收益\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"perIncomeRate\" label=\"人均收益\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"totalUserNum\" label=\"总注册用户数\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"userRetentionRate\" align=\"center\" label=\"留存率\"></el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"pagination\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t:current-page.sync=\"cur_page\"\r\n\t\t\t\t\t:total=\"cur_total\"\r\n\t\t\t\t></el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstatus: 1,\r\n\t\t\tuserId: null,\r\n\t\t\tparentId: null,\r\n\t\t\tpageNum: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tcur_page: 1,\r\n\t\t\tcur_size: 1,\r\n\t\t\tmobile: null,\r\n\t\t\tcur_total: 0,\r\n\t\t\ttableLoading: false,\r\n\t\t\tdataList: [],\r\n\t\t\tstartCountDate: this.dateFtt('yyyy-MM-dd', new Date(), 1),\r\n\t\t\tendCountDate: this.dateFtt('yyyy-MM-dd', new Date(), 1)\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tstartCountDateChange() {\r\n\t\t\tif (this.startCountDate > this.endCountDate) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '起始日期不得大于结束日期',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\tthis.startCountDate = this.endCountDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\tendCountDateChange() {\r\n\t\t\tif (this.startCountDate > this.endCountDate) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '结束日期不得小于起始日期',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\tthis.endCountDate = this.startCountDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsearch() {\r\n\t\t\tthis.pageNum = 1;\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.pageNum = val;\r\n\t\t\tthis.cur_page = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\r\n\t\thandleSizeChange(val) {\r\n\t\t\tthis.pageNum = 1;\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.pageSize = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\r\n\t\toperateList(list) {\r\n\t\t\tif (!Array.isArray(list)) return;\r\n\t\t\tlist.map(item => {\r\n\t\t\t\titem.dateLocal = this.$moment(item.addDate).format('YYYY-MM-DD HH:mm:ss');\r\n\t\t\t\titem.newUserRetentionRate = item.newUserRetentionRate + '%';\r\n\t\t\t\titem.userRetentionRate = item.userRetentionRate + '%';\r\n\t\t\t\titem.loginCountRate = item.loginCountRate + '%';\r\n\t\t\t});\r\n\t\t\treturn list;\r\n\t\t},\r\n\t\tasync getData() {\r\n\t\t\tlet { startCountDate, endCountDate, pageNum, pageSize } = this;\r\n\t\t\tthis.tableLoading = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tpage: pageNum,\r\n\t\t\t\tsize: pageSize,\r\n\t\t\t\tstartCountDate,\r\n\t\t\t\tendCountDate\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdata: { list, total }\r\n\t\t\t\t}\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/account/userRetentionAnalysis', postData);\r\n\t\t\tthis.tableLoading = false;\r\n\t\t\tthis.dataList = this.operateList(list);\r\n\t\t\tthis.cur_total = total;\r\n\t\t},\r\n\t\tdateFtt(fmt, date, monthNum) {\r\n\t\t\tvar o = {\r\n\t\t\t\t'M+': date.getMonth() + monthNum, //月份\r\n\t\t\t\t'd+': date.getDate(), //日\r\n\t\t\t\t'h+': date.getHours(), //小时\r\n\t\t\t\t'm+': date.getMinutes(), //分\r\n\t\t\t\t's+': date.getSeconds(), //秒\r\n\t\t\t\t'q+': Math.floor((date.getMonth() + 3) / 3), //季度\r\n\t\t\t\tS: date.getMilliseconds() //毫秒\r\n\t\t\t};\r\n\t\t\tif (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n\t\t\tfor (var k in o) if (new RegExp('(' + k + ')').test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\r\n\t\t\treturn fmt;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style scoped>\r\n.handle-box {\r\n\tpadding-bottom: 15px;\r\n}\r\n.handle-label {\r\n\twidth: 140px;\r\n}\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n</style>\n"]}]}