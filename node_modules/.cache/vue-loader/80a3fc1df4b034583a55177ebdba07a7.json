{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\add\\time_price_add.vue?vue&type=style&index=0&id=076ba3f5&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\add\\time_price_add.vue","mtime":1597311691630},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.handle-input {\r\n\twidth: 220px;\r\n}\r\n",{"version":3,"sources":["time_price_add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoMA;AACA;AACA","file":"time_price_add.vue","sourceRoot":"src/main/basic/add","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t限时提价\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>新增限时提价</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form-box\">\r\n\t\t\t\t<el-form :model=\"dataForm\" :label-width=\"formLabelWidth\" :rules=\"rules\" class=\"form--wrap\" ref=\"dataForm\">\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"开始日期\" prop=\"startDate\">\r\n\t\t\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\t\t\tv-model=\"dataForm.startDate\"\r\n\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"选择日期\"\r\n\t\t\t\t\t\t\t\t\t@change=\"startDateChange\"\r\n\t\t\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"结束日期\" prop=\"endDate\">\r\n\t\t\t\t\t\t\t\t<el-date-picker v-model=\"dataForm.endDate\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\" @change=\"endDateChange\"></el-date-picker>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t<el-divider></el-divider>\r\n\t\t\t\t\t<el-form-item label-width=\"0px\" v-for=\"(item, index) in dataForm.children\" :key=\"index\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item\r\n\t\t\t\t\t\t\t\t\tlabel=\"开始时间\"\r\n\t\t\t\t\t\t\t\t\t:prop=\"'children.' + index + '.startInterval'\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[{ required: true, message: '开始时间不能为空', trigger: 'change' }]\">\r\n\t\t\t\t\t\t\t\t\t<el-time-picker v-model=\"item.startInterval\" value-format=\"hh:mm:ss\" placeholder=\"开始时间\"></el-time-picker>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item\r\n\t\t\t\t\t\t\t\t\tlabel=\"结束时间\"\r\n\t\t\t\t\t\t\t\t\t:prop=\"'children.' + index + '.endInterval'\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[{ required: true, message: '结束时间不能为空', trigger: 'change' }]\">\r\n\t\t\t\t\t\t\t\t\t<el-time-picker v-model=\"item.endInterval\" value-format=\"hh:mm:ss\" placeholder=\"结束时间\"></el-time-picker>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"普通IP收入\" :prop=\"'children.' + index + '.incomePricePerIP'\">\r\n\t\t\t\t\t\t\t\t\t<el-input class=\"handle-input\" v-model=\"item.incomePricePerIP\" placeholder=\"普通IP收入\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"普通IP成本\" :prop=\"'children.' + index + '.costPricePerIP'\">\r\n\t\t\t\t\t\t\t\t\t<el-input class=\"handle-input\" v-model=\"item.costPricePerIP\" placeholder=\"普通IP成本\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"VIP IP收入\" :prop=\"'children.' + index + '.vipIncomePricePerIP'\">\r\n\t\t\t\t\t\t\t\t\t<el-input class=\"handle-input\" v-model=\"item.vipIncomePricePerIP\" placeholder=\"VIP IP收入\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"VIP IP成本\" :prop=\"'children.' + index + '.vipCostPricePerIP'\">\r\n\t\t\t\t\t\t\t\t\t<el-input class=\"handle-input\" v-model=\"item.vipCostPricePerIP\" placeholder=\"VIP IP成本\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button @click.prevent=\"removeTime\" type=\"warning\">删除</el-button>\r\n\t\t\t\t\t\t<el-button @click.prevent=\"addTime\" type=\"info\">新增</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button @click=\"reset\">取 消</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('dataForm')\">确 定</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'time_price_add',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tformLabelWidth: '100px',\r\n\t\t\tdataForm: {\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstartInterval: '',\r\n\t\t\t\t\t\tendInterval: '',\r\n\t\t\t\t\t\tincomePricePerIP: null,\r\n\t\t\t\t\t\tcostPricePerIP: null,\r\n\t\t\t\t\t\tvipIncomePricePerIP: null,\r\n\t\t\t\t\t\tvipCostPricePerIP: null\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\trules: {\r\n\t\t\t\tstartDate: [{ required: true, message: '开始日期不能为空', trigger: 'change' }],\r\n\t\t\t\tendDate: [{ required: true, message: '结束日期不能为空', trigger: 'change' }]\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tstartDateChange() {\r\n\t\t\tif (this.dataForm.startDate > this.dataForm.endDate) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '起始日期不得大于结束日期',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\tthis.dataForm.startDate = this.dataForm.endDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\tendDateChange() {\r\n\t\t\tif (this.dataForm.startDate > this.dataForm.endDate) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '结束日期不得小于起始日期',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\tthis.dataForm.endDate = this.dataForm.startDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\taddTime() {\r\n\t\t\tthis.dataForm.children.push({\r\n\t\t\t\tstartInterval: null,\r\n\t\t\t\tendInterval: null,\r\n\t\t\t\tincomePricePerIP: null,\r\n\t\t\t\tcostPricePerIP: null,\r\n\t\t\t\tvipIncomePricePerIP: null,\r\n\t\t\t\tvipCostPricePerIP: null\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveTime(item) {\r\n\t\t\tif (this.dataForm.children.length <= 1) return;\r\n\t\t\tthis.dataForm.children.pop();\r\n\t\t},\r\n\t\t\treset() {\r\n\t\t\tthis.$confirm('确定清空吗?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$refs['dataForm'].resetFields();\r\n\t\t\t}).catch(() => {});\r\n\t\t},\r\n\t\tsubmitForm(formName) {\r\n\t\t\tthis.$refs[formName].validate(valid => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tthis.$confirm('确定添加吗?', '提示', {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\tthis.saveAward();\r\n\t\t\t\t\t}).catch(() => {});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsaveAward() {\r\n\t\t\tlet postData = this.dataForm;\r\n\t\t\tthis.$axios\r\n\t\t\t\t.post(this.BASE_URL + `admin/timePrice/saveTimePrice?startDate=${this.dataForm.startDate}&endDate=${this.dataForm.endDate}`, this.dataForm.children)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.data.code === '200') {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$refs['dataForm'].resetFields();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存失败',\r\n\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-input {\r\n\twidth: 220px;\r\n}\r\n</style>\n"]}]}