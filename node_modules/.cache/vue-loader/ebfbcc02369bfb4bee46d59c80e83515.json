{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\user_fission_keep.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\user_fission_keep.vue","mtime":1597927932910},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { exportExcel } from '@/utils/index.js';\r\nexport default {\r\n\tname: 'user_fission_keep',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdialogVisible: false,\r\n\t\t\ttabsName: 'user_fission',\r\n\r\n\t\t\ttableLoading_fission: true,\r\n\t\t\ttableLoading_keep: true,\r\n\t\t\ttableLoading_master: false,\r\n\t\t\ttableLoading_other: true,\r\n\r\n\t\t\tfission_startDate: this.$moment().subtract(7,'days').format('YYYY-MM-DD'),\r\n\t\t\tfission_endDate: this.$moment().format('YYYY-MM-DD'),\r\n\t\t\tfission_select_userId: '',\r\n\t\t\tfission_page: 1,\r\n\t\t\tfission_size: 10,\r\n\t\t\tfissionData: [],\r\n\t\t\tfission_cur_total: 0,\r\n\t\t\tfissionDetailData: [],\r\n\r\n\t\t\tkeep_startDate: this.$moment().subtract(7,'days').format('YYYY-MM-DD'),\r\n\t\t\tkeep_endDate: this.$moment().format('YYYY-MM-DD'),\r\n\t\t\tkeep_page: 1,\r\n\t\t\tkeep_size: 10,\r\n\t\t\tkeepData: [],\r\n\t\t\tkeep_cur_total: 0,\r\n\r\n\t\t\tmaster_startDate: null,\r\n\t\t\tmaster_endDate: null,\r\n\t\t\tselectVal: 1,\r\n\t\t\tselect_inputId: '',\r\n\t\t\tmaster_page: 1,\r\n\t\t\tmaster_size: 10,\r\n\t\t\tmasterData: [],\r\n\t\t\tmaster_cur_total: 0\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tshowMsg(msg) {\r\n\t\t\tthis.$message({ message: msg, type: 'warning' });\r\n\t\t},\r\n\t\tstartDateChange(name) {\r\n\t\t\tif (name === 'user_fission') {\r\n\t\t\t\tif (this.fission_startDate > this.fission_endDate) {\r\n\t\t\t\t\tthis.showMsg('起始日期不得大于结束日期');\r\n\t\t\t\t\tthis.fission_startDate = this.fission_endDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name === 'user_keep') {\r\n\t\t\t\tif (this.keep_startDate > this.keep_endDate) {\r\n\t\t\t\t\tthis.showMsg('起始日期不得大于结束日期');\r\n\t\t\t\t\tthis.keep_startDate = this.keep_endDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name === 'master_apprentice') {\r\n\t\t\t\tif (this.master_startDate > this.master_endDate) {\r\n\t\t\t\t\tthis.showMsg('起始日期不得大于结束日期');\r\n\t\t\t\t\tthis.master_startDate = this.master_endDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tendDateChange(name) {\r\n\t\t\tif (name === 'user_fission') {\r\n\t\t\t\tif (this.fission_startDate > this.fission_endDate) {\r\n\t\t\t\t\tthis.showMsg('结束日期不得小于起始日期');\r\n\t\t\t\t\tthis.fission_endDate = this.fission_startDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name === 'user_keep') {\r\n\t\t\t\tif (this.keep_startDate > this.keep_endDate) {\r\n\t\t\t\t\tthis.showMsg('结束日期不得小于起始日期');\r\n\t\t\t\t\tthis.keep_endDate = this.keep_startDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name === 'master_apprentice') {\r\n\t\t\t\tif (this.master_startDate > this.master_endDate) {\r\n\t\t\t\t\tthis.showMsg('结束日期不得小于起始日期');\r\n\t\t\t\t\tthis.master_endDate = this.master_startDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsearch(tabName) {\r\n\t\t\tif (tabName === 'user_fission') {\r\n\t\t\t\tthis.fission_page = 1;\r\n\t\t\t\tthis.getUserFission();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'user_keep') {\r\n\t\t\t\tthis.keep_page = 1;\r\n\t\t\t\tthis.getUserKeep();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'master_apprentice') {\r\n\t\t\t\tif (this.select_inputId === '' || this.select_inputId === null) {\r\n\t\t\t\t\tthis.$message.error('请输入ID');\r\n\t\t\t\t\tthis.$refs['select_inputId'].focus();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.master_page = 1;\r\n\t\t\t\tthis.getMasterApprentice();\r\n\t\t\t}\r\n\t\t},\r\n\t\texportExcel(tabName) {\r\n\t\t\t// let header = [],\r\n\t\t\t// \tfilterVal = [],\r\n\t\t\t// \tdata = [];\r\n\t\t\t// if (tabName === 'user_fission') {\r\n\t\t\t// \tfilterVal = [\r\n\t\t\t// \t\t'userId', 'state', 'prenticeNum', 'grandsonNum',\r\n\t\t\t// \t\t'towFissionNum', 'prenticBannedNum', 'grandsonBannedNum',\r\n\t\t\t// \t\t'prenticArticleIp', 'prenticAdPv', 'prenticAdPvRate',\r\n\t\t\t// \t\t'grandsonArticleId', 'grandsonAdPv', 'grandsonAdPvRate'\r\n\t\t\t// \t];\r\n\t\t\t// \theader = [\r\n\t\t\t// \t\t'用户ID', '用户状态', '徒弟数量', '徒孙数量', '二次裂变系数',\r\n\t\t\t// \t\t'徒弟封禁数', '徒孙封禁数', '徒弟文章IP量', '徒弟广告PV量',\r\n\t\t\t// \t\t'徒弟广告点击率', '徒孙文章IP量', '徒孙广告PV量', '徒弟广告点击率'\r\n\t\t\t// \t];\r\n\t\t\t// \tdata = this.fissionData;\r\n\t\t\t// }\r\n\t\t\t// if (tabName === 'user_keep') { return; }\r\n\t\t\t// if (tabName === 'master_apprentice') { return; }\r\n\t\t\t// exportExcel({\r\n\t\t\t// \theader,\r\n\t\t\t// \tdata,\r\n\t\t\t// \tfilterVal,\r\n\t\t\t// \tfilename: '玉龙资讯'\r\n\t\t\t// });\r\n\t\t},\r\n\t\tlookDetail(row) {\r\n\t\t\tthis.tableLoading_other = true;\r\n\t\t\tthis.getfissionDetail(row.userId);\r\n\t\t},\r\n\t\tformatDetailData(userId, oldData) {\r\n\t\t\tif (oldData.length <= 0) return oldData;\r\n\t\t\tlet newData = [];\r\n\t\t\tlet obj = { other0: userId };\r\n\t\t\toldData.forEach((item, index) => {\r\n\t\t\t\tobj['other' + (index + 1)] = item;\r\n\t\t\t});\r\n\t\t\tnewData.push(obj);\r\n\t\t\treturn newData;\r\n\t\t},\r\n\t\tasync getfissionDetail(userId) {\r\n\t\t\tlet postData = { userId };\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/user/otherFissionDetails', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.fissionDetailData = this.formatDetailData(userId, data);\r\n\t\t\t\tthis.tableLoading_other = false;\r\n\t\t\t}\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.dialogVisible = true;\r\n\t\t\t});\r\n\t\t},\r\n\t\t//  当前页\r\n\t\thandleCurrentChange(val, tabName) {\r\n\t\t\tif (tabName === 'user_fission') {\r\n\t\t\t\tthis.fission_page = val;\r\n\t\t\t\tthis.getUserFission();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'user_keep') {\r\n\t\t\t\tthis.keep_page = val;\r\n\t\t\t\tthis.getUserKeep();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'master_apprentice') {\r\n\t\t\t\tthis.master_page = val;\r\n\t\t\t\tthis.getMasterApprentice();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 每页条数\r\n\t\thandleSizeChange(val, tabName) {\r\n\t\t\tif (tabName === 'user_fission') {\r\n\t\t\t\tthis.fission_size = val;\r\n\t\t\t\tthis.getUserFission();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'user_keep') {\r\n\t\t\t\tthis.keep_size = val;\r\n\t\t\t\tthis.getUserKeep();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'master_apprentice') {\r\n\t\t\t\tthis.master_size = val;\r\n\t\t\t\tthis.getMasterApprentice();\r\n\t\t\t}\r\n\t\t},\r\n\t\tstateFormat(row, column, cellValue, index) {\r\n\t\t\tconst list = ['禁用', '正常', '异常'];\r\n\t\t\treturn list[cellValue];\r\n\t\t},\r\n\t\trelationShipFormat(row, column, cellValue, index) {\r\n\t\t\tif (cellValue === null) return '——';\r\n\t\t\tconst list = ['徒孙...', '徒孙', '徒弟', '师父', '师爷', '师爷...'];\r\n\t\t\treturn list[cellValue - 1];\r\n\t\t},\r\n\t\tasync getUserFission() {\r\n\t\t\tthis.tableLoading_fission = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tstartDate: this.fission_startDate,\r\n\t\t\t\tendDate: this.fission_endDate,\r\n\t\t\t\tuserId: this.fission_select_userId,\r\n\t\t\t\tpage: this.fission_page,\r\n\t\t\t\tsize: this.fission_size\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/user/fissionStatistics', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.fissionData = data.list;\r\n\t\t\t\tthis.fission_cur_total = data.total;\r\n\t\t\t\tthis.tableLoading_fission = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getUserKeep() {\r\n\t\t\tthis.tableLoading_keep = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tstartDate: this.keep_startDate,\r\n\t\t\t\tendDate: this.keep_endDate,\r\n\t\t\t\tpage: this.keep_page,\r\n\t\t\t\tsize: this.keep_size\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data, message }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/statistics/userRetentionAnalysis', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.keepData = data.list;\r\n\t\t\t\tthis.keep_cur_total = data.total;\r\n\t\t\t\tthis.tableLoading_keep = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getMasterApprentice() {\r\n\t\t\tthis.tableLoading_master = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tstartDate: this.master_startDate,\r\n\t\t\t\tendDate: this.master_endDate,\r\n\t\t\t\tparentUserIdType: this.selectVal,\r\n\t\t\t\tuserId: this.select_inputId,\r\n\t\t\t\tpage: this.master_page,\r\n\t\t\t\tsize: this.master_size\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\t// 查询 如果 用户不存在 返回的是400  try catch 捕获promise.reject()\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata: { code, data }\r\n\t\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/user/relationshipStatistics', postData);\r\n\t\t\t\tif (code === '200') {\r\n\t\t\t\t\tthis.masterData = data.list;\r\n\t\t\t\t\tthis.master_cur_total = data.total;\r\n\t\t\t\t\tthis.tableLoading_master = false;\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// 清空数据 关闭加载动画\r\n\t\t\t\tthis.masterData = [];\r\n\t\t\t\tthis.master_cur_total = 0;\r\n\t\t\t\tthis.tableLoading_master = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getUserFission();\r\n\t\tthis.getUserKeep();\r\n\t}\r\n};\r\n",{"version":3,"sources":["user_fission_keep.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoMA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user_fission_keep.vue","sourceRoot":"src/main/statistics","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t用户裂变留存\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<el-tabs v-model=\"tabsName\">\r\n\t\t\t\t<el-tab-pane label=\"用户裂变\" name=\"user_fission\">\r\n\t\t\t\t\t<div class=\"search\">\r\n\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tplaceholder=\"开始时间\"\r\n\t\t\t\t\t\t\tv-model=\"fission_startDate\"\r\n\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t@change=\"startDateChange('user_fission')\"\r\n\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tplaceholder=\"结束时间\"\r\n\t\t\t\t\t\t\tv-model=\"fission_endDate\"\r\n\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t@change=\"endDateChange('user_fission')\"\r\n\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t<el-input v-model=\"fission_select_userId\" clearable placeholder=\"用户ID\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"search('user_fission')\">搜索</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"exportExcel('user_fission')\">导出</el-button>\r\n\t\t\t\t\t\t<span class=\"font-class\">默认展示近7天的数据</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<el-table v-loading=\"tableLoading_fission\" :data=\"fissionData\" border class=\"table\" ref=\"multipleTable\">\r\n\t\t\t\t\t\t<el-table-column prop=\"userId\" label=\"用户ID\" align=\"center\" sortable fixed></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"state\" label=\"用户状态\" :formatter=\"stateFormat\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"prenticeNum\" label=\"徒弟数量\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"grandsonNum\" label=\"徒孙数量\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column label=\"其他裂变\" align=\"center\" width=\"120\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"lookDetail(scope.row)\">查看详情</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"towFissionNum\" label=\"二次裂变系数\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"prenticBannedNum\" label=\"徒弟封禁数\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"grandsonBannedNum\" label=\"徒孙封禁数\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"prenticArticleIp\" label=\"徒弟文章IP量\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"prenticAdPv\" label=\"徒弟广告PV量\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"prenticAdPvRate\" label=\"徒弟广告点击率\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"grandsonArticleId\" label=\"徒孙文章IP量\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"grandsonAdPv\" label=\"徒孙广告PV量\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"grandsonAdPvRate\" label=\"徒孙广告点击率\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t\t<div class=\"pagination\">\r\n\t\t\t\t\t\t<el-pagination\r\n\t\t\t\t\t\t\tbackground\r\n\t\t\t\t\t\t\t@current-change=\"handleCurrentChange($event, 'user_fission')\"\r\n\t\t\t\t\t\t\t@size-change=\"handleSizeChange($event, 'user_fission')\"\r\n\t\t\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t\t\t:current-page.sync=\"fission_page\"\r\n\t\t\t\t\t\t\t:total=\"fission_cur_total\"\r\n\t\t\t\t\t\t></el-pagination>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-tab-pane>\r\n\r\n\t\t\t\t<el-tab-pane label=\"用户留存\" name=\"user_keep\">\r\n\t\t\t\t\t<div class=\"search\">\r\n\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tplaceholder=\"开始时间\"\r\n\t\t\t\t\t\t\tv-model=\"keep_startDate\"\r\n\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t@change=\"startDateChange('user_keep')\"\r\n\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tplaceholder=\"结束时间\"\r\n\t\t\t\t\t\t\tv-model=\"keep_endDate\"\r\n\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t@change=\"endDateChange('user_keep')\"\r\n\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"search('user_keep')\">搜索</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"exportExcel('user_keep')\">导出</el-button>\r\n\t\t\t\t\t\t<span class=\"font-class\">默认展示近7天的数据</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<el-table v-loading=\"tableLoading_keep\" :data=\"keepData\" border class=\"table\" ref=\"multipleTable\">\r\n\t\t\t\t\t\t<el-table-column prop=\"countDate\" label=\"日期\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"totalUserNum\" label=\"用户量\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"loginCount\" label=\"登录人数\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"userJobsNum\" label=\"干活人数\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"loginCountRate\" label=\"干活登录比\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"userNum\" label=\"新增用户数\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"newUserJobsNum\" label=\"新增干活数\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"oneDayUserRetention\" label=\"1日后干活留存\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"threeDayUserRetention\" label=\"3日后干活留存\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"sevenDayUserRetention\" label=\"7日后干活留存\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t\t<div class=\"pagination\">\r\n\t\t\t\t\t\t<el-pagination\r\n\t\t\t\t\t\t\tbackground\r\n\t\t\t\t\t\t\t@current-change=\"handleCurrentChange($event, 'user_keep')\"\r\n\t\t\t\t\t\t\t@size-change=\"handleSizeChange($event, 'user_keep')\"\r\n\t\t\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t\t\t:current-page.sync=\"keep_page\"\r\n\t\t\t\t\t\t\t:total=\"keep_cur_total\"\r\n\t\t\t\t\t\t></el-pagination>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-tab-pane>\r\n\r\n\t\t\t\t<el-tab-pane label=\"师徒关系查询\" name=\"master_apprentice\">\r\n\t\t\t\t\t<div class=\"search\">\r\n\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tplaceholder=\"开始时间\"\r\n\t\t\t\t\t\t\tv-model=\"master_startDate\"\r\n\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t@change=\"startDateChange('master_apprentice')\"\r\n\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\tplaceholder=\"结束时间\"\r\n\t\t\t\t\t\t\tv-model=\"master_endDate\"\r\n\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t@change=\"endDateChange('master_apprentice')\"\r\n\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t<el-select v-model=\"selectVal\" placeholder=\"请选择\" class=\"handle-input mr10 handle-select\">\r\n\t\t\t\t\t\t\t<el-option label=\"师傅ID\" :value=\"1\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"徒弟ID\" :value=\"2\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"徒孙ID\" :value=\"3\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t<el-input v-model.number=\"select_inputId\" ref=\"select_inputId\" clearable placeholder=\"输入ID\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"search('master_apprentice')\">搜索</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"exportExcel('master_apprentice')\">导出</el-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<el-table v-loading=\"tableLoading_master\" :data=\"masterData\" border class=\"table\" ref=\"multipleTable\">\r\n\t\t\t\t\t\t<el-table-column prop=\"userId\" label=\"ID\" align=\"center\" sortable fixed></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"relationship\" label=\"师徒关系\" :formatter=\"relationShipFormat\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"state\" label=\"状态\" :formatter=\"stateFormat\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"articleIp\" label=\"总文章IP\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"payIp\" label=\"总支付IP\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"adPv\" label=\"总广告PV\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"adIp\" label=\"总广告IP\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"adPvRate\" label=\"广告点击率\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"payMoney\" label=\"支付金额\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t\t<div class=\"pagination\">\r\n\t\t\t\t\t\t<el-pagination\r\n\t\t\t\t\t\t\tbackground\r\n\t\t\t\t\t\t\t@current-change=\"handleCurrentChange($event, 'master_apprentice')\"\r\n\t\t\t\t\t\t\t@size-change=\"handleSizeChange($event, 'master_apprentice')\"\r\n\t\t\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t\t\t:current-page.sync=\"master_page\"\r\n\t\t\t\t\t\t\t:total=\"master_cur_total\"\r\n\t\t\t\t\t\t></el-pagination>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t</el-tabs>\r\n\t\t</div>\r\n\r\n\t\t<!-- 详情列表 -->\r\n\t\t<el-dialog title=\"其他裂变\" :validate-on-rule-change=\"false\" :visible.sync=\"dialogVisible\" width=\"70%\">\r\n\t\t\t<el-table v-loading=\"tableLoading_other\" :data=\"fissionDetailData\" border class=\"table\" ref=\"multipleTable\">\r\n\t\t\t\t<el-table-column\r\n\t\t\t\t\tv-for=\"(value, key, index) in fissionDetailData[0]\"\r\n\t\t\t\t\t:key=\"key\"\r\n\t\t\t\t\t:prop=\"key\"\r\n\t\t\t\t\t:label=\"index === 0 ? '用户ID' : index === 1 ? '徒弟（1级）' : index === 2 ? '徒孙（2级）' : index + '级'\"\r\n\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\tsortable\r\n\t\t\t\t\tfixed\r\n\t\t\t\t></el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\"><el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button></span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { exportExcel } from '@/utils/index.js';\r\nexport default {\r\n\tname: 'user_fission_keep',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdialogVisible: false,\r\n\t\t\ttabsName: 'user_fission',\r\n\r\n\t\t\ttableLoading_fission: true,\r\n\t\t\ttableLoading_keep: true,\r\n\t\t\ttableLoading_master: false,\r\n\t\t\ttableLoading_other: true,\r\n\r\n\t\t\tfission_startDate: this.$moment().subtract(7,'days').format('YYYY-MM-DD'),\r\n\t\t\tfission_endDate: this.$moment().format('YYYY-MM-DD'),\r\n\t\t\tfission_select_userId: '',\r\n\t\t\tfission_page: 1,\r\n\t\t\tfission_size: 10,\r\n\t\t\tfissionData: [],\r\n\t\t\tfission_cur_total: 0,\r\n\t\t\tfissionDetailData: [],\r\n\r\n\t\t\tkeep_startDate: this.$moment().subtract(7,'days').format('YYYY-MM-DD'),\r\n\t\t\tkeep_endDate: this.$moment().format('YYYY-MM-DD'),\r\n\t\t\tkeep_page: 1,\r\n\t\t\tkeep_size: 10,\r\n\t\t\tkeepData: [],\r\n\t\t\tkeep_cur_total: 0,\r\n\r\n\t\t\tmaster_startDate: null,\r\n\t\t\tmaster_endDate: null,\r\n\t\t\tselectVal: 1,\r\n\t\t\tselect_inputId: '',\r\n\t\t\tmaster_page: 1,\r\n\t\t\tmaster_size: 10,\r\n\t\t\tmasterData: [],\r\n\t\t\tmaster_cur_total: 0\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tshowMsg(msg) {\r\n\t\t\tthis.$message({ message: msg, type: 'warning' });\r\n\t\t},\r\n\t\tstartDateChange(name) {\r\n\t\t\tif (name === 'user_fission') {\r\n\t\t\t\tif (this.fission_startDate > this.fission_endDate) {\r\n\t\t\t\t\tthis.showMsg('起始日期不得大于结束日期');\r\n\t\t\t\t\tthis.fission_startDate = this.fission_endDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name === 'user_keep') {\r\n\t\t\t\tif (this.keep_startDate > this.keep_endDate) {\r\n\t\t\t\t\tthis.showMsg('起始日期不得大于结束日期');\r\n\t\t\t\t\tthis.keep_startDate = this.keep_endDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name === 'master_apprentice') {\r\n\t\t\t\tif (this.master_startDate > this.master_endDate) {\r\n\t\t\t\t\tthis.showMsg('起始日期不得大于结束日期');\r\n\t\t\t\t\tthis.master_startDate = this.master_endDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tendDateChange(name) {\r\n\t\t\tif (name === 'user_fission') {\r\n\t\t\t\tif (this.fission_startDate > this.fission_endDate) {\r\n\t\t\t\t\tthis.showMsg('结束日期不得小于起始日期');\r\n\t\t\t\t\tthis.fission_endDate = this.fission_startDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name === 'user_keep') {\r\n\t\t\t\tif (this.keep_startDate > this.keep_endDate) {\r\n\t\t\t\t\tthis.showMsg('结束日期不得小于起始日期');\r\n\t\t\t\t\tthis.keep_endDate = this.keep_startDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name === 'master_apprentice') {\r\n\t\t\t\tif (this.master_startDate > this.master_endDate) {\r\n\t\t\t\t\tthis.showMsg('结束日期不得小于起始日期');\r\n\t\t\t\t\tthis.master_endDate = this.master_startDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsearch(tabName) {\r\n\t\t\tif (tabName === 'user_fission') {\r\n\t\t\t\tthis.fission_page = 1;\r\n\t\t\t\tthis.getUserFission();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'user_keep') {\r\n\t\t\t\tthis.keep_page = 1;\r\n\t\t\t\tthis.getUserKeep();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'master_apprentice') {\r\n\t\t\t\tif (this.select_inputId === '' || this.select_inputId === null) {\r\n\t\t\t\t\tthis.$message.error('请输入ID');\r\n\t\t\t\t\tthis.$refs['select_inputId'].focus();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.master_page = 1;\r\n\t\t\t\tthis.getMasterApprentice();\r\n\t\t\t}\r\n\t\t},\r\n\t\texportExcel(tabName) {\r\n\t\t\t// let header = [],\r\n\t\t\t// \tfilterVal = [],\r\n\t\t\t// \tdata = [];\r\n\t\t\t// if (tabName === 'user_fission') {\r\n\t\t\t// \tfilterVal = [\r\n\t\t\t// \t\t'userId', 'state', 'prenticeNum', 'grandsonNum',\r\n\t\t\t// \t\t'towFissionNum', 'prenticBannedNum', 'grandsonBannedNum',\r\n\t\t\t// \t\t'prenticArticleIp', 'prenticAdPv', 'prenticAdPvRate',\r\n\t\t\t// \t\t'grandsonArticleId', 'grandsonAdPv', 'grandsonAdPvRate'\r\n\t\t\t// \t];\r\n\t\t\t// \theader = [\r\n\t\t\t// \t\t'用户ID', '用户状态', '徒弟数量', '徒孙数量', '二次裂变系数',\r\n\t\t\t// \t\t'徒弟封禁数', '徒孙封禁数', '徒弟文章IP量', '徒弟广告PV量',\r\n\t\t\t// \t\t'徒弟广告点击率', '徒孙文章IP量', '徒孙广告PV量', '徒弟广告点击率'\r\n\t\t\t// \t];\r\n\t\t\t// \tdata = this.fissionData;\r\n\t\t\t// }\r\n\t\t\t// if (tabName === 'user_keep') { return; }\r\n\t\t\t// if (tabName === 'master_apprentice') { return; }\r\n\t\t\t// exportExcel({\r\n\t\t\t// \theader,\r\n\t\t\t// \tdata,\r\n\t\t\t// \tfilterVal,\r\n\t\t\t// \tfilename: '玉龙资讯'\r\n\t\t\t// });\r\n\t\t},\r\n\t\tlookDetail(row) {\r\n\t\t\tthis.tableLoading_other = true;\r\n\t\t\tthis.getfissionDetail(row.userId);\r\n\t\t},\r\n\t\tformatDetailData(userId, oldData) {\r\n\t\t\tif (oldData.length <= 0) return oldData;\r\n\t\t\tlet newData = [];\r\n\t\t\tlet obj = { other0: userId };\r\n\t\t\toldData.forEach((item, index) => {\r\n\t\t\t\tobj['other' + (index + 1)] = item;\r\n\t\t\t});\r\n\t\t\tnewData.push(obj);\r\n\t\t\treturn newData;\r\n\t\t},\r\n\t\tasync getfissionDetail(userId) {\r\n\t\t\tlet postData = { userId };\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/user/otherFissionDetails', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.fissionDetailData = this.formatDetailData(userId, data);\r\n\t\t\t\tthis.tableLoading_other = false;\r\n\t\t\t}\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.dialogVisible = true;\r\n\t\t\t});\r\n\t\t},\r\n\t\t//  当前页\r\n\t\thandleCurrentChange(val, tabName) {\r\n\t\t\tif (tabName === 'user_fission') {\r\n\t\t\t\tthis.fission_page = val;\r\n\t\t\t\tthis.getUserFission();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'user_keep') {\r\n\t\t\t\tthis.keep_page = val;\r\n\t\t\t\tthis.getUserKeep();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'master_apprentice') {\r\n\t\t\t\tthis.master_page = val;\r\n\t\t\t\tthis.getMasterApprentice();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 每页条数\r\n\t\thandleSizeChange(val, tabName) {\r\n\t\t\tif (tabName === 'user_fission') {\r\n\t\t\t\tthis.fission_size = val;\r\n\t\t\t\tthis.getUserFission();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'user_keep') {\r\n\t\t\t\tthis.keep_size = val;\r\n\t\t\t\tthis.getUserKeep();\r\n\t\t\t}\r\n\t\t\tif (tabName === 'master_apprentice') {\r\n\t\t\t\tthis.master_size = val;\r\n\t\t\t\tthis.getMasterApprentice();\r\n\t\t\t}\r\n\t\t},\r\n\t\tstateFormat(row, column, cellValue, index) {\r\n\t\t\tconst list = ['禁用', '正常', '异常'];\r\n\t\t\treturn list[cellValue];\r\n\t\t},\r\n\t\trelationShipFormat(row, column, cellValue, index) {\r\n\t\t\tif (cellValue === null) return '——';\r\n\t\t\tconst list = ['徒孙...', '徒孙', '徒弟', '师父', '师爷', '师爷...'];\r\n\t\t\treturn list[cellValue - 1];\r\n\t\t},\r\n\t\tasync getUserFission() {\r\n\t\t\tthis.tableLoading_fission = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tstartDate: this.fission_startDate,\r\n\t\t\t\tendDate: this.fission_endDate,\r\n\t\t\t\tuserId: this.fission_select_userId,\r\n\t\t\t\tpage: this.fission_page,\r\n\t\t\t\tsize: this.fission_size\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/user/fissionStatistics', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.fissionData = data.list;\r\n\t\t\t\tthis.fission_cur_total = data.total;\r\n\t\t\t\tthis.tableLoading_fission = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getUserKeep() {\r\n\t\t\tthis.tableLoading_keep = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tstartDate: this.keep_startDate,\r\n\t\t\t\tendDate: this.keep_endDate,\r\n\t\t\t\tpage: this.keep_page,\r\n\t\t\t\tsize: this.keep_size\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data, message }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/statistics/userRetentionAnalysis', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.keepData = data.list;\r\n\t\t\t\tthis.keep_cur_total = data.total;\r\n\t\t\t\tthis.tableLoading_keep = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getMasterApprentice() {\r\n\t\t\tthis.tableLoading_master = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tstartDate: this.master_startDate,\r\n\t\t\t\tendDate: this.master_endDate,\r\n\t\t\t\tparentUserIdType: this.selectVal,\r\n\t\t\t\tuserId: this.select_inputId,\r\n\t\t\t\tpage: this.master_page,\r\n\t\t\t\tsize: this.master_size\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\t// 查询 如果 用户不存在 返回的是400  try catch 捕获promise.reject()\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata: { code, data }\r\n\t\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/user/relationshipStatistics', postData);\r\n\t\t\t\tif (code === '200') {\r\n\t\t\t\t\tthis.masterData = data.list;\r\n\t\t\t\t\tthis.master_cur_total = data.total;\r\n\t\t\t\t\tthis.tableLoading_master = false;\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// 清空数据 关闭加载动画\r\n\t\t\t\tthis.masterData = [];\r\n\t\t\t\tthis.master_cur_total = 0;\r\n\t\t\t\tthis.tableLoading_master = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getUserFission();\r\n\t\tthis.getUserKeep();\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n.tabs {\r\n\tmargin-top: 10px;\r\n}\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.handle-select {\r\n\twidth: 100px;\r\n}\r\n.search {\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: 10px;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n</style>\n"]}]}