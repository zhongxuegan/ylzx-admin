{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\domain_pool_management.vue?vue&type=style&index=0&id=3c2884d9&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\domain_pool_management.vue","mtime":1597905093378},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.handle-box {\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.handle-select {\r\n\twidth: 180px;\r\n}\r\n\r\n.handle-label {\r\n\twidth: 172px;\r\n}\r\n.handle-input {\r\n\twidth: 180px;\r\n\tdisplay: inline-block;\r\n}\r\n.del-dialog-cnt {\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n.table {\r\n\twidth: 100%;\r\n\tfont-size: 14px;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n.row {\r\n\tmargin-bottom: 10px;\r\n\tmargin-right: 10px;\r\n}\r\n.domain-title {\r\n\tmargin-bottom: 20px;\r\n}\r\n.domain-body {\r\n\tcolor: #303133;\r\n}\r\n.handle-input-padding {\r\n\tdisplay: inline-block;\r\n\twidth: 100px;\r\n\tmargin: 0 10px 0 10px;\r\n}\r\n.bgDiv {\r\n\tbackground-color: rgb(242, 242, 242);\r\n\tpadding:10px;\r\n}\r\n.ml10 {\r\n\tmargin-left: 10px;\r\n}\r\n",{"version":3,"sources":["domain_pool_management.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAo7BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"domain_pool_management.vue","sourceRoot":"src/main/basic","sourcesContent":["<template>\r\n\t<div class=\"table\">\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t域名池管理/设置\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<el-tabs v-model=\"tabName\">\r\n\t\t\t\t<el-tab-pane label=\"域名池管理\" name=\"manager\">\r\n\t\t\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"添加开始日期\"\r\n\t\t\t\t\t\t\t\tv-model=\"start_date\"\r\n\t\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"添加结束日期\"\r\n\t\t\t\t\t\t\t\tv-model=\"end_date\"\r\n\t\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\"\r\n\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"冻结开始日期\"\r\n\t\t\t\t\t\t\t\tv-model=\"startFreezeTime\"\r\n\t\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\"\r\n\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"冻结结束日期\"\r\n\t\t\t\t\t\t\t\tv-model=\"endFreezeTime\"\r\n\t\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" icon=\"search\" @click=\"search\">搜索</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" icon=\"delete\" class=\"handle-del mr10\" @click=\"reset_condition\">重置筛选</el-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\"\r\n\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"解冻开始日期\"\r\n\t\t\t\t\t\t\t\tv-model=\"startRecoverTime\"\r\n\t\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\"\r\n\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"解冻结束日期\"\r\n\t\t\t\t\t\t\t\tv-model=\"endRecoverTime\"\r\n\t\t\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t\t<el-input v-model=\"domain_input\" placeholder=\"域名筛选\" clearable class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t\t\t<el-input v-model=\"searchUserId\" placeholder=\"用户ID\" clearable class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"classCode_select\" clearable placeholder=\"所属分类\" class=\"handle-select mr10\" @change=\"search\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in classNameOption\" :key=\"item.code\" :label=\"item.className\" :value=\"item.code\">\r\n\t\t\t\t\t\t\t\t\t<span style=\"float: left\">{{ item.className }}</span>\r\n\t\t\t\t\t\t\t\t\t<span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.code }}</span>\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t\t<el-select v-model=\"wxStatus_select\" clearable placeholder=\"封杀状态\" class=\"handle-select mr10\" @change=\"search\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in wxStatusOptions\" :key=\"item.value\" :label=\"item.lable\" :value=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t<span style=\"float: left\">{{ item.lable }}</span>\r\n\t\t\t\t\t\t\t\t\t<span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.value }}</span>\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t\t<el-select v-model=\"beianStatus_select\" clearable placeholder=\"备案状态\" class=\"handle-select mr10\" @change=\"search\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in beianStatusOptions\" :key=\"item.value\" :label=\"item.lable\" :value=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t<span style=\"float: left\">{{ item.lable }}</span>\r\n\t\t\t\t\t\t\t\t\t<span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.value }}</span>\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t\t<el-select v-model=\"enable_select\" clearable placeholder=\"启用状态\" class=\"handle-select mr10\" @change=\"search\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in enableOptions\" :key=\"item.value\" :label=\"item.lable\" :value=\"item.value\">\r\n\t\t\t\t\t\t\t\t\t<span style=\"float: left\">{{ item.lable }}</span>\r\n\t\t\t\t\t\t\t\t\t<span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.value }}</span>\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"handleEdit('', '')\">新增域名</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"showUpdateDialog\">批量更新</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" icon=\"delete\" class=\"handle-del mr10\" @click=\"delAll\">批量删除</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"showBatchVipDomain\">批量删除大户域名</el-button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<el-table :data=\"tableData\" v-loading=\"tableLoading\" border class=\"table\" ref=\"multipleTable\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"id\" label=\"ID\" align=\"center\" width=\"80\" fixed></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"domain\" label=\"域名\" align=\"center\" width=\"150\" fixed></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"userId\" label=\"用户ID\" align=\"center\" width=\"150\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"className\" label=\"域名分类\" align=\"center\" width=\"120\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"beianStatus\" label=\"备案状态\" align=\"center\" :formatter=\"formatterBeianStatus\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"enable\" label=\"启用状态\" align=\"center\" :formatter=\"formatterEnable\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"wxStatus\" label=\"封杀状态\" align=\"center\" width=\"80\" :formatter=\"formatterWxStatus\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"addDate\" label=\"添加时间\" width=\"120\" align=\"center\" :formatter=\"formatterAddDate\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"freezeTime\" label=\"冻结时间\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"recoverTime\" label=\"解冻时间\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"freezeCount\" label=\"冻结次数\" align=\"center\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-link type=\"primary\" @click=\"lookBanTimes(scope.row)\">{{ scope.row.freezeCount }}</el-link>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"banDate\" label=\"封杀时间\" align=\"center\" :formatter=\"formatterBanDate\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"pvCount\" label=\"访问PV数\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"ipCount\" label=\"访问IP数\" align=\"center\"></el-table-column>\r\n\t\t\t\t\t\t<el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" v-bind:disabled=\"scope.row.rowEditEnable\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t\t<div class=\"pagination\">\r\n\t\t\t\t\t\t<el-pagination\r\n\t\t\t\t\t\t\tbackground\r\n\t\t\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t\t\t\t:current-page.sync=\"currentPage\"\r\n\t\t\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t\t\t:total=\"cur_total\"\r\n\t\t\t\t\t\t></el-pagination>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<el-tab-pane label=\"域名池设置\" name=\"set\">\r\n\t\t\t\t\t<div class=\"domain-title\">\r\n\t\t\t\t\t\t<div class=\"domain-title\">域名防封策略设置</div>\r\n\t\t\t\t\t\t<div class=\"domain-body\">\r\n\t\t\t\t\t\t\t<el-radio-group v-model=\"domainPattern\">\r\n\t\t\t\t\t\t\t\t<span v-for=\"(item, index) in preventSealList\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<br v-if=\"index % 3 == 0\" />\r\n\t\t\t\t\t\t\t\t\t<el-radio class=\"row\" :label=\"item.val\" border>{{ item.name }}</el-radio>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t\t\t\t<div><el-button type=\"primary\" @click=\"saveDomainPattern\">保存</el-button></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"domain-title\">\r\n\t\t\t\t\t\t<div class=\"domain-title\">域名防封阈值设置</div>\r\n\t\t\t\t\t\t<div class=\"domain-body\">\r\n\t\t\t\t\t\t\t<div class=\"bgDiv\">\r\n\t\t\t\t\t\t\t\t<span>最近</span>\r\n\t\t\t\t\t\t\t\t<el-input class=\"handle-input-padding\" value=\"24\" readonly></el-input>\r\n\t\t\t\t\t\t\t\t<span>小时内，IP访问超</span>\r\n\t\t\t\t\t\t\t\t<el-input class=\"handle-input-padding\" value=\"10000\" readonly></el-input>\r\n\t\t\t\t\t\t\t\t<span>则域名冻结，</span>\r\n\t\t\t\t\t\t\t\t<el-input class=\"handle-input-padding\" value=\"240\" readonly></el-input>\r\n\t\t\t\t\t\t\t\t<span>小时后解除冻结，重新启用</span>\r\n\t\t\t\t\t\t\t\t<p>某个域名最近24小时内，有10000IP访问，则该域名冻结，240小时后解除冻结，重新启用。</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<el-form style=\"margin-top: 10px;\" ref=\"domainForm\" :model=\"domainForm\">\r\n\t\t\t\t\t\t\t\t<el-form-item v-for=\"(item, index) in domainForm.domainFreezeConfig\" :key=\"index + '0'\">\r\n\t\t\t\t\t\t\t\t\t<span>最近</span>\r\n\t\t\t\t\t\t\t\t\t<el-form-item \r\n\t\t\t\t\t\t\t\t\t\tclass=\"handle-input-padding\" \r\n\t\t\t\t\t\t\t\t\t\t:prop=\"'domainFreezeConfig.'+index+'.checkTime'\"\r\n\t\t\t\t\t\t\t\t\t\t:rules=\"[{ required:true,message:'请输入时间',trigger:'blur' }]\">\r\n\t\t\t\t\t\t\t\t\t\t<el-input :readonly=\"item.isEdit\" v-model.number=\"item.checkTime\" placeholder=\"请输入时间\"></el-input>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<span>小时内，IP访问超</span>\r\n\t\t\t\t\t\t\t\t\t<el-form-item \r\n\t\t\t\t\t\t\t\t\t\tclass=\"handle-input-padding\" \r\n\t\t\t\t\t\t\t\t\t\t:prop=\"'domainFreezeConfig.'+index+'.visitThreshold'\"\r\n\t\t\t\t\t\t\t\t\t\t:rules=\"[{ required:true,message:'请输入IP量',trigger:'blur' }]\">\r\n\t\t\t\t\t\t\t\t\t\t<el-input :readonly=\"item.isEdit\" v-model.number=\"item.visitThreshold\" placeholder=\"请输入IP量\"></el-input>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<span>则域名冻结，</span>\r\n\t\t\t\t\t\t\t\t\t<el-form-item \r\n\t\t\t\t\t\t\t\t\t\tclass=\"handle-input-padding\" \r\n\t\t\t\t\t\t\t\t\t\t:prop=\"'domainFreezeConfig.'+index+'.recoverTime'\"\r\n\t\t\t\t\t\t\t\t\t\t:rules=\"[{ required:true,message:'请输入时间',trigger:'blur' }]\">\r\n\t\t\t\t\t\t\t\t\t\t<el-input :readonly=\"item.isEdit\" v-model.number=\"item.recoverTime\" placeholder=\"请输入时间\"></el-input>\r\n\t\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t\t<span>小时后解除冻结，重新启用</span>\r\n\t\t\t\t\t\t\t\t\t<el-button class=\"ml10\" v-if=\"item.isEdit\" type=\"warning\" @click=\"item.isEdit = false\">编辑</el-button>\r\n\t\t\t\t\t\t\t\t\t<el-button class=\"ml10\" v-else type=\"primary\" @click=\"saveDomainFreezeConfig(item)\">保存</el-button>\r\n\t\t\t\t\t\t\t\t\t<el-button type=\"info\" @click=\"delDomainFreezeConfig(item.id)\">删除</el-button>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<div style=\"margin-bottom: 10px;\"><el-button type=\"primary\" @click=\"addDomainFreezeConfig\">添加</el-button></div>\r\n\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t</el-tabs>\r\n\t\t</div>\r\n\r\n\t\t<!-- 新增/编辑弹出框 -->\r\n\t\t<el-dialog title=\"域名信息\" :visible.sync=\"editVisible\" width=\"30%\">\r\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"100px\">\r\n\t\t\t\t<el-form-item label=\"用户ID\"><el-input v-model=\"form.userId\"></el-input></el-form-item>\r\n\t\t\t\t<el-form-item label=\"域名\">\r\n\t\t\t\t\t<el-input v-model=\"form.domain\" rows=\"3\" type=\"textarea\"></el-input>\r\n\t\t\t\t\t<!-- <el-input v-model=\"form.domain\" @change=\"domainCheck\"></el-input> -->\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"域名所属分类\">\r\n\t\t\t\t\t<el-select v-model=\"form.classCode\" placeholder=\"所属分类\" class=\"mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"item in classNameOption\" :key=\"item.code\" :label=\"item.className\" :value=\"item.code\">\r\n\t\t\t\t\t\t\t<span style=\"float: left\">{{ item.className }}</span>\r\n\t\t\t\t\t\t\t<span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.domainPre }}</span>\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"封杀状态\">\r\n\t\t\t\t\t<el-select v-model=\"form.wxStatus\" placeholder=\"请选择\" class=\"handle-select mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"op in wxStatusOptions\" :key=\"op.value\" :label=\"op.lable\" :value=\"op.value\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"备案状态\">\r\n\t\t\t\t\t<el-select v-model=\"form.beianStatus\" placeholder=\"请选择\" class=\"handle-select mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"op in beianStatusOptions\" :key=\"op.value\" :label=\"op.lable\" :value=\"op.value\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"启用状态\">\r\n\t\t\t\t\t<el-select v-model=\"form.enable\" placeholder=\"启用状态\" class=\"handle-select mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"item in updateEnableOptions\" :key=\"item.value\" :label=\"item.lable\" :value=\"item.value\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"域名排序\"><el-input v-model=\"form.beianSort\" @keyup.native=\"checkNumIsInt(index)\"></el-input></el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"editVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 批量更新弹出框 -->\r\n\t\t<el-dialog title=\"域名信息\" :visible.sync=\"updateVisible\" width=\"30%\">\r\n\t\t\t<el-form ref=\"form\" :model=\"updateForm\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"用户ID\"><el-input v-model=\"updateForm.userId\"></el-input></el-form-item>\r\n\t\t\t\t<el-form-item label=\"类别\">\r\n\t\t\t\t\t<el-select v-model=\"updateForm.classCode\" placeholder=\"所属分类\" class=\"mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"item in updateClassNameOption\" :key=\"item.code\" :label=\"item.className\" :value=\"item.code\">\r\n\t\t\t\t\t\t\t<span style=\"float: left\">{{ item.className }}</span>\r\n\t\t\t\t\t\t\t<span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.domainPre }}</span>\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"封杀状态\">\r\n\t\t\t\t\t<el-select v-model=\"updateForm.wxStatus\" placeholder=\"请选择\" class=\"handle-select mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"op in updateWXStatusOptions\" :key=\"op.value\" :label=\"op.lable\" :value=\"op.value\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"备案状态\">\r\n\t\t\t\t\t<el-select v-model=\"updateForm.beianStatus\" placeholder=\"请选择\" class=\"handle-select mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"op in updateBeianStatusOptions\" :key=\"op.value\" :label=\"op.lable\" :value=\"op.value\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"启用状态\">\r\n\t\t\t\t\t<el-select v-model=\"updateForm.enable\" placeholder=\"请选择\" class=\"handle-select mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"op in updateEnableOptions\" :key=\"op.value\" :label=\"op.lable\" :value=\"op.value\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"updateVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"handleUpate\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 批量删除大户弹出框 -->\r\n\t\t<el-dialog title=\"域名信息\" :visible.sync=\"showBatchVipDomainDialog\" width=\"30%\">\r\n\t\t\t<el-form ref=\"form\" :model=\"userBatchDomainForm\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"用户ID\"><el-input v-model=\"userBatchDomainForm.userIds\" placeholder=\"用户ID用户英文逗号隔开\"></el-input></el-form-item>\r\n\t\t\t\t<el-form-item label=\"类别\">\r\n\t\t\t\t\t<el-select v-model=\"userBatchDomainForm.classCode\" placeholder=\"所属分类\" class=\"mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"item in updateClassNameOption\" :key=\"item.code\" :label=\"item.className\" :value=\"item.code\">\r\n\t\t\t\t\t\t\t<span style=\"float: left\">{{ item.className }}</span>\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"showBatchVipDomainDialog = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"handleUsersDelete\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 删除提示框 -->\r\n\t\t<el-dialog title=\"提示\" :visible.sync=\"delVisible\" width=\"300px\" center>\r\n\t\t\t<div class=\"del-dialog-cnt\">删除不可恢复，是否确定删除？</div>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"delVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"deleteRow\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 冻结次数 -->\r\n\t\t<el-dialog title=\"冻结次数\" :visible.sync=\"banTimesVisible\" width=\"800px\" center>\r\n\t\t\t<el-table :data=\"banTimesList\" v-loading=\"tableLoading2\" border class=\"table\" ref=\"banTimesList\">\r\n\t\t\t\t<el-table-column prop=\"id\" label=\"序号\" align=\"center\" width=\"120\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"freezeTime\" label=\"冻结时间\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"recoverTime\" label=\"解冻时间\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"coolingTime\" label=\"冷却天数\" align=\"center\" width=\"120\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"enableTime\" label=\"启用时间\" align=\"center\" sortable></el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"banTimesVisible = false\">关 闭</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'basetable',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttabName: 'manager',\r\n\t\t\tpreventSealList: [\r\n\t\t\t\t{ name: '落地普通', val: '1' },\r\n\t\t\t\t{ name: '落地备案', val: '2' },\r\n\t\t\t\t{ name: '跳转落地普通', val: '3' },\r\n\t\t\t\t{ name: '跳转备案 落地普通', val: '4' },\r\n\t\t\t\t{ name: '跳转普通 落地备案', val: '5' },\r\n\t\t\t\t{ name: '跳转备案 落地备案', val: '6' }\r\n\t\t\t],\r\n\r\n\t\t\tdomainPattern: 0, //域名防封策略设置\r\n\t\t\tdomainForm:{\r\n\t\t\t\tdomainFreezeConfig: [], // 域名防封阈值设置\r\n\t\t\t},\r\n\t\t\tisAdd: false, //判断 域名防封阈值设置 的保存按钮 功能是添加还是修改 false:修改;true:添加\r\n\r\n\t\t\tshowBatchVipDomainDialog: false,\r\n\t\t\tuserBatchDomainForm: {\r\n\t\t\t\tuserIds: '',\r\n\t\t\t\tclassCode: ''\r\n\t\t\t},\r\n\t\t\ttableLoading: true,\r\n\t\t\ttableData: [],\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tcur_page: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tcur_total: 0, // 总记录数\r\n\t\t\tmultipleSelection: [],\r\n\t\t\tclassCode_select: '',\r\n\t\t\twxStatus_select: '',\r\n\t\t\tbeianStatus_select: '',\r\n\t\t\tenable_select: '',\r\n\r\n\t\t\t// 筛选 字段\r\n\t\t\tstart_date: null,\r\n\t\t\tend_date: null,\r\n\t\t\tstartFreezeTime: null,\r\n\t\t\tendFreezeTime: null,\r\n\t\t\tstartRecoverTime: null,\r\n\t\t\tendRecoverTime: null,\r\n\t\t\tdomain_input: '',\r\n\t\t\tsearchUserId: '',\r\n\r\n\t\t\t// 冻结次数dalog\r\n\t\t\tbanTimesVisible: false,\r\n\t\t\ttableLoading2: true,\r\n\t\t\tbanTimesList: [],\r\n\r\n\t\t\tdel_list: [],\r\n\t\t\tids: [], // 批量更新的ids\r\n\t\t\tis_search: false,\r\n\t\t\teditVisible: false,\r\n\t\t\tdelVisible: false,\r\n\t\t\tupdateVisible: false,\r\n\t\t\tupdateForm: {\r\n\t\t\t\tuserId: null,\r\n\t\t\t\tenable: null,\r\n\t\t\t\twxStatus: null,\r\n\t\t\t\tbeianStatus: null,\r\n\t\t\t\tclassCode: null\r\n\t\t\t},\r\n\t\t\tform: {\r\n\t\t\t\tid: '',\r\n\t\t\t\tuserId: '',\r\n\t\t\t\tbeianSort: 1,\r\n\t\t\t\tbeianStatus: 1,\r\n\t\t\t\tclassCode: '',\r\n\t\t\t\tclassName: '',\r\n\t\t\t\tdomain: '',\r\n\t\t\t\tdomainPre: '',\r\n\t\t\t\tenable: 0,\r\n\t\t\t\twxStatus: 0,\r\n\t\t\t\trowEditEnable: false // 编辑按钮是否可用\r\n\t\t\t},\r\n\r\n\t\t\t// 下拉框数据填充\r\n\t\t\tbeianStatusOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\tlable: '全部'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t//0:未备案  1:已备案  2:掉备案\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlable: '未备案'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlable: '已备案'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlable: '掉备案'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tupdateBeianStatusOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//0:未备案  1:已备案  2:掉备案\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlable: '未备案'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlable: '已备案'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlable: '掉备案'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\twxStatusOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\tlable: '全部'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t//0:正常 1:封杀\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlable: '正常'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlable: '封杀'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tupdateWXStatusOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//0:正常 1:封杀\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlable: '正常'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlable: '封杀'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tupdateEnableOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//0:未启用  1:启用\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlable: '未启用'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlable: '启用'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlable: '冻结'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tenableOptions: [\t//0:未启用  1:启用\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\tlable: '全部'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlable: '未启用'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlable: '启用'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlable: '冻结'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tclassNameOption: [],\r\n\t\t\tupdateClassNameOption: [\r\n\t\t\t\t{ id: 1, className: '新闻跳转域名', code: '01' },\r\n\t\t\t\t{ id: 2, className: '新闻落地域名', code: '02' },\r\n\t\t\t\t{ id: 3, className: '下载跳转域名', code: '03' },\r\n\t\t\t\t{ id: 4, className: '下载落地域名', code: '04' }\r\n\t\t\t],\r\n\r\n\t\t\tdelIds: [] // 待删除记录的id列表\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t\tthis.getDomainPattern();\r\n\t\tthis.getDomainFreezeConfig();\r\n\t},\r\n\tmethods: {\r\n\t\tshowUpdateDialog() {\r\n\t\t\tthis.ids = [];\r\n\t\t\tthis.updateForm = {\r\n\t\t\t\tenable: null,\r\n\t\t\t\twxStatus: null,\r\n\t\t\t\tbeianStatus: null,\r\n\t\t\t\tclassCode: null\r\n\t\t\t};\r\n\t\t\tconst length = this.multipleSelection.length;\r\n\t\t\tif (length == 0) {\r\n\t\t\t\tthis.$message.warning('无勾选项');\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\t\tthis.ids.push(this.multipleSelection[i].id);\r\n\t\t\t\t}\r\n\t\t\t\tthis.updateVisible = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 分页导航\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.cur_page = val;\r\n\t\t\tthis.currentPage = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\thandleSizeChange(cur_size) {\r\n\t\t\tthis.pageSize = cur_size;\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\r\n\t\t// 批量更新\r\n\t\thandleUpate() {\r\n\t\t\tconst { ids } = this;\r\n\t\t\tlet postData = {\r\n\t\t\t\tids,\r\n\t\t\t\tclassCode: this.updateForm.classCode,\r\n\t\t\t\twxStatus: this.updateForm.wxStatus,\r\n\t\t\t\tbeianStatus: this.updateForm.beianStatus,\r\n\t\t\t\tenable: this.updateForm.enable,\r\n\t\t\t\tuserId: this.updateForm.userId\r\n\t\t\t};\r\n\t\t\tthis.$axios.post(this.BASE_URL + 'admin/domain/batchUpdate', postData).then(res => {\r\n\t\t\t\tthis.updateVisible = false;\r\n\t\t\t\tif (+res.data.code === 200) {\r\n\t\t\t\t\tthis.ids = [];\r\n\t\t\t\t\tthis.multipleSelection = [];\r\n\t\t\t\t\tthis.$message.success('更新成功');\r\n\t\t\t\t\tthis.getData();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取 easy-mock 的模拟数据\r\n\t\tgetData() {\r\n\t\t\t// 开发环境使用 easy-mock 数据，正式环境使用 json 文件\r\n\t\t\tif (process.env.NODE_ENV === 'development') {\r\n\t\t\t\tthis.url = '/admin/domain/findDomainByPage';\r\n\t\t\t}\r\n\t\t\tthis.findDomainByPage('');\r\n\t\t\tthis.$axios.get(this.BASE_URL + 'admin/domain/initBaseInfo', {}).then(res => {\r\n\t\t\t\tres.data.data.classNameList.unshift({className: \"全部\",code: \"-1\",domainPre: \"\"});\r\n\t\t\t\tthis.classNameOption = res.data.data.classNameList;\r\n\t\t\t});\r\n\t\t\t// const end = new Date();\r\n\t\t\t// const start = new Date();\r\n\t\t\t// start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n\t\t\t// this.start_date = start;\r\n\t\t\t// this.end_date = end;\r\n\t\t},\r\n\t\tsearch() {\r\n\t\t\tif (this.classCode_select == -1) {\r\n\t\t\t\tthis.classCode_select = '';\r\n\t\t\t}\r\n\t\t\tif (this.wxStatus_select == -1) {\r\n\t\t\t\tthis.wxStatus_select = '';\r\n\t\t\t}\r\n\t\t\tif (this.beianStatus_select == -1) {\r\n\t\t\t\tthis.beianStatus_select = '';\r\n\t\t\t}\r\n\t\t\tif (this.enable_select == -1) {\r\n\t\t\t\tthis.enable_select = '';\r\n\t\t\t}\r\n\r\n\t\t\tthis.findDomainByPage();\r\n\t\t\t// this.is_search = true;\r\n\t\t},\r\n\t\t// 格式化\r\n\t\tformatterWxStatus(row, column) {\r\n\t\t\t//0:正常 1:封杀\r\n\t\t\treturn row.wxStatus == 0 ? '正常' : '封杀';\r\n\t\t},\r\n\t\tformatterBeianStatus(row, column) {\r\n\t\t\t//0:未备案  1:已备案  2:掉备案\r\n\t\t\treturn row.beianStatus == 1 ? '已备案' : row.beianStatus == 2 ? '掉备案' : '未备案';\r\n\t\t},\r\n\t\tformatterEnable(row, column) {\r\n\t\t\t//0:未启用  1:启用 2:冻结\r\n\t\t\tif(row.enable==0)return '未启用';\r\n\t\t\tif(row.enable==1)return '启用';\r\n\t\t\tif(row.enable==2)return '冻结';\r\n\t\t},\r\n\t\tformatterAddDate(row, column) {\r\n\t\t\treturn this.$moment(row.addDate).format('YYYY-MM-DD');\r\n\t\t},\r\n\t\tformatterBanDate(row, column) {\r\n\t\t\tif (row.banDate == null) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tvar date = new Date(row.banDate);\r\n\t\t\treturn this.$moment(date).format('YYYY-MM-DD HH:mm:ss');\r\n\t\t},\r\n\t\tfilterTag(value, row) {\r\n\t\t\treturn row.tag === value;\r\n\t\t},\r\n\t\thandleEdit(index, row) {\r\n\t\t\tif (row == '') {\r\n\t\t\t\t// 新增\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tbeianSort: 1,\r\n\t\t\t\t\tbeianStatus: 1,\r\n\t\t\t\t\tclassCode: '01',\r\n\t\t\t\t\tdomain: '',\r\n\t\t\t\t\tdomainPre: '',\r\n\t\t\t\t\tenable: 1,\r\n\t\t\t\t\twxStatus: 0\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\t// 编辑\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\tid: row.id,\r\n\t\t\t\t\tuserId: row.userId,\r\n\t\t\t\t\tbeianSort: row.beianSort,\r\n\t\t\t\t\tbeianStatus: row.beianStatus,\r\n\t\t\t\t\tclassCode: row.classCode,\r\n\t\t\t\t\tdomain: row.domain,\r\n\t\t\t\t\tenable: row.enable,\r\n\t\t\t\t\twxStatus: row.wxStatus\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tthis.editVisible = true;\r\n\t\t},\r\n\t\thandleDelete(index, row) {\r\n\t\t\tthis.delIds.push(row.id);\r\n\t\t\tthis.delVisible = true;\r\n\t\t},\r\n\t\tdelAll() {\r\n\t\t\tconst length = this.multipleSelection.length;\r\n\t\t\tif (length == 0) {\r\n\t\t\t\tthis.$message.warning('无勾选项');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.del_list = this.del_list.concat(this.multipleSelection);\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tthis.delIds.push(this.multipleSelection[i].id);\r\n\t\t\t}\r\n\t\t\tthis.delByIds();\r\n\t\t\tthis.multipleSelection = [];\r\n\t\t},\r\n\t\thandleSelectionChange(val) {\r\n\t\t\tthis.multipleSelection = val;\r\n\t\t},\r\n\t\t// 保存编辑\r\n\t\tsaveEdit() {\r\n\t\t\tthis.$axios.post(this.BASE_URL + 'admin/domain/saveDomainInfo', this.form).then(res => {\r\n\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\tthis.$message.success(res.data.message);\r\n\t\t\t\t\tthis.editVisible = false;\r\n\r\n\t\t\t\t\tthis.findDomainByPage();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$message.error(res.data.message);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 确定删除\r\n\t\tdeleteRow() {\r\n\t\t\tthis.delByIds();\r\n\t\t\tthis.delVisible = false;\r\n\t\t},\r\n\t\treset_condition() {\r\n\t\t\t//重置筛选条件\r\n\t\t\tthis.domain_input = '';\r\n\t\t\tthis.classCode_select = '';\r\n\t\t\tthis.wxStatus_select = '';\r\n\t\t\tthis.beianStatus_select = '';\r\n\t\t\tthis.enable_select = '';\r\n\t\t\tthis.start_date = '';\r\n\t\t\tthis.end_date = '';\r\n\t\t\tthis.startFreezeTime = '';\r\n\t\t\tthis.endFreezeTime = '';\r\n\t\t\tthis.startRecoverTime = '';\r\n\t\t\tthis.endRecoverTime = '';\r\n\t\t\tthis.findDomainByPage();\r\n\t\t},\r\n\t\tplusTime(date){\r\n\t\t\treturn this.$moment(date).add(1,'days').format('YYYY-MM-DD');\r\n\t\t},\r\n\t\tfindDomainByPage() {\r\n\t\t\t// 查询数据填充表格\r\n\t\t\tif (this.start_date > this.end_date) {\r\n\t\t\t\tthis.$message.info('起始日期不得大于结束日期');\r\n\t\t\t\tthis.start_date = '';\r\n\t\t\t\tthis.end_date = '';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$axios\r\n\t\t\t\t.post(this.BASE_URL + 'admin/domain/findDomainByPage', {\r\n\t\t\t\t\tpage: this.cur_page,\r\n\t\t\t\t\tsize: this.pageSize,\r\n\t\t\t\t\tdomain: this.domain_input,\r\n\t\t\t\t\tclassCode: this.classCode_select,\r\n\t\t\t\t\twxStatus: this.wxStatus_select,\r\n\t\t\t\t\tbeianStatus: this.beianStatus_select,\r\n\t\t\t\t\tenable: this.enable_select,\r\n\t\t\t\t\tstartDate: this.start_date,\r\n\t\t\t\t\tendDate: this.end_date?this.plusTime(this.end_date):this.end_date,\r\n\t\t\t\t\tstartFreezeTime: this.startFreezeTime,\r\n\t\t\t\t\tendFreezeTime: this.endFreezeTime?this.plusTime(this.endFreezeTime):this.endFreezeTime,\r\n\t\t\t\t\tuserId: this.searchUserId,\r\n\t\t\t\t\t// 新增\r\n\t\t\t\t\tstartRecoverTime: this.startRecoverTime,\r\n\t\t\t\t\tendRecoverTime: this.endRecoverTime?this.plusTime(this.endRecoverTime):this.endRecoverTime\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconst list = res.data.data.list;\r\n\t\t\t\t\t// for(var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t//   if (list[i].beianSort == 0) {\r\n\t\t\t\t\t//     list[i].rowEditEnable = true;\r\n\t\t\t\t\t//   } else {\r\n\t\t\t\t\t//     list[i].rowEditEnable = false;\r\n\t\t\t\t\t//   }\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tthis.tableData = list;\r\n\t\t\t\t\tthis.tableLoading = false;\r\n\t\t\t\t\tthis.cur_total = res.data.data.total;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tdelByIds() {\r\n\t\t\t// 把记录标记为作废状态，支持批量删除\r\n\t\t\tif (this.delIds.length != 0) {\r\n\t\t\t\tthis.$axios.post(this.BASE_URL + 'admin/domain/updateDelFlagById', this.delIds).then(res => {\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tthis.findDomainByPage();\r\n\t\t\t\t\t\tthis.$message.success(res.data.message);\r\n\t\t\t\t\t\tthis.delIds = [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message.error(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// domainCheck() {\r\n\t\t//   var domain = this.form.domain;\r\n\t\t//   if(domain == '') {\r\n\t\t//     return;\r\n\t\t//   }\r\n\t\t//   this.$axios.get(this.BASE_URL + \"admin/domain/domainCheck?domain=\" + domain) .then(res => {\r\n\t\t//     var msg = \"域名正常\";\r\n\t\t//     if(res.data.code==200) { // 0为正常，1为被转码，2为被封，3查询失败，-1接口到期。注意：频率过高默认返回3状态\r\n\t\t//       if(res.data.data.status == '0') {\r\n\t\t//         this.$message.success(\"域名正常\");\r\n\t\t//         this.form.wxStatus = 0;\r\n\t\t//       } else if(res.data.data.status == '2') {\r\n\t\t//         this.$message.error(\"域名被封\");\r\n\t\t//         this.form.wxStatus = 1;\r\n\t\t//       }\r\n\t\t//     } else {\r\n\t\t//       this.$message.error(res.data.message);\r\n\t\t//     }\r\n\t\t//   });\r\n\t\t// },\r\n\t\tcheckNumIsInt(index) {\r\n\t\t\tif (this.form.beianSort == '') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (this.form.beianSort < 0) {\r\n\t\t\t\tthis.$message('排序不能为负数或其他字符');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t// 大户域名管理\r\n\t\tshowBatchVipDomain() {\r\n\t\t\tthis.showBatchVipDomainDialog = true;\r\n\t\t},\r\n\t\tasync handleUsersDelete() {\r\n\t\t\tlet tempUserIds = '';\r\n\t\t\tif (this.userBatchDomainForm.userIds) {\r\n\t\t\t\ttempUserIds = this.userBatchDomainForm.userIds.split(',');\r\n\t\t\t}\r\n\t\t\tlet postData = {\r\n\t\t\t\tuserIds: tempUserIds,\r\n\t\t\t\tclassCode: this.userBatchDomainForm.classCode\r\n\t\t\t};\r\n\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/domain/deleteByUserIdsAndClassCode', postData);\r\n\t\t\tif (+code === 200) {\r\n\t\t\t\tthis.$message.success('删除成功');\r\n\t\t\t\tthis.showBatchVipDomainDialog = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$message('删除失败，请重试');\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync lookBanTimes(row) {\r\n\t\t\tthis.banTimesVisible = true;\r\n\t\t\tlet { data:{ code,message,data } } = await this.$axios.get(this.BASE_URL+`admin/domain/getDomainFreezeLogListByDomainId?domainId=${row.id}`)\r\n\t\t\tif(code == '200'){\r\n\t\t\t\tthis.banTimesList=data;\r\n\t\t\t\tthis.tableLoading2=false;\r\n\t\t\t}else{\r\n\t\t\t\tthis.$message.error(message);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsaveDomainPattern() {\r\n\t\t\tthis.$confirm('确定保存域名防封策略设置吗？', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$axios.post(this.BASE_URL + 'admin/domain/updateDomainPattern?pattern=' + this.domainPattern).then(res => {\r\n\t\t\t\t\t\tif (res.data.code == '200') {\r\n\t\t\t\t\t\t\tthis.$message.success(res.data.message);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$message.error(res.data.message);\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {});\r\n\t\t},\r\n\t\tasync getDomainPattern() {\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, message, data }\r\n\t\t\t} = await this.$axios.get(this.BASE_URL + 'admin/domain/getDomainPattern');\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tthis.domainPattern = data;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$message.error(message);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getDomainFreezeConfig() {\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, message, data }\r\n\t\t\t} = await this.$axios.get(this.BASE_URL + 'admin/domain/getDomainFreezeConfigList');\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\titem.isEdit = true;\r\n\t\t\t\t});\r\n\t\t\t\tthis.domainForm.domainFreezeConfig = data;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$message.error(message);\r\n\t\t\t}\r\n\t\t},\r\n\t\taddDomainFreezeConfig() {\r\n\t\t\tthis.domainForm.domainFreezeConfig.push({\r\n\t\t\t\tcheckTime: null,\r\n\t\t\t\tvisitThreshold: null,\r\n\t\t\t\trecoverTime: null\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveDomainFreezeConfig() {\r\n\t\t\tif (this.domainForm.domainFreezeConfig.length <= 1) return;\r\n\t\t\tthis.domainForm.domainFreezeConfig.pop();\r\n\t\t},\r\n\t\tdelDomainFreezeConfig(id) {\r\n\t\t\tif (id === undefined) {\r\n\t\t\t\tthis.domainForm.domainFreezeConfig.pop();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$confirm('确定删除吗？', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$axios.post(this.BASE_URL + 'admin/domain/deleteDomainFreezeConfig?id=' + id).then(res => {\r\n\t\t\t\t\tif (res.data.code == '200') {\r\n\t\t\t\t\t\tthis.getDomainFreezeConfig();\r\n\t\t\t\t\t\tthis.$message.success(res.data.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message.error(res.data.message);\r\n\t\t\t\t});\r\n\t\t\t}).catch(() => {});\r\n\t\t},\r\n\t\tsaveDomainFreezeConfig(item) {\r\n\t\t\tthis.$refs['domainForm'].validate(valid => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tlet postData = {\r\n\t\t\t\t\t\t\tcheckTime: item.checkTime,\r\n\t\t\t\t\t\t\tvisitThreshold: item.visitThreshold,\r\n\t\t\t\t\t\t\trecoverTime: item.recoverTime\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\turl;\r\n\t\t\t\t\tif (item.id) {\t//修改\r\n\t\t\t\t\t\tpostData.id = item.id;\r\n\t\t\t\t\t\turl = this.BASE_URL + 'admin/domain/updateDomainFreezeConfig';\r\n\t\t\t\t\t} else {\t//添加\r\n\t\t\t\t\t\turl = this.BASE_URL + 'admin/domain/insertDomainFreezeConfig';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$confirm('确定保存吗？', '提示', {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\tthis.$axios.post(url, postData).then(res => {\r\n\t\t\t\t\t\t\tif (res.data.code == '200') {\r\n\t\t\t\t\t\t\t\tthis.$message.success(res.data.message);\r\n\t\t\t\t\t\t\t\tthis.getDomainFreezeConfig();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$message.error(res.data.message);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(() => {});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.handle-select {\r\n\twidth: 180px;\r\n}\r\n\r\n.handle-label {\r\n\twidth: 172px;\r\n}\r\n.handle-input {\r\n\twidth: 180px;\r\n\tdisplay: inline-block;\r\n}\r\n.del-dialog-cnt {\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n.table {\r\n\twidth: 100%;\r\n\tfont-size: 14px;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n.row {\r\n\tmargin-bottom: 10px;\r\n\tmargin-right: 10px;\r\n}\r\n.domain-title {\r\n\tmargin-bottom: 20px;\r\n}\r\n.domain-body {\r\n\tcolor: #303133;\r\n}\r\n.handle-input-padding {\r\n\tdisplay: inline-block;\r\n\twidth: 100px;\r\n\tmargin: 0 10px 0 10px;\r\n}\r\n.bgDiv {\r\n\tbackground-color: rgb(242, 242, 242);\r\n\tpadding:10px;\r\n}\r\n.ml10 {\r\n\tmargin-left: 10px;\r\n}\r\n</style>\n"]}]}