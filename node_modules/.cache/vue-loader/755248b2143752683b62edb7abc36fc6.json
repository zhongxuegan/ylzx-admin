{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\advert_group_count.vue?vue&type=style&index=0&id=6e74cada&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\advert_group_count.vue","mtime":1598066419215},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.table .cell {\r\n\tpadding-left: 2px !important;\r\n\tpadding-right: 2px !important;\r\n}\r\n.container {\r\n\tpadding: 15px;\r\n}\r\n.container--info {\r\n\tmargin-bottom: 10px;\r\n\tline-height: 1;\r\n}\r\n.container--info p {\r\n\tcolor: #999;\r\n}\r\n.container--info span {\r\n\tcolor: #333;\r\n\tdisplay: inline-block;\r\n\tmargin-right: 10px;\r\n}\r\n.handle-box {\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.handle-select {\r\n\twidth: 120px;\r\n}\r\n.handle-label {\r\n\twidth: 140px;\r\n}\r\n\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.del-dialog-cnt {\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n.table {\r\n\twidth: 100%;\r\n\tfont-size: 12px;\r\n}\r\n.red {\r\n\tcolor: #ff0000;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n",{"version":3,"sources":["advert_group_count.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"advert_group_count.vue","sourceRoot":"src/main/statistics","sourcesContent":["<template>\r\n\t<div class=\"table\">\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t广告全天分时统计\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\tplaceholder=\"统计日期\"\r\n\t\t\t\t\tv-model=\"countDayCon\"\r\n\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t@change=\"countDayChange\"\r\n\t\t\t\t></el-date-picker>\r\n\t\t\t\t<!-- <el-select v-model=\"backPage\" placeholder=\"广告展示页面\" class=\"mr10\" @change=\"changeBackPage\">\r\n              <el-option v-for=\"item in backPageList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n          </el-select> -->\r\n\t\t\t\t<el-select v-model=\"adposition\" placeholder=\"广告展示位置\" class=\"handle-select mr10\" @change=\"changeAdPosition\">\r\n\t\t\t\t\t<el-option v-for=\"item in adpositionList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<el-input v-model=\"adGroupIdCon\" placeholder=\"广告主ID\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t<el-button type=\"primary\" icon=\"search\" @click=\"search\">搜索</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"container--info\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\t文章点击PV：\r\n\t\t\t\t\t<span>{{ ipCountByDay }}</span>\r\n\t\t\t\t\t文章点击IP：\r\n\t\t\t\t\t<span>{{ clientIpCount }}</span>\r\n\t\t\t\t\t每PV单价：\r\n\t\t\t\t\t<span>{{ pvUnitPriceRate }}</span>\r\n\t\t\t\t\t每IP单价：\r\n\t\t\t\t\t<span>{{ ipUnitPriceRate }}</span>\r\n\t\t\t\t\t广告点击IP：\r\n\t\t\t\t\t<span>{{ countByDay }}</span>\r\n\t\t\t\t\t广告转化率：\r\n\t\t\t\t\t<span>{{ ipPercentRate }}%</span>\r\n\t\t\t\t\t广告点击率：\r\n\t\t\t\t\t<span>{{ clickCountByDay }}</span>\r\n\t\t\t\t\t干活人数：\r\n\t\t\t\t\t<span>{{ workingPeople }}</span>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<el-table\r\n\t\t\t\t:data=\"tableData\"\r\n\t\t\t\theight=\"600\"\r\n\t\t\t\tborder\r\n\t\t\t\tclass=\"table\"\r\n\t\t\t\tref=\"multipleTable\"\r\n\t\t\t\t:row-class-name=\"tableRowClassName\"\r\n\t\t\t\t@selection-change=\"handleSelectionChange\"\r\n\t\t\t\tstyle=\"font-size: 10px\"\r\n\t\t\t>\r\n\t\t\t\t<el-table-column prop=\"adGroupName\" label=\"广告主\" align=\"center\" fixed=\"left\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<div>{{ scope.row.adGroupId }}/{{ scope.row.adGroupName }}</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"singleRate\" label=\"单品点击率\" width=\"60\" align=\"center\" fixed=\"left\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"total\" label=\"合计\" width=\"50\" align=\"center\" fixed=\"left\"></el-table-column>\r\n\t\t\t\t<!-- <el-table-column prop=\"adId\" label=\"广告ID\" align=\"center\"></el-table-column> -->\r\n\t\t\t\t<template v-for=\"(item, index) in hoursArr\">\r\n\t\t\t\t\t<el-table-column :prop=\"'countHour' + index\" :label=\"'' + index + ''\" :key=\"index\" width=\"50\" align=\"center\"></el-table-column>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'basetable',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttableLoading: true,\r\n\t\t\ttableData: [], // 表格数据\r\n\t\t\tipCountByDay: 0,\r\n\t\t\tcountByDay: 0,\r\n\t\t\tclickCountByDay: '0%',\r\n\t\t\tipPercentRate: 0, // 广告转化率\r\n\t\t\tworkingPeople: 0,\r\n\t\t\tpvUnitPriceRate: 0,\r\n\t\t\tclientIpCount: 0,\r\n\t\t\tipUnitPriceRate: 0,\r\n\t\t\tadGroupIdCon: '',\r\n\t\t\tbackPage: 1,\r\n\t\t\tadposition: 2,\r\n\t\t\tadTempPosition: 2,\r\n\t\t\tcountDayCon: this.$moment().format('YYYY-MM-DD'),\r\n\t\t\tbackPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: '正常广告位'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlabel: '后退页广告位'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tadpositionList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlabel: '底部'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\tlabel: '后退页'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: '顶部banner'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 3,\r\n\t\t\t\t\tlabel: '文字链接'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 5,\r\n\t\t\t\t\tlabel: '底部悬浮窗'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tuserStatusOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//0:正常 1:封杀\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlabel: '禁用'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: '正常'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\thoursArr: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.findCountData();\r\n\t},\r\n\tmethods: {\r\n\t\ttableRowClassName({ row, rowIndex }) {\r\n\t\t\tif (rowIndex === 1) {\r\n\t\t\t\treturn 'warning-row';\r\n\t\t\t} else if (rowIndex === 3) {\r\n\t\t\t\treturn 'success-row';\r\n\t\t\t} else if (rowIndex === 5) {\r\n\t\t\t\treturn 'success-row';\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t},\r\n\t\thandleSelectionChange(val) {\r\n\t\t\tthis.multipleSelection = val;\r\n\t\t},\r\n\t\tchangeBackPage() {\r\n\t\t\tthis.search();\r\n\t\t},\r\n\t\tchangeAdPosition(val) {\r\n\t\t\tif (val === 4) {\r\n\t\t\t\tthis.backPage = 2;\r\n\t\t\t} else {\r\n\t\t\t\tthis.backPage = 1;\r\n\t\t\t}\r\n\t\t\tthis.search();\r\n\t\t},\r\n\t\tsearch() {\r\n\t\t\tthis.findCountData();\r\n\t\t},\r\n\t\tenableBuckleAmount(index, row) {\r\n\t\t\trow.buckleAmount = '0%';\r\n\t\t},\r\n\t\tconvertPercent(row, column, cellValue, index) {\r\n\t\t\treturn (cellValue * 100).toFixed(2) + '%';\r\n\t\t},\r\n\t\tfindCountData() {\r\n\t\t\tif (this.backPage === 2) {\r\n\t\t\t\tthis.adTempPosition = 2;\r\n\t\t\t} else {\r\n\t\t\t\tthis.adTempPosition = this.adposition;\r\n\t\t\t}\r\n\t\t\tthis.$axios\r\n\t\t\t\t.get(\r\n\t\t\t\t\tthis.BASE_URL +\r\n\t\t\t\t\t\t`admin/account/countAdByYearMonthDayHour?adGroupId=${this.adGroupIdCon}&countDay=${this.countDayCon}&backPage=${this.backPage}&adPosition=${\r\n\t\t\t\t\t\t\tthis.adTempPosition\r\n\t\t\t\t\t\t}`,\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tlet result = res.data.data;\r\n\t\t\t\t\tconst adGroupIdList = this.operateList(result.adGroupIdList, result.clientIpCount);\r\n\t\t\t\t\tresult.totalCountByHour.adGroupId = '广告点击IP';\r\n\t\t\t\t\tresult.ipCountByHour.adGroupId = '文章点击PV';\r\n\t\t\t\t\tresult.clickRadioCountByHour.adGroupId = '广告点击率';\r\n\t\t\t\t\tlet accumalatePv = this.generateAccumaltePV(result.ipCountByHour);\r\n\t\t\t\t\tadGroupIdList.push(result.totalCountByHour);\r\n\t\t\t\t\tadGroupIdList.push(result.ipCountByHour);\r\n\t\t\t\t\tadGroupIdList.push(this.operateObject(result.clickRadioCountByHour));\r\n\t\t\t\t\tadGroupIdList.push(accumalatePv);\r\n\t\t\t\t\tthis.clickCountByDay = result.clickRadioCountByHour.total;\r\n\t\t\t\t\tthis.countByDay = result.totalCountByHour.total;\r\n\t\t\t\t\tthis.ipCountByDay = result.ipCountByHour.total;\r\n\r\n\t\t\t\t\tthis.tableData = adGroupIdList;\r\n\t\t\t\t\tthis.clientIpCount = result.clientIpCount;\r\n\t\t\t\t\tthis.pvUnitPriceRate = result.pvUnitPriceRate;\r\n\t\t\t\t\tthis.ipUnitPriceRate = result.ipUnitPriceRate;\r\n\t\t\t\t\tthis.countDayCon = result.countDay;\r\n\t\t\t\t\tthis.workingPeople = result.workingPeople;\r\n\t\t\t\t\tthis.ipPercentRate = result.ipPercentRate;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\toperateObject(obj) {\r\n\t\t\tif (typeof obj !== 'object') return;\r\n\t\t\tfor (const key in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(key) && typeof obj[key] !== 'string') {\r\n\t\t\t\t\tobj[key] = (obj[key] * 100).toFixed(2) + '%';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t},\r\n\r\n\t\t// 时段累积pv\r\n\t\tgenerateAccumaltePV(obj) {\r\n\t\t\tlet newObj = {\r\n\t\t\t\tadId: null,\r\n\t\t\t\tadGroupId: '累积PV',\r\n\t\t\t\tadGroupName: null,\r\n\t\t\t\tcountHour0: 0,\r\n\t\t\t\tcountHour1: 0,\r\n\t\t\t\tcountHour2: 0,\r\n\t\t\t\tcountHour3: 0,\r\n\t\t\t\tcountHour4: 0,\r\n\t\t\t\tcountHour5: 0,\r\n\t\t\t\tcountHour6: 0,\r\n\t\t\t\tcountHour7: 0,\r\n\t\t\t\tcountHour8: 0,\r\n\t\t\t\tcountHour9: 0,\r\n\t\t\t\tcountHour10: 0,\r\n\t\t\t\tcountHour11: 0,\r\n\t\t\t\tcountHour12: 0,\r\n\t\t\t\tcountHour13: 0,\r\n\t\t\t\tcountHour14: 0,\r\n\t\t\t\tcountHour15: 0,\r\n\t\t\t\tcountHour16: 0,\r\n\t\t\t\tcountHour17: 0,\r\n\t\t\t\tcountHour18: 0,\r\n\t\t\t\tcountHour19: 0,\r\n\t\t\t\tcountHour20: 0,\r\n\t\t\t\tcountHour21: 0,\r\n\t\t\t\tcountHour22: 0,\r\n\t\t\t\tcountHour23: 0\r\n\t\t\t};\r\n\t\t\tlet temp = 0;\r\n\t\t\tif (typeof obj !== 'object') return;\r\n\t\t\tfor (const key in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(key) && typeof obj[key] !== 'string') {\r\n\t\t\t\t\tif (key.indexOf('countHour') > -1 && obj[key] > 0) {\r\n\t\t\t\t\t\ttemp += obj[key];\r\n\t\t\t\t\t\tnewObj[key] = temp;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewObj[key] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn newObj;\r\n\t\t},\r\n\r\n\t\toperateList(list, totalIpCount) {\r\n\t\t\tif (!Array.isArray(list)) return;\r\n\t\t\tlist.map(item => {\r\n\t\t\t\titem.singleRate = ((parseInt(item.total) / parseInt(totalIpCount)) * 100).toFixed(2) + '%';\r\n\t\t\t});\r\n\t\t\treturn list;\r\n\t\t},\r\n\t\tcountDayChange() {\r\n\t\t\tthis.findCountData();\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table .cell {\r\n\tpadding-left: 2px !important;\r\n\tpadding-right: 2px !important;\r\n}\r\n.container {\r\n\tpadding: 15px;\r\n}\r\n.container--info {\r\n\tmargin-bottom: 10px;\r\n\tline-height: 1;\r\n}\r\n.container--info p {\r\n\tcolor: #999;\r\n}\r\n.container--info span {\r\n\tcolor: #333;\r\n\tdisplay: inline-block;\r\n\tmargin-right: 10px;\r\n}\r\n.handle-box {\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.handle-select {\r\n\twidth: 120px;\r\n}\r\n.handle-label {\r\n\twidth: 140px;\r\n}\r\n\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.del-dialog-cnt {\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n.table {\r\n\twidth: 100%;\r\n\tfont-size: 12px;\r\n}\r\n.red {\r\n\tcolor: #ff0000;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n</style>\n"]}]}