{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\user_data_monitor.vue?vue&type=style&index=0&id=3751634c&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\user_data_monitor.vue","mtime":1598004830959},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.handle-input {\r\n\twidth: 150px;\r\n}\r\n.handle-box {\r\n\tfont-size: 14px;\r\n}\r\n.handle-box > div {\r\n\tmargin-bottom: 10px;\r\n\tfont-size: 14px;\r\n}\r\n.handle-box span {\r\n\tdisplay: inline-block;\r\n\twidth: 180px;\r\n\tcolor: #333333;\r\n}\r\n.handle-box > div span:nth-child(3) {\r\n\tmargin-left: 50px;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n.div-scroll {\r\n\theight: 90vh;\r\n\toverflow: auto;\r\n\tpadding-bottom: 10vh;\r\n\tpadding-right: 15px;\r\n}\r\n.userDataForm {\r\n\tpadding-left: 20px;\r\n}\r\n.hideInput {\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\tborder: 1px solid #d9d9d9;\r\n\toutline: none;\r\n\theight: 25px;\r\n\tborder-radius: 7px;\r\n}\r\n.hideInput:focus {\r\n\tborder-color: #479ef8;\r\n}\r\ni {\r\n\tcolor: #479ef8;\r\n}\r\n.handle-label {\r\n\twidth: 180px;\r\n}\r\n",{"version":3,"sources":["user_data_monitor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user_data_monitor.vue","sourceRoot":"src/main/statistics","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t用户数据监测\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<el-tabs v-model=\"tabName\" @tab-click=\"tabChange\">\r\n\t\t\t\t<el-tab-pane label=\"全部用户\" name=\"-1\"></el-tab-pane>\r\n\t\t\t\t<el-tab-pane label=\"正常用户\" name=\"1\"></el-tab-pane>\r\n\t\t\t\t<el-tab-pane label=\"异常用户\" name=\"2\"></el-tab-pane>\r\n\t\t\t\t<el-tab-pane label=\"封禁用户\" name=\"0\"></el-tab-pane>\r\n\t\t\t</el-tabs>\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span>文章IP小于等于</span>\r\n\t\t\t\t\t<el-input v-model=\"articleIpLt\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t<span>文章IP大于等于</span>\r\n\t\t\t\t\t<el-input v-model=\"articleIpGt\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span>广告PV小于等于</span>\r\n\t\t\t\t\t<el-input v-model=\"adPvLt\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t<span>广告PV大于等于</span>\r\n\t\t\t\t\t<el-input v-model=\"adPvGt\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span>广告点击率小于等于</span>\r\n\t\t\t\t\t<el-input v-model=\"adPvRateLt\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t<span>广告点击率大于等于</span>\r\n\t\t\t\t\t<el-input v-model=\"adPvRateGt\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span>首个原文点击率小于等于</span>\r\n\t\t\t\t\t<el-input v-model=\"originPvRateLt\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t<span>首个原文点击率大于等于</span>\r\n\t\t\t\t\t<el-input v-model=\"originPvRateGt\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\tplaceholder=\"支付时间\"\r\n\t\t\t\t\t\tv-model=\"startCountDate\"\r\n\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\tplaceholder=\"支付时间\"\r\n\t\t\t\t\t\tv-model=\"endCountDate\"\r\n\t\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t<el-input v-model=\"userId\" placeholder=\"用户ID\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"search\">搜索</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"exportExcel\">导出</el-button>\r\n\t\t\t\t\t<span class=\"font-class\">默认展示近7天的数据</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<el-table v-loading=\"tableLoading\" :data=\"tableData\" border class=\"table\" ref=\"multipleTable\">\r\n\t\t\t\t<el-table-column prop=\"userId\" label=\"用户ID\" align=\"center\" sortable fixed>\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-link type=\"primary\" @click=\"idClick(scope.row)\">{{ scope.row.userId }}</el-link>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"remark\" label=\"备注\" align=\"center\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-popover trigger=\"hover\" placement=\"right\">\r\n\t\t\t\t\t\t\t<div style=\"margin-bottom:5px;\">\r\n\t\t\t\t\t\t\t\t<el-input type=\"textarea\" v-model=\"scope.row.remark\" :rows=\"3\" v-if=\"scope.row.remarkEdit\"></el-input>\r\n\t\t\t\t\t\t\t\t<p v-else>{{ scope.row.originRemark }}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<el-button type=\"info\" v-if=\"scope.row.remarkEdit\" @click=\"cancelRemark(scope.row, scope.$index)\">取消</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"info\" v-else @click=\"editRemark(scope.row, scope.$index)\">编辑</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"saveRemark(scope.row)\">保存</el-button>\r\n\t\t\t\t\t\t\t<div slot=\"reference\" class=\"name-wrapper\">\r\n\t\t\t\t\t\t\t\t<p size=\"medium\">{{ scope.row.originRemark ? scope.row.originRemark : '无' | formatString }}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</el-popover>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"userStatus\" label=\"状态\" align=\"center\" width=\"100\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-select :ref=\"'status' + scope.$index\" v-model=\"scope.row.status\" @change=\"statusChange($event, scope.$index, scope.row)\">\r\n\t\t\t\t\t\t\t<el-option label=\"禁用\" :value=\"0\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"正常\" :value=\"1\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"异常\" :value=\"2\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"turnMakeRatio\" label=\"预期收益比\" align=\"center\" width=\"120\" sortable>\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-link @click=\"turnMakeRatioClick(scope.row)\">\r\n\t\t\t\t\t\t\t{{ scope.row.turnMakeRatio + '%' }}&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t<i class=\"el-icon-edit\"></i>\r\n\t\t\t\t\t\t</el-link>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"articleIpCount\" label=\"文章IP\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"pvCount\" label=\"文章PV\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"adCount\" label=\"广告PV\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"adConverRate\" label=\"广告PV点击率\" :formatter=\"addPercent\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"adIpCount\" label=\"广告IP\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"ipPercentRate\" label=\"广告IP点击率\" :formatter=\"addPercent\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"originCount\" label=\"首个原文查看PV\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"originRate\" label=\"首个原文PV点击率\" :formatter=\"addPercent\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"secondOriginCount\" label=\"第二个原文查看PV\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"secondOriginRate\" label=\"第二个原文PV点击率\" :formatter=\"addPercent\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"originIpCount\" label=\"首个原文查看IP\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"originIpRate\" label=\"首个原文IP点击率\" :formatter=\"addPercent\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"secondOriginIpCount\" label=\"第二个原文查看IP\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"secondOriginIpRate\" label=\"第二个原文IP点击率\" :formatter=\"addPercent\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"jswxCount\" label=\"微信返回按钮PV\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"jswxIpCount\" label=\"微信返回按钮IP\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"wecharBackRate\" label=\"微信返回率\" :formatter=\"addPercent\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"userForwardValue\" label=\"转发价值\" :formatter=\"format\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"everyIpRate\" label=\"每IP成本\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"pvIncome\" label=\"支付IP\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"pvIncomeMoney\" label=\"支付金额\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"incomeClientRate\" label=\"支付率\" :formatter=\"addPercent\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"screensAvg\" label=\"滑屏平均次数\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"invalidCount\" label=\"无效浏览\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"m1Count\" label=\"停留时长1分钟内\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"m2Count\" label=\"停留时长1~2分钟内\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"m3Count\" label=\"停留时长2~3分钟内\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"m4Count\" label=\"停留时长3分钟以上\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"appSystemCode\" label=\"设备类型\" align=\"center\" :formatter=\"formaterVersion\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"androidIosRate\" label=\"安卓IOS打开比例\" :formatter=\"formatNull\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"netTypeRate\" label=\"网络类型占比\" :formatter=\"formatNull\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"shakeRate\" label=\"陀螺仪占比\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"batteryRate\" label=\"电池状态\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"shareCount\" label=\"分享文章数\" :formatter=\"format\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"maxDpiRate\" label=\"屏幕分辨率相似比\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"fingerprintsRate\" label=\"浏览器指纹去重比例\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"yearMonthDayHour\" label=\"统计时间\" align=\"center\" sortable></el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"pagination\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t:current-page.sync=\"page\"\r\n\t\t\t\t\t:total=\"cur_total\"\r\n\t\t\t\t></el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<el-dialog title=\"预期收益比\" :validate-on-rule-change=\"false\" width=\"70%\" @closed=\"dialogClose\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<div style=\"width: 30%;margin: 0 auto 10px;\">\r\n\t\t\t\t<el-input v-model=\"turnMakeRatio\" @change=\"checked\"></el-input>\r\n\t\t\t</div>\r\n\t\t\t<el-table :data=\"tableData2\" border :show-header=\"false\">\r\n\t\t\t\t<el-table-column v-for=\"(value, key) in tableData2[0]\" :key=\"key + '1'\" :prop=\"key\" :width=\"key !== 'name' ? '58' : ''\" align=\"center\"></el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitForm\">修 改</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 右侧侧滑菜单 -->\r\n\t\t<el-drawer :visible.sync=\"isShowDrawer\" direction=\"rtl\" :before-close=\"handleClose\">\r\n\t\t\t<div class=\"div-scroll\">\r\n\t\t\t\t<el-form :model=\"userDataForm\" class=\"userDataForm\" ref=\"userDataForm\">\r\n\t\t\t\t\t<el-form-item label=\"用户ID:\" prop=\"userId\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.userId }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"微信昵称:\" prop=\"nickname\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.nickname }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"微信头像:\" prop=\"headimgurl\"><el-avatar :src=\"userDataForm.headimgurl\" shape=\"square\" :size=\"50\"></el-avatar></el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"微信所在城市:\" prop=\"city\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.city }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"openID:\" prop=\"openid\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.openid }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"手机号:\" prop=\"mobile\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.mobile }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"支付宝账号:\" prop=\"alipay\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.alipay ? userDataForm.alipay : '未绑定' }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"注册时间:\" prop=\"addDate\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.addDate }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"最近登录时间:\" prop=\"maxNearLongin\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.maxNearLongin }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"师傅ID:\" prop=\"parentId\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.parentId }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"徒弟数量:\" prop=\"discipleCount\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.discipleCount }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"徒孙数量:\" prop=\"apprenticeCount\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.apprenticeCount }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"总收入:\" prop=\"totalIncome\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.totalIncome + ' 元' }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"转发收入:\" prop=\"totalForwardIncome\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.totalForwardIncome + ' 元' }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"活动收入:\" prop=\"activityAwardIncome\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.activityAwardIncome + ' 元' }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"分成收入:\" prop=\"totalSubDivide\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.totalSubDivide + ' 元' }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"提现金额:\" prop=\"withdrawable\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.withdrawable + ' 元' }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"账户余额:\" prop=\"balance\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.balance + ' 元' }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"提现次数:\" prop=\"withdrawalNum\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.withdrawalNum }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"用户转发价值:\" prop=\"userForwardValue\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.userForwardValue }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"封禁总次数:\" prop=\"bannedNum\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.bannedNum }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"解封总次数:\" prop=\"deblockingNum\">\r\n\t\t\t\t\t\t<p>{{ userDataForm.deblockingNum }}</p>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-table :data=\"userDataForm.banUserRecordList\" border class=\"table\">\r\n\t\t\t\t\t\t<el-table-column label=\"封禁记录\" align=\"center\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.status !== 1 ? scope.row.banReason : '——' }}\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t<el-table-column align=\"center\" label=\"解封记录\">\r\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.status === 1 ? scope.row.banReason : '——' }}\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t<el-table-column prop=\"banTime\" align=\"center\" :formatter=\"dateFormat\" label=\"日期\" sortable></el-table-column>\r\n\t\t\t\t\t</el-table>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t</el-drawer>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'user_data_monitor',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttableLoading: true,\r\n\t\t\ttabName: '-1',\r\n\r\n\t\t\tarticleIpLt: '',\r\n\t\t\tarticleIpGt: '',\r\n\t\t\tadPvLt: '',\r\n\t\t\tadPvGt: '',\r\n\t\t\tadPvRateLt: '',\r\n\t\t\tadPvRateGt: '',\r\n\t\t\toriginPvRateLt: '',\r\n\t\t\toriginPvRateGt: '',\r\n\t\t\tstartCountDate: this.$moment()\r\n\t\t\t\t.subtract(7, 'days')\r\n\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\tendCountDate: this.$moment().format('YYYY-MM-DD'),\r\n\t\t\tuserId: null,\r\n\r\n\t\t\ttableData: [],\r\n\t\t\tpage: 1,\r\n\t\t\tcur_total: 0,\r\n\t\t\tsize: 10,\r\n\r\n\t\t\t// 预期收益比 弹框\r\n\t\t\tdialogFormVisible: false,\r\n\t\t\tturnMakeRatio: null,\r\n\t\t\teditUserId: null,\r\n\t\t\tid: null,\r\n\t\t\tcheckData: {},\r\n\t\t\ttableData2: [],\r\n\r\n\t\t\tisShowDrawer: false,\r\n\t\t\tuserDataForm: {}\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\ttabChange(tab) {\r\n\t\t\tthis.page = 1;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tsearch() {\r\n\t\t\tthis.page = 1;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\texportExcel() {},\r\n\t\t// 点击 显示 右侧抽屉\r\n\t\tasync idClick(row) {\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data, message }\r\n\t\t\t} = await this.$axios.get(this.BASE_URL + 'admin/user/getUserStatisticsById', { params: { userId: row.userId } });\r\n\t\t\tif (code === '200') {\r\n\t\t\t\tthis.userDataForm = data;\r\n\t\t\t\tthis.userDataForm.userForwardValue = row.userForwardValue;\r\n\t\t\t} else {\r\n\t\t\t\tthis.userDataForm = {};\r\n\t\t\t}\r\n\t\t\tthis.isShowDrawer = true;\r\n\t\t},\r\n\t\teditRemark(row, index) {\r\n\t\t\tthis.tableData.forEach(item => {\r\n\t\t\t\titem.remarkEdit = false;\r\n\t\t\t});\r\n\t\t\trow.remarkEdit = true;\r\n\t\t},\r\n\t\tcancelRemark(row) {\r\n\t\t\trow.remark = row.originRemark;\r\n\t\t\trow.remarkEdit = false;\r\n\t\t},\r\n\t\tasync saveRemark(row) {\r\n\t\t\tif (!row.remarkEdit) return;\r\n\t\t\tlet postData = {\r\n\t\t\t\tuserId: row.userId,\r\n\t\t\t\tremark: row.remark\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, message }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/account/forceOutWecharUser', postData);\r\n\t\t\tif (code === '200') {\r\n\t\t\t\trow.remarkEdit = false;\r\n\t\t\t\tthis.$message.success('保存成功');\r\n\t\t\t\tthis.getData();\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync statusChange(e, index, row) {\r\n\t\t\t// 修改后的值\r\n\t\t\tlet postData = {\r\n\t\t\t\tuserId: row.userId,\r\n\t\t\t\tstatus: row.status\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, message }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/account/forceOutWecharUser', postData);\r\n\t\t\tif (code === '200') {\r\n\t\t\t\tthis.$message.success(message);\r\n\t\t\t\tthis.getData();\r\n\t\t\t}\r\n\t\t},\r\n\t\tturnMakeRatioClick(row) {\r\n\t\t\tif (row.turnMakeRatio !== null || turnMakeRatio !== '') {\r\n\t\t\t\tthis.turnMakeRatio = JSON.parse(JSON.stringify(row.turnMakeRatio));\r\n\t\t\t\tthis.editUserId = row.userId;\r\n\t\t\t\tthis.id = row.abatementConfigId;\r\n\t\t\t\tthis.checked();\r\n\t\t\t}\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t});\r\n\t\t},\r\n\t\tdialogClose() {\r\n\t\t\tthis.dialogFormVisible = false;\r\n\t\t},\r\n\t\tforamatCheck(data) {\r\n\t\t\tconst isExist = ['advertIncome', 'articleIncome'];\r\n\t\t\tconst isExistText = ['广告收益', '转发支付'];\r\n\t\t\tlet list = [];\r\n\t\t\tlet obj = {};\r\n\t\t\tfor (let key in data) {\r\n\t\t\t\tobj = {};\r\n\t\t\t\tif (isExist.includes(key)) {\r\n\t\t\t\t\tobj.name = isExistText[isExist.indexOf(key)];\r\n\t\t\t\t\tlet arr = data[key].split(',');\r\n\t\t\t\t\tarr.forEach((item, index) => {\r\n\t\t\t\t\t\tobj['advArt' + (index + 1)] = item;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlist.unshift(obj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn list;\r\n\t\t},\r\n\t\tasync checked() {\r\n\t\t\tconst rational = this.turnMakeRatio;\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + `admin/system/abatement/generateAbatementConfig?rational=${rational}`);\r\n\t\t\tif (code === '200') {\r\n\t\t\t\tthis.checkData = data;\r\n\t\t\t\tthis.tableData2 = this.foramatCheck(data);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsubmitForm() {\r\n\t\t\tlet { tableData2, checkData } = this;\r\n\t\t\tthis.$confirm('确定保存吗', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t})\r\n\t\t\t\t.then(async () => {\r\n\t\t\t\t\tlet postData = {\r\n\t\t\t\t\t\tuserId: this.editUserId,\r\n\t\t\t\t\t\tid: this.id,\r\n\t\t\t\t\t\tturnMakeRatio: this.turnMakeRatio * 1,\r\n\t\t\t\t\t\tadvertIncome: checkData.advertIncome,\r\n\t\t\t\t\t\tarticleIncome: checkData.articleIncome\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata: { code, message }\r\n\t\t\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/system/abatement/updateTurnMakeTatioByUId', postData);\r\n\t\t\t\t\tif (code === '200') {\r\n\t\t\t\t\t\tthis.$message.success(message);\r\n\t\t\t\t\t\tthis.getData();\r\n\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {});\r\n\t\t},\r\n\t\thandleClose(e) {\r\n\t\t\tthis.isShowDrawer = false;\r\n\t\t},\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.page = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\thandleSizeChange(val) {\r\n\t\t\tthis.size = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tformaterVersion(row, column, cellValue, index) {\r\n\t\t\treturn cellValue === 1 ? 'android' : cellValue === 2 ? 'ios' : '未知';\r\n\t\t},\r\n\t\t// formatDate(row, column, cellValue, index) {\r\n\t\t// \tconst yy = cellValue.substr(0, 4);\r\n\t\t// \tconst MM = cellValue.substr(4, 2);\r\n\t\t// \tconst dd = cellValue.substr(6, 2);\r\n\t\t// \treturn `${yy}-${MM}-${dd}`;\r\n\t\t// },\r\n\t\tformat(row, column, cellValue, index) {\r\n\t\t\tif (cellValue === null || cellValue === '') return 0;\r\n\t\t\treturn cellValue;\r\n\t\t},\r\n\t\taddPercent(row, column, cellValue, index) {\r\n\t\t\treturn cellValue + '%';\r\n\t\t},\r\n\t\tformatNull(row, column, cellValue, index) {\r\n\t\t\treturn cellValue.replace(/null/g,0);\r\n\t\t},\r\n\t\tdateFormat(row, column, cellValue, index) {\r\n\t\t\tconst yy = cellValue.substr(0, 4);\r\n\t\t\tconst MM = cellValue.substr(4, 2);\r\n\t\t\tconst dd = cellValue.substr(6, 2);\r\n\t\t\tconst hh = cellValue.substr(8, 2);\r\n\t\t\tconst mm = cellValue.substr(10, 2);\r\n\t\t\tconst ss = cellValue.substr(12, 2);\r\n\t\t\treturn `${yy}-${MM}-${dd} ${hh}:${mm}:${ss}`;\r\n\t\t},\r\n\t\tasync getData() {\r\n\t\t\tthis.tableLoading = true;\r\n\t\t\tlet {\r\n\t\t\t\ttabName,\r\n\t\t\t\tarticleIpLt,\r\n\t\t\t\tarticleIpGt,\r\n\t\t\t\tadPvLt,\r\n\t\t\t\tadPvGt,\r\n\t\t\t\tadPvRateLt,\r\n\t\t\t\tadPvRateGt,\r\n\t\t\t\toriginPvRateLt,\r\n\t\t\t\toriginPvRateGt,\r\n\t\t\t\tpage,\r\n\t\t\t\tsize,\r\n\t\t\t\tstartCountDate,\r\n\t\t\t\tendCountDate,\r\n\t\t\t\tuserId\r\n\t\t\t} = this;\r\n\t\t\tlet postData = {\r\n\t\t\t\tstatus: parseInt(tabName) === -1 ? '' : parseInt(tabName),\r\n\t\t\t\tarticleIpLt,\r\n\t\t\t\tarticleIpGt,\r\n\t\t\t\tadPvLt,\r\n\t\t\t\tadPvGt,\r\n\t\t\t\tadPvRateLt,\r\n\t\t\t\tadPvRateGt,\r\n\t\t\t\toriginPvRateLt,\r\n\t\t\t\toriginPvRateGt,\r\n\t\t\t\tpage,\r\n\t\t\t\tsize,\r\n\t\t\t\tstartCountDate,\r\n\t\t\t\tendCountDate,\r\n\t\t\t\tuserId,\r\n\t\t\t\tuserType: ''\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data, message }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/statistics/findUserDataMonitoring', postData);\r\n\t\t\tif (code == '200') {\r\n\t\t\t\tif (data.list !== null) {\r\n\t\t\t\t\tdata.list.forEach(item => {\r\n\t\t\t\t\t\titem.remarkEdit = false;\r\n\t\t\t\t\t\titem.originRemark = item.remark;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableData = data.list;\r\n\t\t\t\tthis.cur_total = data.total;\r\n\t\t\t\tthis.tableLoading = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tfilters: {\r\n\t\tformatString: function(value) {\r\n\t\t\tif (value && value.length > 5) {\r\n\t\t\t\treturn value.substring(0, 5) + '...';\r\n\t\t\t} else {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-input {\r\n\twidth: 150px;\r\n}\r\n.handle-box {\r\n\tfont-size: 14px;\r\n}\r\n.handle-box > div {\r\n\tmargin-bottom: 10px;\r\n\tfont-size: 14px;\r\n}\r\n.handle-box span {\r\n\tdisplay: inline-block;\r\n\twidth: 180px;\r\n\tcolor: #333333;\r\n}\r\n.handle-box > div span:nth-child(3) {\r\n\tmargin-left: 50px;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n.div-scroll {\r\n\theight: 90vh;\r\n\toverflow: auto;\r\n\tpadding-bottom: 10vh;\r\n\tpadding-right: 15px;\r\n}\r\n.userDataForm {\r\n\tpadding-left: 20px;\r\n}\r\n.hideInput {\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\tborder: 1px solid #d9d9d9;\r\n\toutline: none;\r\n\theight: 25px;\r\n\tborder-radius: 7px;\r\n}\r\n.hideInput:focus {\r\n\tborder-color: #479ef8;\r\n}\r\ni {\r\n\tcolor: #479ef8;\r\n}\r\n.handle-label {\r\n\twidth: 180px;\r\n}\r\n</style>\n"]}]}