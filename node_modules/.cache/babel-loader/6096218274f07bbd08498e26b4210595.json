{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\add\\time_price_add.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\add\\time_price_add.vue","mtime":1597311691630},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'time_price_add',\n  data: function data() {\n    return {\n      formLabelWidth: '100px',\n      dataForm: {\n        startDate: null,\n        endDate: null,\n        children: [{\n          startInterval: '',\n          endInterval: '',\n          incomePricePerIP: null,\n          costPricePerIP: null,\n          vipIncomePricePerIP: null,\n          vipCostPricePerIP: null\n        }]\n      },\n      rules: {\n        startDate: [{\n          required: true,\n          message: '开始日期不能为空',\n          trigger: 'change'\n        }],\n        endDate: [{\n          required: true,\n          message: '结束日期不能为空',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  methods: {\n    startDateChange: function startDateChange() {\n      if (this.dataForm.startDate > this.dataForm.endDate) {\n        this.$message({\n          message: '起始日期不得大于结束日期',\n          type: 'warning'\n        });\n        this.dataForm.startDate = this.dataForm.endDate;\n      }\n    },\n    endDateChange: function endDateChange() {\n      if (this.dataForm.startDate > this.dataForm.endDate) {\n        this.$message({\n          message: '结束日期不得小于起始日期',\n          type: 'warning'\n        });\n        this.dataForm.endDate = this.dataForm.startDate;\n      }\n    },\n    addTime: function addTime() {\n      this.dataForm.children.push({\n        startInterval: null,\n        endInterval: null,\n        incomePricePerIP: null,\n        costPricePerIP: null,\n        vipIncomePricePerIP: null,\n        vipCostPricePerIP: null\n      });\n    },\n    removeTime: function removeTime(item) {\n      if (this.dataForm.children.length <= 1) return;\n      this.dataForm.children.pop();\n    },\n    reset: function reset() {\n      var _this = this;\n\n      this.$confirm('确定清空吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this.$refs['dataForm'].resetFields();\n      }).catch(function () {});\n    },\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this2.$confirm('确定添加吗?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(function () {\n            _this2.saveAward();\n          }).catch(function () {});\n        }\n      });\n    },\n    saveAward: function saveAward() {\n      var _this3 = this;\n\n      var postData = this.dataForm;\n      this.$axios.post(this.BASE_URL + \"admin/timePrice/saveTimePrice?startDate=\".concat(this.dataForm.startDate, \"&endDate=\").concat(this.dataForm.endDate), this.dataForm.children).then(function (res) {\n        if (res.data.code === '200') {\n          _this3.$message({\n            message: '保存成功',\n            type: 'success'\n          });\n\n          _this3.$refs['dataForm'].resetFields();\n        } else {\n          _this3.$message({\n            message: '保存失败',\n            type: 'error'\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["time_price_add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,SAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA,IAFA;AAGA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,aAAA,EAAA,EADA;AAEA,UAAA,WAAA,EAAA,EAFA;AAGA,UAAA,gBAAA,EAAA,IAHA;AAIA,UAAA,cAAA,EAAA,IAJA;AAKA,UAAA,mBAAA,EAAA,IALA;AAMA,UAAA,iBAAA,EAAA;AANA,SADA;AAHA,OAFA;AAgBA,MAAA,KAAA,EAAA;AACA,QAAA,SAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,OAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAFA;AAhBA,KAAA;AAqBA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,KAAA,QAAA,CAAA,SAAA,GAAA,KAAA,QAAA,CAAA,OAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,cADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA,aAAA,QAAA,CAAA,SAAA,GAAA,KAAA,QAAA,CAAA,OAAA;AACA;AACA,KATA;AAUA,IAAA,aAVA,2BAUA;AACA,UAAA,KAAA,QAAA,CAAA,SAAA,GAAA,KAAA,QAAA,CAAA,OAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,cADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA,aAAA,QAAA,CAAA,OAAA,GAAA,KAAA,QAAA,CAAA,SAAA;AACA;AACA,KAlBA;AAmBA,IAAA,OAnBA,qBAmBA;AACA,WAAA,QAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,QAAA,aAAA,EAAA,IADA;AAEA,QAAA,WAAA,EAAA,IAFA;AAGA,QAAA,gBAAA,EAAA,IAHA;AAIA,QAAA,cAAA,EAAA,IAJA;AAKA,QAAA,mBAAA,EAAA,IALA;AAMA,QAAA,iBAAA,EAAA;AANA,OAAA;AAQA,KA5BA;AA6BA,IAAA,UA7BA,sBA6BA,IA7BA,EA6BA;AACA,UAAA,KAAA,QAAA,CAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,WAAA,QAAA,CAAA,QAAA,CAAA,GAAA;AACA,KAhCA;AAiCA,IAAA,KAjCA,mBAiCA;AAAA;;AACA,WAAA,QAAA,CAAA,QAAA,EAAA,IAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,UAAA,EAAA,WAAA;AACA,OANA,EAMA,KANA,CAMA,YAAA,CAAA,CANA;AAOA,KAzCA;AA0CA,IAAA,UA1CA,sBA0CA,QA1CA,EA0CA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,QAAA,EAAA,IAAA,EAAA;AACA,YAAA,iBAAA,EAAA,IADA;AAEA,YAAA,gBAAA,EAAA,IAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA,EAIA,IAJA,CAIA,YAAA;AACA,YAAA,MAAA,CAAA,SAAA;AACA,WANA,EAMA,KANA,CAMA,YAAA,CAAA,CANA;AAOA;AACA,OAVA;AAWA,KAtDA;AAuDA,IAAA,SAvDA,uBAuDA;AAAA;;AACA,UAAA,QAAA,GAAA,KAAA,QAAA;AACA,WAAA,MAAA,CACA,IADA,CACA,KAAA,QAAA,qDAAA,KAAA,QAAA,CAAA,SAAA,sBAAA,KAAA,QAAA,CAAA,OAAA,CADA,EACA,KAAA,QAAA,CAAA,QADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,MADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;;AAIA,UAAA,MAAA,CAAA,KAAA,CAAA,UAAA,EAAA,WAAA;AACA,SANA,MAMA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,MADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA;AACA,OAfA;AAgBA;AAzEA;AAzBA,CAAA","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t限时提价\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>新增限时提价</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form-box\">\r\n\t\t\t\t<el-form :model=\"dataForm\" :label-width=\"formLabelWidth\" :rules=\"rules\" class=\"form--wrap\" ref=\"dataForm\">\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"开始日期\" prop=\"startDate\">\r\n\t\t\t\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\t\t\t\tv-model=\"dataForm.startDate\"\r\n\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"选择日期\"\r\n\t\t\t\t\t\t\t\t\t@change=\"startDateChange\"\r\n\t\t\t\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"结束日期\" prop=\"endDate\">\r\n\t\t\t\t\t\t\t\t<el-date-picker v-model=\"dataForm.endDate\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\" @change=\"endDateChange\"></el-date-picker>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t<el-divider></el-divider>\r\n\t\t\t\t\t<el-form-item label-width=\"0px\" v-for=\"(item, index) in dataForm.children\" :key=\"index\">\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item\r\n\t\t\t\t\t\t\t\t\tlabel=\"开始时间\"\r\n\t\t\t\t\t\t\t\t\t:prop=\"'children.' + index + '.startInterval'\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[{ required: true, message: '开始时间不能为空', trigger: 'change' }]\">\r\n\t\t\t\t\t\t\t\t\t<el-time-picker v-model=\"item.startInterval\" value-format=\"hh:mm:ss\" placeholder=\"开始时间\"></el-time-picker>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item\r\n\t\t\t\t\t\t\t\t\tlabel=\"结束时间\"\r\n\t\t\t\t\t\t\t\t\t:prop=\"'children.' + index + '.endInterval'\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[{ required: true, message: '结束时间不能为空', trigger: 'change' }]\">\r\n\t\t\t\t\t\t\t\t\t<el-time-picker v-model=\"item.endInterval\" value-format=\"hh:mm:ss\" placeholder=\"结束时间\"></el-time-picker>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"普通IP收入\" :prop=\"'children.' + index + '.incomePricePerIP'\">\r\n\t\t\t\t\t\t\t\t\t<el-input class=\"handle-input\" v-model=\"item.incomePricePerIP\" placeholder=\"普通IP收入\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"普通IP成本\" :prop=\"'children.' + index + '.costPricePerIP'\">\r\n\t\t\t\t\t\t\t\t\t<el-input class=\"handle-input\" v-model=\"item.costPricePerIP\" placeholder=\"普通IP成本\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"VIP IP收入\" :prop=\"'children.' + index + '.vipIncomePricePerIP'\">\r\n\t\t\t\t\t\t\t\t\t<el-input class=\"handle-input\" v-model=\"item.vipIncomePricePerIP\" placeholder=\"VIP IP收入\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"VIP IP成本\" :prop=\"'children.' + index + '.vipCostPricePerIP'\">\r\n\t\t\t\t\t\t\t\t\t<el-input class=\"handle-input\" v-model=\"item.vipCostPricePerIP\" placeholder=\"VIP IP成本\"></el-input>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button @click.prevent=\"removeTime\" type=\"warning\">删除</el-button>\r\n\t\t\t\t\t\t<el-button @click.prevent=\"addTime\" type=\"info\">新增</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button @click=\"reset\">取 消</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('dataForm')\">确 定</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'time_price_add',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tformLabelWidth: '100px',\r\n\t\t\tdataForm: {\r\n\t\t\t\tstartDate: null,\r\n\t\t\t\tendDate: null,\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstartInterval: '',\r\n\t\t\t\t\t\tendInterval: '',\r\n\t\t\t\t\t\tincomePricePerIP: null,\r\n\t\t\t\t\t\tcostPricePerIP: null,\r\n\t\t\t\t\t\tvipIncomePricePerIP: null,\r\n\t\t\t\t\t\tvipCostPricePerIP: null\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\trules: {\r\n\t\t\t\tstartDate: [{ required: true, message: '开始日期不能为空', trigger: 'change' }],\r\n\t\t\t\tendDate: [{ required: true, message: '结束日期不能为空', trigger: 'change' }]\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tstartDateChange() {\r\n\t\t\tif (this.dataForm.startDate > this.dataForm.endDate) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '起始日期不得大于结束日期',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\tthis.dataForm.startDate = this.dataForm.endDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\tendDateChange() {\r\n\t\t\tif (this.dataForm.startDate > this.dataForm.endDate) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '结束日期不得小于起始日期',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\tthis.dataForm.endDate = this.dataForm.startDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\taddTime() {\r\n\t\t\tthis.dataForm.children.push({\r\n\t\t\t\tstartInterval: null,\r\n\t\t\t\tendInterval: null,\r\n\t\t\t\tincomePricePerIP: null,\r\n\t\t\t\tcostPricePerIP: null,\r\n\t\t\t\tvipIncomePricePerIP: null,\r\n\t\t\t\tvipCostPricePerIP: null\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveTime(item) {\r\n\t\t\tif (this.dataForm.children.length <= 1) return;\r\n\t\t\tthis.dataForm.children.pop();\r\n\t\t},\r\n\t\t\treset() {\r\n\t\t\tthis.$confirm('确定清空吗?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$refs['dataForm'].resetFields();\r\n\t\t\t}).catch(() => {});\r\n\t\t},\r\n\t\tsubmitForm(formName) {\r\n\t\t\tthis.$refs[formName].validate(valid => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tthis.$confirm('确定添加吗?', '提示', {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\tthis.saveAward();\r\n\t\t\t\t\t}).catch(() => {});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsaveAward() {\r\n\t\t\tlet postData = this.dataForm;\r\n\t\t\tthis.$axios\r\n\t\t\t\t.post(this.BASE_URL + `admin/timePrice/saveTimePrice?startDate=${this.dataForm.startDate}&endDate=${this.dataForm.endDate}`, this.dataForm.children)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.data.code === '200') {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$refs['dataForm'].resetFields();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存失败',\r\n\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-input {\r\n\twidth: 220px;\r\n}\r\n</style>\n"],"sourceRoot":"src/main/basic/add"}]}