{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\common\\Tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\common\\Tags.vue","mtime":1596249713287},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport bus from './bus';\nexport default {\n  name: 'Tags',\n  data: function data() {\n    return {\n      tagsList: []\n    };\n  },\n  methods: {\n    isActive: function isActive(path) {\n      return path === this.$route.fullPath;\n    },\n    // 关闭单个标签\n    closeTags: function closeTags(index) {\n      var delItem = this.tagsList.splice(index, 1)[0];\n      var item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\n\n      if (item) {\n        delItem.path === this.$route.fullPath && this.$router.push(item.path);\n      } else {\n        this.$router.push('/');\n      }\n    },\n    // 关闭全部标签\n    closeAll: function closeAll() {\n      this.tagsList = [];\n      this.$router.push('/');\n    },\n    // 关闭其他标签\n    closeOther: function closeOther() {\n      var _this = this;\n\n      var curItem = this.tagsList.filter(function (item) {\n        return item.path === _this.$route.fullPath;\n      });\n      this.tagsList = curItem;\n    },\n    // 设置标签\n    setTags: function setTags(route) {\n      var isExist = this.tagsList.some(function (item) {\n        return item.path === route.fullPath;\n      });\n\n      if (!isExist) {\n        if (this.tagsList.length >= 8) {\n          this.tagsList.shift();\n        }\n\n        this.tagsList.push({\n          title: route.meta.title,\n          path: route.fullPath,\n          name: route.matched[1].components.default.name\n        });\n      }\n\n      bus.$emit('tags', this.tagsList);\n    },\n    handleTags: function handleTags(command) {\n      command === 'other' ? this.closeOther() : this.closeAll();\n    }\n  },\n  computed: {\n    showTags: function showTags() {\n      return this.tagsList.length > 0;\n    }\n  },\n  watch: {\n    $route: function $route(newValue, oldValue) {\n      this.setTags(newValue);\n    }\n  },\n  created: function created() {\n    this.setTags(this.$route);\n  }\n};",{"version":3,"sources":["Tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,GAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,IADA,EACA;AACA,aAAA,IAAA,KAAA,KAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAIA;AACA,IAAA,SALA,qBAKA,KALA,EAKA;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,KAAA,QAAA,CAAA,KAAA,IAAA,KAAA,QAAA,CAAA,KAAA,CAAA,GAAA,KAAA,QAAA,CAAA,KAAA,GAAA,CAAA,CAAA;;AACA,UAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,IAAA,KAAA,KAAA,MAAA,CAAA,QAAA,IAAA,KAAA,OAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,KAbA;AAcA;AACA,IAAA,QAfA,sBAeA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,KAlBA;AAmBA;AACA,IAAA,UApBA,wBAoBA;AAAA;;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,MAAA,CAAA,QAAA;AACA,OAFA,CAAA;AAGA,WAAA,QAAA,GAAA,OAAA;AACA,KAzBA;AA0BA;AACA,IAAA,OA3BA,mBA2BA,KA3BA,EA2BA;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,QAAA;AACA,OAFA,CAAA;;AAGA,UAAA,CAAA,OAAA,EAAA;AACA,YAAA,KAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,QAAA,CAAA,KAAA;AACA;;AACA,aAAA,QAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,EAAA,KAAA,CAAA,IAAA,CAAA,KADA;AAEA,UAAA,IAAA,EAAA,KAAA,CAAA,QAFA;AAGA,UAAA,IAAA,EAAA,KAAA,CAAA,OAAA,CAAA,CAAA,EAAA,UAAA,CAAA,OAAA,CAAA;AAHA,SAAA;AAKA;;AACA,MAAA,GAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,QAAA;AACA,KA1CA;AA2CA,IAAA,UA3CA,sBA2CA,OA3CA,EA2CA;AACA,MAAA,OAAA,KAAA,OAAA,GAAA,KAAA,UAAA,EAAA,GAAA,KAAA,QAAA,EAAA;AACA;AA7CA,GAPA;AAsDA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA;AACA;AAHA,GAtDA;AA2DA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,QADA,EACA,QADA,EACA;AACA,WAAA,OAAA,CAAA,QAAA;AACA;AAHA,GA3DA;AAgEA,EAAA,OAhEA,qBAgEA;AACA,SAAA,OAAA,CAAA,KAAA,MAAA;AACA;AAlEA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"tags\" v-if=\"showTags\">\r\n\t\t<ul>\r\n\t\t\t<li class=\"tags-li\" v-for=\"(item, index) in tagsList\" :class=\"{ active: isActive(item.path) }\" :key=\"index\">\r\n\t\t\t\t<router-link :to=\"item.path\" class=\"tags-li-title\">{{ item.title }}</router-link>\r\n\t\t\t\t<span class=\"tags-li-icon\" @click=\"closeTags(index)\"><i class=\"el-icon-close\"></i></span>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class=\"tags-close-box\">\r\n\t\t\t<el-dropdown @command=\"handleTags\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\">\r\n\t\t\t\t\t标签选项\r\n\t\t\t\t\t<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-dropdown-menu size=\"small\" slot=\"dropdown\">\r\n\t\t\t\t\t<el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\r\n\t\t\t\t\t<el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\r\n\t\t\t\t</el-dropdown-menu>\r\n\t\t\t</el-dropdown>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport bus from './bus';\r\nexport default {\r\n\tname:'Tags',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttagsList: []\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tisActive(path) {\r\n\t\t\treturn path === this.$route.fullPath;\r\n\t\t},\r\n\t\t// 关闭单个标签\r\n\t\tcloseTags(index) {\r\n\t\t\tconst delItem = this.tagsList.splice(index, 1)[0];\r\n\t\t\tconst item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\r\n\t\t\tif (item) {\r\n\t\t\t\tdelItem.path === this.$route.fullPath && this.$router.push(item.path);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$router.push('/');\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 关闭全部标签\r\n\t\tcloseAll() {\r\n\t\t\tthis.tagsList = [];\r\n\t\t\tthis.$router.push('/');\r\n\t\t},\r\n\t\t// 关闭其他标签\r\n\t\tcloseOther() {\r\n\t\t\tconst curItem = this.tagsList.filter(item => {\r\n\t\t\t\treturn item.path === this.$route.fullPath;\r\n\t\t\t});\r\n\t\t\tthis.tagsList = curItem;\r\n\t\t},\r\n\t\t// 设置标签\r\n\t\tsetTags(route) {\r\n\t\t\tconst isExist = this.tagsList.some(item => {\r\n\t\t\t\treturn item.path === route.fullPath;\r\n\t\t\t});\r\n\t\t\tif (!isExist) {\r\n\t\t\t\tif (this.tagsList.length >= 8) {\r\n\t\t\t\t\tthis.tagsList.shift();\r\n\t\t\t\t}\r\n\t\t\t\tthis.tagsList.push({\r\n\t\t\t\t\ttitle: route.meta.title,\r\n\t\t\t\t\tpath: route.fullPath,\r\n\t\t\t\t\tname: route.matched[1].components.default.name\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tbus.$emit('tags', this.tagsList);\r\n\t\t},\r\n\t\thandleTags(command) {\r\n\t\t\tcommand === 'other' ? this.closeOther() : this.closeAll();\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tshowTags() {\r\n\t\t\treturn this.tagsList.length > 0;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t$route(newValue, oldValue) {\r\n\t\t\tthis.setTags(newValue);\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.setTags(this.$route);\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.tags {\r\n\tposition: relative;\r\n\theight: 30px;\r\n\toverflow: hidden;\r\n\tbackground: #fff;\r\n\tpadding-right: 120px;\r\n\tbox-shadow: 0 5px 10px #ddd;\r\n}\r\n\r\n.tags ul {\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.tags-li {\r\n\tfloat: left;\r\n\tmargin: 3px 5px 2px 3px;\r\n\tborder-radius: 3px;\r\n\tfont-size: 12px;\r\n\toverflow: hidden;\r\n\tcursor: pointer;\r\n\theight: 23px;\r\n\tline-height: 23px;\r\n\tborder: 1px solid #e9eaec;\r\n\tbackground: #fff;\r\n\tpadding: 0 5px 0 12px;\r\n\tvertical-align: middle;\r\n\tcolor: #666;\r\n\t-webkit-transition: all 0.3s ease-in;\r\n\t-moz-transition: all 0.3s ease-in;\r\n\ttransition: all 0.3s ease-in;\r\n}\r\n\r\n.tags-li:not(.active):hover {\r\n\tbackground: #f8f8f8;\r\n}\r\n\r\n.tags-li.active {\r\n\tcolor: #fff;\r\n}\r\n\r\n.tags-li-title {\r\n\tfloat: left;\r\n\tmax-width: 80px;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tmargin-right: 5px;\r\n\tcolor: #666;\r\n}\r\n\r\n.tags-li.active .tags-li-title {\r\n\tcolor: #fff;\r\n}\r\n\r\n.tags-close-box {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tbox-sizing: border-box;\r\n\tpadding-top: 1px;\r\n\ttext-align: center;\r\n\twidth: 110px;\r\n\theight: 30px;\r\n\tbackground: #fff;\r\n\tbox-shadow: -3px 0 15px 3px rgba(0, 0, 0, 0.1);\r\n\tz-index: 10;\r\n}\r\n</style>\n"],"sourceRoot":"src/main/common"}]}