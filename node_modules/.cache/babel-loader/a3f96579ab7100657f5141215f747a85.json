{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\app_version_management.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\app_version_management.vue","mtime":1596769490228},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'basetable',\n  data: function data() {\n    return {\n      url: './vuetable.json',\n      tableLoading: false,\n      tableData: [],\n      cur_page: 1,\n      currentPage: 1,\n      pageSize: 10,\n      cur_total: 0,\n      multipleSelection: [],\n      appVersionCon: '',\n      del_list: [],\n      editVisible: false,\n      form: {\n        id: '',\n        appType: 1,\n        updateContent: '',\n        updateType: 1,\n        appVersion: '',\n        downloadAddress: '',\n        createTime: '',\n        updateTime: ''\n      },\n      // 下拉框数据填充\n      appTypeOptions: [//APP类型 1:android 2:ios\n      {\n        value: 1,\n        lable: 'android'\n      }, {\n        value: 2,\n        lable: 'ios'\n      }],\n      updateTypeOptions: [//更新类型 1:更新 2:强制更新\n      {\n        value: 1,\n        lable: '更新'\n      }, {\n        value: 2,\n        lable: '强制更新'\n      }]\n    };\n  },\n  created: function created() {\n    this.getData();\n  },\n  methods: {\n    // 分页导航\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.cur_page = val;\n      this.getData();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.currentPage = 1;\n      this.cur_page = 1;\n      this.pageSize = val;\n      this.getData();\n    },\n    getData: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var postData, _ref, _ref$data$data, list, total;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.tableLoading = true;\n                postData = {\n                  page: this.cur_page,\n                  appVersion: this.appVersionCon,\n                  size: this.pageSize\n                };\n                _context.next = 4;\n                return this.$axios.post(this.BASE_URL + 'admin/system/list', postData);\n\n              case 4:\n                _ref = _context.sent;\n                _ref$data$data = _ref.data.data;\n                list = _ref$data$data.list;\n                total = _ref$data$data.total;\n                this.tableData = list;\n                this.cur_total = total;\n                this.tableLoading = false;\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }(),\n    search: function search() {\n      this.cur_page = 1;\n      this.currentPage = 1;\n      this.getData();\n    },\n    appTypeFormatter: function appTypeFormatter(row, column) {\n      return row.appType == 1 ? 'android' : 'ios';\n    },\n    updateTypeFormatter: function updateTypeFormatter(row, column) {\n      return row.updateType == 1 ? '更新' : '强制更新';\n    },\n    filterTag: function filterTag(value, row) {\n      return row.tag === value;\n    },\n    addNewVersion: function addNewVersion() {\n      this.$router.push('/app_version_management_add');\n    },\n    handleEdit: function handleEdit(index, row) {\n      this.form = {\n        id: row.id,\n        appType: row.appType,\n        updateContent: row.updateContent,\n        updateType: row.updateType,\n        appVersion: row.appVersion,\n        downloadAddress: row.downloadAddress\n      };\n      this.editVisible = true;\n    },\n    handleDelete: function handleDelete(index, row) {\n      var _this = this;\n\n      this.form = {\n        id: row.id\n      };\n      this.$confirm('此操作将删除该条记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this.deleteRow();\n      }).catch(function () {\n        _this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    // delAll() {\n    //     const length = this.multipleSelection.length;\n    //     let str = '';\n    //     this.del_list = this.del_list.concat(this.multipleSelection);\n    //     for (let i = 0; i < length; i++) {\n    //         str += this.multipleSelection[i].name + ' ';\n    //     }\n    //     this.$message.error('删除了' + str);\n    //     this.multipleSelection = [];\n    // },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    // 保存编辑\n    saveEdit: function () {\n      var _saveEdit = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.$confirm('确定保存吗?', '提示', {\n                  confirmButtonText: '确定',\n                  cancelButtonText: '取消',\n                  type: 'warning'\n                }).then(function () {\n                  _this2.$axios.post(_this2.BASE_URL + 'admin/system/saveAppVersionInfo', _this2.form).then(function (res) {\n                    if (res.data.code == '200') {\n                      _this2.editVisible = false;\n\n                      _this2.$message.success(res.data.message);\n\n                      _this2.getData();\n\n                      return;\n                    }\n\n                    _this2.$message.error(res.data.message);\n                  });\n                }).catch(function () {});\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function saveEdit() {\n        return _saveEdit.apply(this, arguments);\n      }\n\n      return saveEdit;\n    }(),\n    // 确定删除\n    deleteRow: function deleteRow() {\n      var _this3 = this;\n\n      var formData = new FormData();\n      formData.append('id', this.form.id);\n      this.$axios.post(this.BASE_URL + 'admin/system/updateAppVersionInfoByDelete', formData).then(function (res) {\n        _this3.getData();\n\n        _this3.$message.success(res.data.message);\n      });\n    }\n  }\n};",{"version":3,"sources":["app_version_management.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"table\">\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\tapp版本管理\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-input v-model=\"appVersionCon\" placeholder=\"版本号\" clearable class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"search\">搜索</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addNewVersion\" class=\"mr10\">添加</el-button>\r\n\t\t\t</div>\r\n\t\t\t<el-table :data=\"tableData\" v-loading=\"tableLoading\" border class=\"table\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t\t<!-- <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column> -->\r\n\t\t\t\t<el-table-column prop=\"appVersion\" label=\"app版本\" width=\"100\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"appType\" label=\"app类型\" width=\"80\" align=\"center\" :formatter=\"appTypeFormatter\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"updateContent\" label=\"更新内容\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"updateType\" label=\"更新类型\" width=\"100\" align=\"center\" :formatter=\"updateTypeFormatter\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"downloadAddress\" label=\"下载地址\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"createTime\" label=\"发布时间\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" align=\"center\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"pagination\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t\t:current-page.sync=\"currentPage\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t:total=\"cur_total\"\r\n\t\t\t\t></el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 编辑弹出框 -->\r\n\t\t<el-dialog title=\"编辑\" :visible.sync=\"editVisible\" width=\"50%\">\r\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"100px\">\r\n\t\t\t\t<el-form-item label=\"app类型\">\r\n\t\t\t\t\t<el-select v-model=\"form.appType\" placeholder=\"请选择\" class=\"handle-select mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"op in appTypeOptions\" :key=\"op.value\" :label=\"op.lable\" :value=\"op.value\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"更新内容\"><el-input v-model=\"form.updateContent\" rows=\"3\" type=\"textarea\"></el-input></el-form-item>\r\n\t\t\t\t<el-form-item label=\"更新类型\">\r\n\t\t\t\t\t<el-select v-model=\"form.updateType\" placeholder=\"请选择\" class=\"handle-select mr10\">\r\n\t\t\t\t\t\t<el-option v-for=\"op in updateTypeOptions\" :key=\"op.value\" :label=\"op.lable\" :value=\"op.value\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"app版本\"><el-input v-model=\"form.appVersion\"></el-input></el-form-item>\r\n\t\t\t\t<el-form-item label=\"下载地址\"><el-input v-model=\"form.downloadAddress\"></el-input></el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"editVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'basetable',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\turl: './vuetable.json',\r\n\t\t\ttableLoading: false,\r\n\t\t\ttableData: [],\r\n\t\t\tcur_page: 1,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tcur_total: 0,\r\n\t\t\tmultipleSelection: [],\r\n\t\t\tappVersionCon: '',\r\n\t\t\tdel_list: [],\r\n\t\t\teditVisible: false,\r\n\t\t\tform: {\r\n\t\t\t\tid: '',\r\n\t\t\t\tappType: 1,\r\n\t\t\t\tupdateContent: '',\r\n\t\t\t\tupdateType: 1,\r\n\t\t\t\tappVersion: '',\r\n\t\t\t\tdownloadAddress: '',\r\n\t\t\t\tcreateTime: '',\r\n\t\t\t\tupdateTime: ''\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 下拉框数据填充\r\n\t\t\tappTypeOptions: [\r\n\t\t\t\t//APP类型 1:android 2:ios\r\n\t\t\t\t{ value: 1, lable: 'android' },\r\n\t\t\t\t{ value: 2, lable: 'ios' }\r\n\t\t\t],\r\n\t\t\tupdateTypeOptions: [\r\n\t\t\t\t//更新类型 1:更新 2:强制更新\r\n\t\t\t\t{ value: 1, lable: '更新' },\r\n\t\t\t\t{ value: 2, lable: '强制更新' }\r\n\t\t\t]\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\t// 分页导航\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.currentPage = val;\r\n\t\t\tthis.cur_page = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\thandleSizeChange(val) {\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.pageSize = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tasync getData() {\r\n\t\t\tthis.tableLoading = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tpage: this.cur_page,\r\n\t\t\t\tappVersion: this.appVersionCon,\r\n\t\t\t\tsize: this.pageSize\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdata: { list, total }\r\n\t\t\t\t}\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/system/list', postData);\r\n\t\t\tthis.tableData = list;\r\n\t\t\tthis.cur_total = total;\r\n\t\t\tthis.tableLoading = false;\r\n\t\t},\r\n\t\tsearch() {\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tappTypeFormatter(row, column) {\r\n\t\t\treturn row.appType == 1 ? 'android' : 'ios';\r\n\t\t},\r\n\t\tupdateTypeFormatter(row, column) {\r\n\t\t\treturn row.updateType == 1 ? '更新' : '强制更新';\r\n\t\t},\r\n\t\tfilterTag(value, row) {\r\n\t\t\treturn row.tag === value;\r\n\t\t},\r\n\t\taddNewVersion(){\r\n\t\t\tthis.$router.push('/app_version_management_add');\r\n\t\t},\r\n\t\thandleEdit(index, row) {\r\n\t\t\tthis.form = {\r\n\t\t\t\tid: row.id,\r\n\t\t\t\tappType: row.appType,\r\n\t\t\t\tupdateContent: row.updateContent,\r\n\t\t\t\tupdateType: row.updateType,\r\n\t\t\t\tappVersion: row.appVersion,\r\n\t\t\t\tdownloadAddress: row.downloadAddress\r\n\t\t\t};\r\n\t\t\tthis.editVisible = true;\r\n\t\t},\r\n\t\thandleDelete(index, row) {\r\n\t\t\tthis.form = {\r\n\t\t\t\tid: row.id\r\n\t\t\t};\r\n\t\t\tthis.$confirm('此操作将删除该条记录, 是否继续?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.deleteRow();\r\n\t\t\t}).catch(() => {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// delAll() {\r\n\t\t//     const length = this.multipleSelection.length;\r\n\t\t//     let str = '';\r\n\t\t//     this.del_list = this.del_list.concat(this.multipleSelection);\r\n\t\t//     for (let i = 0; i < length; i++) {\r\n\t\t//         str += this.multipleSelection[i].name + ' ';\r\n\t\t//     }\r\n\t\t//     this.$message.error('删除了' + str);\r\n\t\t//     this.multipleSelection = [];\r\n\t\t// },\r\n\t\thandleSelectionChange(val) {\r\n\t\t\tthis.multipleSelection = val;\r\n\t\t},\r\n\t\t// 保存编辑\r\n\t\tasync saveEdit() {\r\n\t\t\tthis.$confirm('确定保存吗?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$axios.post(this.BASE_URL + 'admin/system/saveAppVersionInfo', this.form).then(res=>{\r\n\t\t\t\t\tif(res.data.code=='200'){\r\n\t\t\t\t\t\tthis.editVisible = false;\r\n\t\t\t\t\t\tthis.$message.success(res.data.message);\r\n\t\t\t\t\t\tthis.getData();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message.error(res.data.message);\r\n\t\t\t\t})\r\n\t\t\t}).catch(() => {});\r\n\t\t},\r\n\t\t// 确定删除\r\n\t\tdeleteRow() {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('id', this.form.id);\r\n\t\t\tthis.$axios.post(this.BASE_URL + 'admin/system/updateAppVersionInfoByDelete', formData).then(res => {\r\n\t\t\t\tthis.getData();\r\n\t\t\t\tthis.$message.success(res.data.message);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.del-dialog-cnt {\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n.table {\r\n\twidth: 100%;\r\n\tfont-size: 14px;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n</style>\n"],"sourceRoot":"src/main/basic"}]}