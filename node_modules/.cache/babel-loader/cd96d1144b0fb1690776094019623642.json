{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\advert_group_count.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\advert_group_count.vue","mtime":1598066419215},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseInt from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-int\";\nimport _Array$isArray from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/array/is-array\";\nimport _typeof from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/es6.regexp.search\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'basetable',\n  data: function data() {\n    return {\n      tableLoading: true,\n      tableData: [],\n      // 表格数据\n      ipCountByDay: 0,\n      countByDay: 0,\n      clickCountByDay: '0%',\n      ipPercentRate: 0,\n      // 广告转化率\n      workingPeople: 0,\n      pvUnitPriceRate: 0,\n      clientIpCount: 0,\n      ipUnitPriceRate: 0,\n      adGroupIdCon: '',\n      backPage: 1,\n      adposition: 2,\n      adTempPosition: 2,\n      countDayCon: this.$moment().format('YYYY-MM-DD'),\n      backPageList: [{\n        value: 1,\n        label: '正常广告位'\n      }, {\n        value: 2,\n        label: '后退页广告位'\n      }],\n      adpositionList: [{\n        value: 2,\n        label: '底部'\n      }, {\n        value: 4,\n        label: '后退页'\n      }, {\n        value: 1,\n        label: '顶部banner'\n      }, {\n        value: 3,\n        label: '文字链接'\n      }, {\n        value: 5,\n        label: '底部悬浮窗'\n      }],\n      userStatusOptions: [{\n        //0:正常 1:封杀\n        value: 0,\n        label: '禁用'\n      }, {\n        value: 1,\n        label: '正常'\n      }],\n      hoursArr: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]\n    };\n  },\n  created: function created() {\n    this.findCountData();\n  },\n  methods: {\n    tableRowClassName: function tableRowClassName(_ref) {\n      var row = _ref.row,\n          rowIndex = _ref.rowIndex;\n\n      if (rowIndex === 1) {\n        return 'warning-row';\n      } else if (rowIndex === 3) {\n        return 'success-row';\n      } else if (rowIndex === 5) {\n        return 'success-row';\n      }\n\n      return '';\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    changeBackPage: function changeBackPage() {\n      this.search();\n    },\n    changeAdPosition: function changeAdPosition(val) {\n      if (val === 4) {\n        this.backPage = 2;\n      } else {\n        this.backPage = 1;\n      }\n\n      this.search();\n    },\n    search: function search() {\n      this.findCountData();\n    },\n    enableBuckleAmount: function enableBuckleAmount(index, row) {\n      row.buckleAmount = '0%';\n    },\n    convertPercent: function convertPercent(row, column, cellValue, index) {\n      return (cellValue * 100).toFixed(2) + '%';\n    },\n    findCountData: function findCountData() {\n      var _this = this;\n\n      if (this.backPage === 2) {\n        this.adTempPosition = 2;\n      } else {\n        this.adTempPosition = this.adposition;\n      }\n\n      this.$axios.get(this.BASE_URL + \"admin/account/countAdByYearMonthDayHour?adGroupId=\".concat(this.adGroupIdCon, \"&countDay=\").concat(this.countDayCon, \"&backPage=\").concat(this.backPage, \"&adPosition=\").concat(this.adTempPosition), {}).then(function (res) {\n        var result = res.data.data;\n\n        var adGroupIdList = _this.operateList(result.adGroupIdList, result.clientIpCount);\n\n        result.totalCountByHour.adGroupId = '广告点击IP';\n        result.ipCountByHour.adGroupId = '文章点击PV';\n        result.clickRadioCountByHour.adGroupId = '广告点击率';\n\n        var accumalatePv = _this.generateAccumaltePV(result.ipCountByHour);\n\n        adGroupIdList.push(result.totalCountByHour);\n        adGroupIdList.push(result.ipCountByHour);\n        adGroupIdList.push(_this.operateObject(result.clickRadioCountByHour));\n        adGroupIdList.push(accumalatePv);\n        _this.clickCountByDay = result.clickRadioCountByHour.total;\n        _this.countByDay = result.totalCountByHour.total;\n        _this.ipCountByDay = result.ipCountByHour.total;\n        _this.tableData = adGroupIdList;\n        _this.clientIpCount = result.clientIpCount;\n        _this.pvUnitPriceRate = result.pvUnitPriceRate;\n        _this.ipUnitPriceRate = result.ipUnitPriceRate;\n        _this.countDayCon = result.countDay;\n        _this.workingPeople = result.workingPeople;\n        _this.ipPercentRate = result.ipPercentRate;\n      });\n    },\n    operateObject: function operateObject(obj) {\n      if (_typeof(obj) !== 'object') return;\n\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && typeof obj[key] !== 'string') {\n          obj[key] = (obj[key] * 100).toFixed(2) + '%';\n        }\n      }\n\n      return obj;\n    },\n    // 时段累积pv\n    generateAccumaltePV: function generateAccumaltePV(obj) {\n      var newObj = {\n        adId: null,\n        adGroupId: '累积PV',\n        adGroupName: null,\n        countHour0: 0,\n        countHour1: 0,\n        countHour2: 0,\n        countHour3: 0,\n        countHour4: 0,\n        countHour5: 0,\n        countHour6: 0,\n        countHour7: 0,\n        countHour8: 0,\n        countHour9: 0,\n        countHour10: 0,\n        countHour11: 0,\n        countHour12: 0,\n        countHour13: 0,\n        countHour14: 0,\n        countHour15: 0,\n        countHour16: 0,\n        countHour17: 0,\n        countHour18: 0,\n        countHour19: 0,\n        countHour20: 0,\n        countHour21: 0,\n        countHour22: 0,\n        countHour23: 0\n      };\n      var temp = 0;\n      if (_typeof(obj) !== 'object') return;\n\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && typeof obj[key] !== 'string') {\n          if (key.indexOf('countHour') > -1 && obj[key] > 0) {\n            temp += obj[key];\n            newObj[key] = temp;\n          } else {\n            newObj[key] = 0;\n          }\n        }\n      }\n\n      return newObj;\n    },\n    operateList: function operateList(list, totalIpCount) {\n      if (!_Array$isArray(list)) return;\n      list.map(function (item) {\n        item.singleRate = (_parseInt(item.total) / _parseInt(totalIpCount) * 100).toFixed(2) + '%';\n      });\n      return list;\n    },\n    countDayChange: function countDayChange() {\n      this.findCountData();\n    }\n  }\n};",{"version":3,"sources":["advert_group_count.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"table\">\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t广告全天分时统计\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\tplaceholder=\"统计日期\"\r\n\t\t\t\t\tv-model=\"countDayCon\"\r\n\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t@change=\"countDayChange\"\r\n\t\t\t\t></el-date-picker>\r\n\t\t\t\t<!-- <el-select v-model=\"backPage\" placeholder=\"广告展示页面\" class=\"mr10\" @change=\"changeBackPage\">\r\n              <el-option v-for=\"item in backPageList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n          </el-select> -->\r\n\t\t\t\t<el-select v-model=\"adposition\" placeholder=\"广告展示位置\" class=\"handle-select mr10\" @change=\"changeAdPosition\">\r\n\t\t\t\t\t<el-option v-for=\"item in adpositionList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<el-input v-model=\"adGroupIdCon\" placeholder=\"广告主ID\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t<el-button type=\"primary\" icon=\"search\" @click=\"search\">搜索</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"container--info\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\t文章点击PV：\r\n\t\t\t\t\t<span>{{ ipCountByDay }}</span>\r\n\t\t\t\t\t文章点击IP：\r\n\t\t\t\t\t<span>{{ clientIpCount }}</span>\r\n\t\t\t\t\t每PV单价：\r\n\t\t\t\t\t<span>{{ pvUnitPriceRate }}</span>\r\n\t\t\t\t\t每IP单价：\r\n\t\t\t\t\t<span>{{ ipUnitPriceRate }}</span>\r\n\t\t\t\t\t广告点击IP：\r\n\t\t\t\t\t<span>{{ countByDay }}</span>\r\n\t\t\t\t\t广告转化率：\r\n\t\t\t\t\t<span>{{ ipPercentRate }}%</span>\r\n\t\t\t\t\t广告点击率：\r\n\t\t\t\t\t<span>{{ clickCountByDay }}</span>\r\n\t\t\t\t\t干活人数：\r\n\t\t\t\t\t<span>{{ workingPeople }}</span>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<el-table\r\n\t\t\t\t:data=\"tableData\"\r\n\t\t\t\theight=\"600\"\r\n\t\t\t\tborder\r\n\t\t\t\tclass=\"table\"\r\n\t\t\t\tref=\"multipleTable\"\r\n\t\t\t\t:row-class-name=\"tableRowClassName\"\r\n\t\t\t\t@selection-change=\"handleSelectionChange\"\r\n\t\t\t\tstyle=\"font-size: 10px\"\r\n\t\t\t>\r\n\t\t\t\t<el-table-column prop=\"adGroupName\" label=\"广告主\" align=\"center\" fixed=\"left\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<div>{{ scope.row.adGroupId }}/{{ scope.row.adGroupName }}</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"singleRate\" label=\"单品点击率\" width=\"60\" align=\"center\" fixed=\"left\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"total\" label=\"合计\" width=\"50\" align=\"center\" fixed=\"left\"></el-table-column>\r\n\t\t\t\t<!-- <el-table-column prop=\"adId\" label=\"广告ID\" align=\"center\"></el-table-column> -->\r\n\t\t\t\t<template v-for=\"(item, index) in hoursArr\">\r\n\t\t\t\t\t<el-table-column :prop=\"'countHour' + index\" :label=\"'' + index + ''\" :key=\"index\" width=\"50\" align=\"center\"></el-table-column>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'basetable',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttableLoading: true,\r\n\t\t\ttableData: [], // 表格数据\r\n\t\t\tipCountByDay: 0,\r\n\t\t\tcountByDay: 0,\r\n\t\t\tclickCountByDay: '0%',\r\n\t\t\tipPercentRate: 0, // 广告转化率\r\n\t\t\tworkingPeople: 0,\r\n\t\t\tpvUnitPriceRate: 0,\r\n\t\t\tclientIpCount: 0,\r\n\t\t\tipUnitPriceRate: 0,\r\n\t\t\tadGroupIdCon: '',\r\n\t\t\tbackPage: 1,\r\n\t\t\tadposition: 2,\r\n\t\t\tadTempPosition: 2,\r\n\t\t\tcountDayCon: this.$moment().format('YYYY-MM-DD'),\r\n\t\t\tbackPageList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: '正常广告位'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlabel: '后退页广告位'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tadpositionList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlabel: '底部'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\tlabel: '后退页'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: '顶部banner'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 3,\r\n\t\t\t\t\tlabel: '文字链接'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 5,\r\n\t\t\t\t\tlabel: '底部悬浮窗'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tuserStatusOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//0:正常 1:封杀\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlabel: '禁用'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: '正常'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\thoursArr: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.findCountData();\r\n\t},\r\n\tmethods: {\r\n\t\ttableRowClassName({ row, rowIndex }) {\r\n\t\t\tif (rowIndex === 1) {\r\n\t\t\t\treturn 'warning-row';\r\n\t\t\t} else if (rowIndex === 3) {\r\n\t\t\t\treturn 'success-row';\r\n\t\t\t} else if (rowIndex === 5) {\r\n\t\t\t\treturn 'success-row';\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t},\r\n\t\thandleSelectionChange(val) {\r\n\t\t\tthis.multipleSelection = val;\r\n\t\t},\r\n\t\tchangeBackPage() {\r\n\t\t\tthis.search();\r\n\t\t},\r\n\t\tchangeAdPosition(val) {\r\n\t\t\tif (val === 4) {\r\n\t\t\t\tthis.backPage = 2;\r\n\t\t\t} else {\r\n\t\t\t\tthis.backPage = 1;\r\n\t\t\t}\r\n\t\t\tthis.search();\r\n\t\t},\r\n\t\tsearch() {\r\n\t\t\tthis.findCountData();\r\n\t\t},\r\n\t\tenableBuckleAmount(index, row) {\r\n\t\t\trow.buckleAmount = '0%';\r\n\t\t},\r\n\t\tconvertPercent(row, column, cellValue, index) {\r\n\t\t\treturn (cellValue * 100).toFixed(2) + '%';\r\n\t\t},\r\n\t\tfindCountData() {\r\n\t\t\tif (this.backPage === 2) {\r\n\t\t\t\tthis.adTempPosition = 2;\r\n\t\t\t} else {\r\n\t\t\t\tthis.adTempPosition = this.adposition;\r\n\t\t\t}\r\n\t\t\tthis.$axios\r\n\t\t\t\t.get(\r\n\t\t\t\t\tthis.BASE_URL +\r\n\t\t\t\t\t\t`admin/account/countAdByYearMonthDayHour?adGroupId=${this.adGroupIdCon}&countDay=${this.countDayCon}&backPage=${this.backPage}&adPosition=${\r\n\t\t\t\t\t\t\tthis.adTempPosition\r\n\t\t\t\t\t\t}`,\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tlet result = res.data.data;\r\n\t\t\t\t\tconst adGroupIdList = this.operateList(result.adGroupIdList, result.clientIpCount);\r\n\t\t\t\t\tresult.totalCountByHour.adGroupId = '广告点击IP';\r\n\t\t\t\t\tresult.ipCountByHour.adGroupId = '文章点击PV';\r\n\t\t\t\t\tresult.clickRadioCountByHour.adGroupId = '广告点击率';\r\n\t\t\t\t\tlet accumalatePv = this.generateAccumaltePV(result.ipCountByHour);\r\n\t\t\t\t\tadGroupIdList.push(result.totalCountByHour);\r\n\t\t\t\t\tadGroupIdList.push(result.ipCountByHour);\r\n\t\t\t\t\tadGroupIdList.push(this.operateObject(result.clickRadioCountByHour));\r\n\t\t\t\t\tadGroupIdList.push(accumalatePv);\r\n\t\t\t\t\tthis.clickCountByDay = result.clickRadioCountByHour.total;\r\n\t\t\t\t\tthis.countByDay = result.totalCountByHour.total;\r\n\t\t\t\t\tthis.ipCountByDay = result.ipCountByHour.total;\r\n\r\n\t\t\t\t\tthis.tableData = adGroupIdList;\r\n\t\t\t\t\tthis.clientIpCount = result.clientIpCount;\r\n\t\t\t\t\tthis.pvUnitPriceRate = result.pvUnitPriceRate;\r\n\t\t\t\t\tthis.ipUnitPriceRate = result.ipUnitPriceRate;\r\n\t\t\t\t\tthis.countDayCon = result.countDay;\r\n\t\t\t\t\tthis.workingPeople = result.workingPeople;\r\n\t\t\t\t\tthis.ipPercentRate = result.ipPercentRate;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\toperateObject(obj) {\r\n\t\t\tif (typeof obj !== 'object') return;\r\n\t\t\tfor (const key in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(key) && typeof obj[key] !== 'string') {\r\n\t\t\t\t\tobj[key] = (obj[key] * 100).toFixed(2) + '%';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t},\r\n\r\n\t\t// 时段累积pv\r\n\t\tgenerateAccumaltePV(obj) {\r\n\t\t\tlet newObj = {\r\n\t\t\t\tadId: null,\r\n\t\t\t\tadGroupId: '累积PV',\r\n\t\t\t\tadGroupName: null,\r\n\t\t\t\tcountHour0: 0,\r\n\t\t\t\tcountHour1: 0,\r\n\t\t\t\tcountHour2: 0,\r\n\t\t\t\tcountHour3: 0,\r\n\t\t\t\tcountHour4: 0,\r\n\t\t\t\tcountHour5: 0,\r\n\t\t\t\tcountHour6: 0,\r\n\t\t\t\tcountHour7: 0,\r\n\t\t\t\tcountHour8: 0,\r\n\t\t\t\tcountHour9: 0,\r\n\t\t\t\tcountHour10: 0,\r\n\t\t\t\tcountHour11: 0,\r\n\t\t\t\tcountHour12: 0,\r\n\t\t\t\tcountHour13: 0,\r\n\t\t\t\tcountHour14: 0,\r\n\t\t\t\tcountHour15: 0,\r\n\t\t\t\tcountHour16: 0,\r\n\t\t\t\tcountHour17: 0,\r\n\t\t\t\tcountHour18: 0,\r\n\t\t\t\tcountHour19: 0,\r\n\t\t\t\tcountHour20: 0,\r\n\t\t\t\tcountHour21: 0,\r\n\t\t\t\tcountHour22: 0,\r\n\t\t\t\tcountHour23: 0\r\n\t\t\t};\r\n\t\t\tlet temp = 0;\r\n\t\t\tif (typeof obj !== 'object') return;\r\n\t\t\tfor (const key in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(key) && typeof obj[key] !== 'string') {\r\n\t\t\t\t\tif (key.indexOf('countHour') > -1 && obj[key] > 0) {\r\n\t\t\t\t\t\ttemp += obj[key];\r\n\t\t\t\t\t\tnewObj[key] = temp;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewObj[key] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn newObj;\r\n\t\t},\r\n\r\n\t\toperateList(list, totalIpCount) {\r\n\t\t\tif (!Array.isArray(list)) return;\r\n\t\t\tlist.map(item => {\r\n\t\t\t\titem.singleRate = ((parseInt(item.total) / parseInt(totalIpCount)) * 100).toFixed(2) + '%';\r\n\t\t\t});\r\n\t\t\treturn list;\r\n\t\t},\r\n\t\tcountDayChange() {\r\n\t\t\tthis.findCountData();\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table .cell {\r\n\tpadding-left: 2px !important;\r\n\tpadding-right: 2px !important;\r\n}\r\n.container {\r\n\tpadding: 15px;\r\n}\r\n.container--info {\r\n\tmargin-bottom: 10px;\r\n\tline-height: 1;\r\n}\r\n.container--info p {\r\n\tcolor: #999;\r\n}\r\n.container--info span {\r\n\tcolor: #333;\r\n\tdisplay: inline-block;\r\n\tmargin-right: 10px;\r\n}\r\n.handle-box {\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.handle-select {\r\n\twidth: 120px;\r\n}\r\n.handle-label {\r\n\twidth: 140px;\r\n}\r\n\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.del-dialog-cnt {\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n.table {\r\n\twidth: 100%;\r\n\tfont-size: 12px;\r\n}\r\n.red {\r\n\tcolor: #ff0000;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n</style>\n"],"sourceRoot":"src/main/statistics"}]}