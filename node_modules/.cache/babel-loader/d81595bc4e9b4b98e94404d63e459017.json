{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\setOperation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\basic\\setOperation.vue","mtime":1598264266517},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseInt from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-int\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Object$assign from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\nimport _defineProperty from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'baseform',\n  data: function data() {\n    var _form;\n\n    return {\n      isEdit: false,\n      originForm: {},\n      form: (_form = {\n        register: '',\n        apprenticeRegister: '',\n        dailyLogIn: '',\n        stairCommission: '',\n        accessCommission: '',\n        firstTimeCommission: '',\n        secondlyCommission: '',\n        id: null,\n        severalDaysDeductNum: '',\n        advertPercentConversion: '',\n        advertDeductNum: '',\n        vipAveragePricePerRead: '',\n        averagePricePerRead: '',\n        withdrawalHour: '',\n        withdrawalMinute: '',\n        articleSharing4: '',\n        articleSharing3: '',\n        articleSharing2: '',\n        articleSharing1: '',\n        firstArticle: '',\n        firstVideo: '',\n        firstApprentice: '',\n        advertPrice: '',\n        dailyWithdrawNum: '',\n        prenticeForwardDivideNum: '',\n        grandsonForwardDivideNum: '',\n        turnMakeRatio: '',\n        registerBrushExpectRatio: ''\n      }, _defineProperty(_form, \"advertPrice\", ''), _defineProperty(_form, \"frozenCapitalStart\", ''), _defineProperty(_form, \"frozenCapitalSize\", ''), _form),\n      tableData1: [],\n      tableData2: []\n    };\n  },\n  created: function created() {\n    this.getData();\n  },\n  methods: {\n    edit: function edit() {\n      var _this$form = this.form,\n          registerBrushExpectRatio = _this$form.registerBrushExpectRatio,\n          turnMakeRatio = _this$form.turnMakeRatio;\n      this.checked(registerBrushExpectRatio, 1);\n      this.checked(turnMakeRatio, 2);\n      this.isEdit = true;\n    },\n    reset: function reset() {\n      this.form = _Object$assign({}, this.originForm);\n      this.isEdit = false;\n    },\n    getData: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, data;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$axios.post(this.BASE_URL + 'admin/system/basic');\n\n              case 2:\n                _ref = _context.sent;\n                data = _ref.data.data;\n                this.form = _Object$assign({}, data);\n                this.originForm = _Object$assign({}, data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }(),\n    confirm: function () {\n      var _confirm = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.$confirm('此操作将更新记录, 是否继续?', '提示', {\n                  confirmButtonText: '确定',\n                  cancelButtonText: '取消',\n                  type: 'warning'\n                }).then(\n                /*#__PURE__*/\n                _asyncToGenerator(\n                /*#__PURE__*/\n                regeneratorRuntime.mark(function _callee2() {\n                  var _ref3, code, message;\n\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return _this.$axios.post(_this.BASE_URL + 'admin/system/basic/update', _this.form);\n\n                        case 2:\n                          _ref3 = _context2.sent;\n                          code = _ref3.code;\n                          message = _ref3.message;\n                          _this.isEdit = false;\n\n                          _this.getData();\n\n                          _this.$message.success(\"\\u4FEE\\u6539\\u6210\\u529F\");\n\n                        case 8:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, this);\n                }))).catch(function () {});\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function confirm() {\n        return _confirm.apply(this, arguments);\n      }\n\n      return confirm;\n    }(),\n    foramatCheck: function foramatCheck(data) {\n      var isExist = ['advertIncome', 'articleIncome'];\n      var isExistText = ['广告收益', '转发支付'];\n      var list = [];\n      var obj = {};\n\n      for (var key in data) {\n        obj = {};\n\n        if (isExist.includes(key)) {\n          obj.name = isExistText[isExist.indexOf(key)];\n          var arr = data[key].split(',');\n          arr.forEach(function (item, index) {\n            obj['advArt' + (index + 1)] = item;\n          });\n          list.unshift(obj);\n        }\n      }\n\n      return list;\n    },\n    checked: function () {\n      var _checked = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(val, type) {\n        var rational, _ref4, _ref4$data, code, data;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                rational = _parseInt(val * 100);\n                _context4.next = 3;\n                return this.$axios.post(this.BASE_URL + \"admin/system/abatement/generateAbatementConfig?rational=\".concat(rational));\n\n              case 3:\n                _ref4 = _context4.sent;\n                _ref4$data = _ref4.data;\n                code = _ref4$data.code;\n                data = _ref4$data.data;\n\n                if (code === '200') {\n                  if (type === 1) {\n                    //转赚比\n                    this.tableData1 = this.foramatCheck(data);\n                  }\n\n                  if (type === 2) {\n                    //转赚比\n                    this.tableData2 = this.foramatCheck(data);\n                  }\n                }\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function checked(_x, _x2) {\n        return _checked.apply(this, arguments);\n      }\n\n      return checked;\n    }()\n  }\n};",{"version":3,"sources":["setOperation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-calendar\"></i>\r\n\t\t\t\t\t基本设置\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>运营设置</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"form-box\">\r\n\t\t\t\t<el-form ref=\"form\" :inline=\"true\" :model=\"form\" label-width=\"200px\">\r\n\t\t\t\t\t<el-form-item label=\"注册用户赠送\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.register\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.register + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<!-- <el-form-item label=\"注册徒弟师傅奖励\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.apprenticeRegister\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.apprenticeRegister + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t<!-- <el-form-item label=\"每日登陆赠送\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.dailyLogIn\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.dailyLogIn + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t<el-form-item label=\"一级下线提成\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.stairCommission\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ (form.stairCommission * 100).toFixed(2) + ' %' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"二级下线提成\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.accessCommission\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ (form.accessCommission * 100).toFixed(2) + ' %' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"注册几天后开始扣量\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.severalDaysDeductNum\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.severalDaysDeductNum + ' 天' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"第一次最低提现金额\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.firstTimeCommission\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.firstTimeCommission + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"后续最低提现金额\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.secondlyCommission\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.secondlyCommission + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"广告转化率\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.advertPercentConversion\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ (form.advertPercentConversion * 100).toFixed(2) + ' %' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"广告运营扣量\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.advertDeductNum\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ (form.advertDeductNum * 100).toFixed(2) + ' %' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<!-- <el-form-item label=\"每阅读实际支付成本\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.averagePricePerRead\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.averagePricePerRead + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"VIP每阅读实际支付成本\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.vipAveragePricePerRead\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.vipAveragePricePerRead + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t<el-form-item label=\"提现小时\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.withdrawalHour\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.withdrawalHour + '小时' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"提现分钟\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.withdrawalMinute\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.withdrawalMinute + '分钟' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<!-- <el-form-item label=\"首次分享文章奖励金额\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.firstArticle\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.firstArticle + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"首次分享视频奖励金额\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.firstVideo\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.firstVideo + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"首次邀请好友奖励\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.firstApprentice\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.firstApprentice + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"分享文章累计阶梯1\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.articleSharing1\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.articleSharing1 + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"分享文章累计阶梯2\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.articleSharing2\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.articleSharing2 + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"分享文章累计阶梯3\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.articleSharing3\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.articleSharing3 + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"分享文章累计阶梯4\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"form.articleSharing4\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.articleSharing4 + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item> -->\r\n\t\t\t\t\t<el-form-item label=\"每广告点击单价\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.advertPrice\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.advertPrice + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"每日提现次数\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.dailyWithdrawNum\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.dailyWithdrawNum + ' 次' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"徒弟转发分成扣量\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.prenticeForwardDivideNum\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ (form.prenticeForwardDivideNum * 100).toFixed(2) + ' %' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"徒孙转发分成扣量\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.grandsonForwardDivideNum\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ (form.grandsonForwardDivideNum * 100).toFixed(2) + ' %' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"注册刷子预期收益比\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input class=\"mr10\" type=\"number\" v-model=\"form.registerBrushExpectRatio\" @change=\"checked(form.registerBrushExpectRatio, 1)\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ (form.registerBrushExpectRatio * 100).toFixed(2) + ' %' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item v-if=\"isEdit\" style=\"display:block;padding-left: 200px;\">\r\n\t\t\t\t\t\t<el-table :data=\"tableData1\" border :show-header=\"false\">\r\n\t\t\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\t\t\tv-for=\"(value, key) in tableData1[0]\"\r\n\t\t\t\t\t\t\t\t:key=\"key + '1'\"\r\n\t\t\t\t\t\t\t\t:width=\"key !== 'name' ? '50' : ''\"\r\n\t\t\t\t\t\t\t\t:prop=\"key\"\r\n\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t></el-table-column>\r\n\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"转赚比\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input class=\"mr10\" type=\"number\" v-model=\"form.turnMakeRatio\" @change=\"checked(form.turnMakeRatio, 2)\"></el-input>\r\n\t\t\t\t\t\t\t<p style=\"color: #333333;\">转赚比=收益/文章IP*支付比*单价*（1+徒弟分成+徒孙分成）</p>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ (form.turnMakeRatio * 100).toFixed(2) + ' %' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item v-if=\"isEdit\" style=\"display:block;padding-left: 200px;\">\r\n\t\t\t\t\t\t<el-table :data=\"tableData2\" border :show-header=\"false\">\r\n\t\t\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\t\t\tv-for=\"(value, key) in tableData2[0]\"\r\n\t\t\t\t\t\t\t\t:key=\"key + '2'\"\r\n\t\t\t\t\t\t\t\t:width=\"key !== 'name' ? '50' : ''\"\r\n\t\t\t\t\t\t\t\t:prop=\"key\"\r\n\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t></el-table-column>\r\n\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"文章单价\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.articlePrice\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.articlePrice + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"卡量开始金额\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model=\"form.frozenCapitalStart\"></el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.frozenCapitalStart + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"卡量金额\">\r\n\t\t\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" class=\"mr10\" v-model=\"form.frozenCapitalSize\"></el-input>\r\n\t\t\t\t\t\t\t<p style=\"color: #333333;\">卡量开始金额4，卡量金额2，意思是从4元开始卡量，卡2元，到6元时更新收益金额。</p>\r\n\t\t\t\t\t\t\t<p style=\"color: #333333;\">卡量开始金额与卡量金额必须一一对应</p>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<span>{{ form.frozenCapitalSize + ' 元' }}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item style=\"display:block;text-align:center;\">\r\n\t\t\t\t\t\t<el-button v-if=\"!isEdit\" type=\"primary\" @click=\"edit\">修改</el-button>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<el-button type=\"default\" @click=\"reset\">取消</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"confirm\">确认</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'baseform',\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tisEdit: false,\r\n\t\t\toriginForm: {},\r\n\t\t\tform: {\r\n\t\t\t\tregister: '',\r\n\t\t\t\tapprenticeRegister: '',\r\n\t\t\t\tdailyLogIn: '',\r\n\t\t\t\tstairCommission: '',\r\n\t\t\t\taccessCommission: '',\r\n\t\t\t\tfirstTimeCommission: '',\r\n\t\t\t\tsecondlyCommission: '',\r\n\t\t\t\tid: null,\r\n\t\t\t\tseveralDaysDeductNum: '',\r\n\t\t\t\tadvertPercentConversion: '',\r\n\t\t\t\tadvertDeductNum: '',\r\n\t\t\t\tvipAveragePricePerRead: '',\r\n\t\t\t\taveragePricePerRead: '',\r\n\t\t\t\twithdrawalHour: '',\r\n\t\t\t\twithdrawalMinute: '',\r\n\t\t\t\tarticleSharing4: '',\r\n\t\t\t\tarticleSharing3: '',\r\n\t\t\t\tarticleSharing2: '',\r\n\t\t\t\tarticleSharing1: '',\r\n\t\t\t\tfirstArticle: '',\r\n\t\t\t\tfirstVideo: '',\r\n\t\t\t\tfirstApprentice: '',\r\n\t\t\t\tadvertPrice: '',\r\n\t\t\t\tdailyWithdrawNum: '',\r\n\t\t\t\tprenticeForwardDivideNum: '',\r\n\t\t\t\tgrandsonForwardDivideNum: '',\r\n\t\t\t\tturnMakeRatio: '',\r\n\t\t\t\tregisterBrushExpectRatio: '',\r\n\t\t\t\t// 新增\r\n\t\t\t\tadvertPrice: '',\r\n\t\t\t\tfrozenCapitalStart:'',\r\n\t\t\t\tfrozenCapitalSize:''\r\n\t\t\t},\r\n\t\t\ttableData1: [],\r\n\t\t\ttableData2: []\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tedit() {\r\n\t\t\tlet { registerBrushExpectRatio, turnMakeRatio } = this.form;\r\n\t\t\tthis.checked(registerBrushExpectRatio, 1);\r\n\t\t\tthis.checked(turnMakeRatio, 2);\r\n\t\t\tthis.isEdit = true;\r\n\t\t},\r\n\t\treset() {\r\n\t\t\tthis.form = Object.assign({}, this.originForm);\r\n\t\t\tthis.isEdit = false;\r\n\t\t},\r\n\t\tasync getData() {\r\n\t\t\tlet {\r\n\t\t\t\tdata: { data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/system/basic');\r\n\t\t\tthis.form = Object.assign({}, data);\r\n\t\t\tthis.originForm = Object.assign({}, data);\r\n\t\t},\r\n\r\n\t\tasync confirm() {\r\n\t\t\tthis.$confirm('此操作将更新记录, 是否继续?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t})\r\n\t\t\t\t.then(async () => {\r\n\t\t\t\t\tlet { code, message } = await this.$axios.post(this.BASE_URL + 'admin/system/basic/update', this.form);\r\n\t\t\t\t\tthis.isEdit = false;\r\n\t\t\t\t\tthis.getData();\r\n\t\t\t\t\tthis.$message.success(`修改成功`);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {});\r\n\t\t},\r\n\t\tforamatCheck(data) {\r\n\t\t\tlet isExist = ['advertIncome', 'articleIncome'];\r\n\t\t\tlet isExistText = ['广告收益', '转发支付'];\r\n\t\t\tlet list = [];\r\n\t\t\tlet obj = {};\r\n\t\t\tfor (let key in data) {\r\n\t\t\t\tobj = {};\r\n\t\t\t\tif (isExist.includes(key)) {\r\n\t\t\t\t\tobj.name = isExistText[isExist.indexOf(key)];\r\n\t\t\t\t\tlet arr = data[key].split(',');\r\n\t\t\t\t\tarr.forEach((item, index) => {\r\n\t\t\t\t\t\tobj['advArt' + (index + 1)] = item;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlist.unshift(obj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn list;\r\n\t\t},\r\n\t\tasync checked(val, type) {\r\n\t\t\tlet rational = parseInt(val * 100);\r\n\t\t\tlet {\r\n\t\t\t\tdata: { code, data }\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + `admin/system/abatement/generateAbatementConfig?rational=${rational}`);\r\n\t\t\tif (code === '200') {\r\n\t\t\t\tif (type === 1) { //转赚比\r\n\t\t\t\t\tthis.tableData1 = this.foramatCheck(data);\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 2) { //转赚比\r\n\t\t\t\t\tthis.tableData2 = this.foramatCheck(data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style scoped>\r\n.el-form-item__content span {\r\n\twidth: 180px;\r\n\tdisplay: inline-block;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n\twidth: 200px;\r\n}\r\n</style>\n"],"sourceRoot":"src/main/basic"}]}