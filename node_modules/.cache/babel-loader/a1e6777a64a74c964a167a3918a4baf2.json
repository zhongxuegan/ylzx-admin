{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\all_day_time_interval_monitoring.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\statistics\\all_day_time_interval_monitoring.vue","mtime":1597928113867},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'basetable',\n  data: function data() {\n    return {\n      userType: null,\n      tableLoading: true,\n      currentPage: 1,\n      tableData: [],\n      // 表格数据\n      cur_page: 1,\n      // 当前页号\n      cur_size: 20,\n      cur_total: 0,\n      // 总记录数\n      select_word: '',\n      startCountDate: this.dateFtt('yyyy-MM-dd', new Date(), 1),\n      endCountDate: this.dateFtt('yyyy-MM-dd', new Date(), 1),\n      hoursArr: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23],\n      userStatusOptions: [{\n        //0:正常 1:封杀\n        value: 0,\n        label: '禁用'\n      }, {\n        value: 1,\n        label: '正常'\n      }],\n      userTypeArr: [{\n        name: '全部',\n        value: ''\n      }, {\n        name: '普通用户',\n        value: 1\n      }, {\n        name: 'vip用户',\n        value: 2\n      }, {\n        name: 'svip用户',\n        value: 3\n      }]\n    };\n  },\n  created: function created() {\n    this.getData();\n  },\n  methods: {\n    mergeHourCountData: function mergeHourCountData(obj, index) {\n      return obj.hourCountDetail['hour' + index] + '%';\n    },\n    mergeAdandIpData: function mergeAdandIpData(obj, index) {\n      return obj.hourClientAdCountDetail['clientAdCountHour' + index] + '/' + obj.hourClientIpCountDetail['clientIpCountHour' + index];\n    },\n    // 分页导航\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.cur_page = val;\n      this.findCountData();\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.cur_size = val;\n      this.findCountData();\n    },\n    changeStatus: function changeStatus() {\n      this.currentPage = 1;\n      this.cur_page = 1;\n      this.findCountData();\n    },\n    formaterUserType: function formaterUserType(row, column, cellValue, index) {\n      return cellValue === 1 ? '普通用户' : cellValue === 2 ? 'vip用户' : 'svip用户';\n    },\n    getData: function getData() {\n      this.findCountData();\n    },\n    search: function search() {\n      this.currentPage = 1;\n      this.cur_page = 1;\n      this.findCountData();\n    },\n    buckleAmountBlur: function buckleAmountBlur(index, row) {\n      if (row.buckleAmount.indexOf('%') == -1) {\n        row.buckleAmount = row.buckleAmount + '%';\n      }\n\n      this.$axios.post(this.BASE_URL + 'admin/account/saveBuckleAmount', {\n        //保存扣量\n        userId: row.userId,\n        buckleAmount: row.buckleAmount\n      }).then(function (res) {\n        row.buckleAmount = res.data.data.buckleAmount;\n      });\n    },\n    enableBuckleAmount: function enableBuckleAmount(index, row) {\n      row.buckleAmount = '0%';\n    },\n    addPercent: function addPercent(row, column, cellValue, index) {\n      return cellValue + '%';\n    },\n    findCountData: function () {\n      var _findCountData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var postData, _ref, _ref$data$data, list, total;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                postData = {\n                  page: this.cur_page,\n                  size: this.cur_size,\n                  startCountDate: this.startCountDate,\n                  endCountDate: this.endCountDate,\n                  selectWord: this.select_word,\n                  userType: this.userType\n                };\n                _context.next = 3;\n                return this.$axios.post(this.BASE_URL + 'admin/account/allDayTimeIntervalMonitoring', postData);\n\n              case 3:\n                _ref = _context.sent;\n                _ref$data$data = _ref.data.data;\n                list = _ref$data$data.list;\n                total = _ref$data$data.total;\n                this.cur_total = total;\n                this.tableData = list;\n                this.tableLoading = false;\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function findCountData() {\n        return _findCountData.apply(this, arguments);\n      }\n\n      return findCountData;\n    }(),\n    startCountDateChange: function startCountDateChange() {\n      if (this.startCountDate > this.endCountDate) {\n        this.$message({\n          message: '起始日期不得大于结束日期',\n          type: 'warning'\n        });\n        this.startCountDate = this.endCountDate;\n      }\n    },\n    endCountDateChange: function endCountDateChange() {\n      if (this.startCountDate > this.endCountDate) {\n        this.$message({\n          message: '结束日期不得小于起始日期',\n          type: 'warning'\n        });\n        this.endCountDate = this.startCountDate;\n      }\n    },\n    // 公用\n    dateFtt: function dateFtt(fmt, date, monthNum) {\n      var o = {\n        'M+': date.getMonth() + monthNum,\n        //月份\n        'd+': date.getDate(),\n        //日\n        'h+': date.getHours(),\n        //小时\n        'm+': date.getMinutes(),\n        //分\n        's+': date.getSeconds(),\n        //秒\n        'q+': Math.floor((date.getMonth() + 3) / 3),\n        //季度\n        S: date.getMilliseconds() //毫秒\n\n      };\n      if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n\n      for (var k in o) {\n        if (new RegExp('(' + k + ')').test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\n      }\n\n      return fmt;\n    }\n  }\n};",{"version":3,"sources":["all_day_time_interval_monitoring.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"table\">\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t用户数据全天分时段监测\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\tplaceholder=\"支付时间\"\r\n\t\t\t\t\tv-model=\"startCountDate\"\r\n\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t@change=\"startCountDateChange\"\r\n\t\t\t\t></el-date-picker>\r\n\t\t\t\t<i class=\"line mr10\">-</i>\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\tformat=\"yyyy-MM-dd\"\r\n\t\t\t\t\tplaceholder=\"支付时间\"\r\n\t\t\t\t\tv-model=\"endCountDate\"\r\n\t\t\t\t\tclass=\"handle-label mr10\"\r\n\t\t\t\t\t@change=\"endCountDateChange\"\r\n\t\t\t\t></el-date-picker>\r\n\t\t\t\t<el-select v-model=\"userType\" placeholder=\"用户类型\" class=\"handle-select mr10\" @change=\"changeStatus\">\r\n\t\t\t\t\t<el-option v-for=\"item in userTypeArr\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<el-input v-model=\"select_word\" placeholder=\"用户ID\" class=\"handle-input mr10\"></el-input>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"search\">搜索</el-button>\r\n\t\t\t</div>\r\n\t\t\t<el-table :data=\"tableData\" v-loading=\"tableLoading\" border class=\"table\" ref=\"multipleTable\" @selection-change=\"handleSelectionChange\" style=\"font-size: 10px\">\r\n\t\t\t\t<el-table-column prop=\"userId\" label=\"用户ID\" width=\"60\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"userType\" align=\"center\" :formatter=\"formaterUserType\" label=\"用户类型\" width=\"100\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"adConverRate\" label=\"广告点击率\" align=\"center\" :formatter=\"addPercent\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"ipPercentRate\" label=\"广告转化率\" align=\"center\" :formatter=\"addPercent\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"pvCount\" label=\"文章点击\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"adCount\" label=\"广告点击\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"originCount\" label=\"原文阅读数\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"originRate\" label=\"原文点击率\" align=\"center\" :formatter=\"addPercent\"></el-table-column>\r\n\t\t\t\t<el-table-column v-for=\"(item, index) in hoursArr\" :key=\"item.index\" :label=\"'' + index + ''\" :formatter=\"addPercent\" width=\"90\" align=\"center\">\r\n\t\t\t\t\t<template scope=\"scope\">\r\n\t\t\t\t\t\t<div style=\"color:#000;\">{{ mergeHourCountData(scope.row, index) }}</div>\r\n\t\t\t\t\t\t<div>{{ mergeAdandIpData(scope.row, index) }}</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"yearMonthDay\" label=\"统计时间\" align=\"center\"></el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"pagination\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t\t:current-page.sync=\"currentPage\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t:page-size=\"cur_size\"\r\n\t\t\t\t\t:total=\"cur_total\"\r\n\t\t\t\t></el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'basetable',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserType: null,\r\n\t\t\ttableLoading: true,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\ttableData: [], // 表格数据\r\n\t\t\tcur_page: 1, // 当前页号\r\n\t\t\tcur_size: 20,\r\n\t\t\tcur_total: 0, // 总记录数\r\n\r\n\t\t\tselect_word: '',\r\n\t\t\tstartCountDate: this.dateFtt('yyyy-MM-dd', new Date(), 1),\r\n\t\t\tendCountDate: this.dateFtt('yyyy-MM-dd', new Date(), 1),\r\n\t\t\thoursArr: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23],\r\n\t\t\tuserStatusOptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\t//0:正常 1:封杀\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlabel: '禁用'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: '正常'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tuserTypeArr: [{ name: '全部', value: '' }, { name: '普通用户', value: 1 }, { name: 'vip用户', value: 2 }, { name: 'svip用户', value: 3 }]\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tmergeHourCountData(obj, index) {\r\n\t\t\treturn obj.hourCountDetail['hour' + index] + '%';\r\n\t\t},\r\n\t\tmergeAdandIpData(obj, index) {\r\n\t\t\treturn obj.hourClientAdCountDetail['clientAdCountHour' + index] + '/' + obj.hourClientIpCountDetail['clientIpCountHour' + index];\r\n\t\t},\r\n\t\t// 分页导航\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.currentPage = val;\r\n\t\t\tthis.cur_page = val;\r\n\t\t\tthis.findCountData();\r\n\t\t},\r\n\t\thandleSelectionChange(val) {\r\n\t\t\tthis.multipleSelection = val;\r\n\t\t},\r\n\t\thandleSizeChange(val) {\r\n\t\t\tthis.cur_size = val;\r\n\t\t\tthis.findCountData();\r\n\t\t},\r\n\t\tchangeStatus() {\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.findCountData();\r\n\t\t},\r\n\t\tformaterUserType(row, column, cellValue, index) {\r\n\t\t\treturn cellValue === 1 ? '普通用户' : cellValue === 2 ? 'vip用户' : 'svip用户';\r\n\t\t},\r\n\t\tgetData() {\r\n\t\t\tthis.findCountData();\r\n\t\t},\r\n\t\tsearch() {\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.findCountData();\r\n\t\t},\r\n\t\tbuckleAmountBlur(index, row) {\r\n\t\t\tif (row.buckleAmount.indexOf('%') == -1) {\r\n\t\t\t\trow.buckleAmount = row.buckleAmount + '%';\r\n\t\t\t}\r\n\t\t\tthis.$axios\r\n\t\t\t\t.post(this.BASE_URL + 'admin/account/saveBuckleAmount', {\r\n\t\t\t\t\t//保存扣量\r\n\t\t\t\t\tuserId: row.userId,\r\n\t\t\t\t\tbuckleAmount: row.buckleAmount\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\trow.buckleAmount = res.data.data.buckleAmount;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tenableBuckleAmount(index, row) {\r\n\t\t\trow.buckleAmount = '0%';\r\n\t\t},\r\n\t\taddPercent(row, column, cellValue, index) {\r\n\t\t\treturn cellValue + '%';\r\n\t\t},\r\n\t\tasync findCountData() {\r\n\t\t\tlet postData = {\r\n\t\t\t\tpage: this.cur_page,\r\n\t\t\t\tsize: this.cur_size,\r\n\t\t\t\tstartCountDate: this.startCountDate,\r\n\t\t\t\tendCountDate: this.endCountDate,\r\n\t\t\t\tselectWord: this.select_word,\r\n\t\t\t\tuserType: this.userType\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdata: { list, total }\r\n\t\t\t\t}\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/account/allDayTimeIntervalMonitoring', postData);\r\n\t\t\tthis.cur_total = total;\r\n\t\t\tthis.tableData = list;\r\n\t\t\tthis.tableLoading = false;\r\n\t\t},\r\n\t\tstartCountDateChange() {\r\n\t\t\tif (this.startCountDate > this.endCountDate) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '起始日期不得大于结束日期',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\tthis.startCountDate = this.endCountDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\tendCountDateChange() {\r\n\t\t\tif (this.startCountDate > this.endCountDate) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '结束日期不得小于起始日期',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\tthis.endCountDate = this.startCountDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 公用\r\n\t\tdateFtt(fmt, date, monthNum) {\r\n\t\t\tvar o = {\r\n\t\t\t\t'M+': date.getMonth() + monthNum, //月份\r\n\t\t\t\t'd+': date.getDate(), //日\r\n\t\t\t\t'h+': date.getHours(), //小时\r\n\t\t\t\t'm+': date.getMinutes(), //分\r\n\t\t\t\t's+': date.getSeconds(), //秒\r\n\t\t\t\t'q+': Math.floor((date.getMonth() + 3) / 3), //季度\r\n\t\t\t\tS: date.getMilliseconds() //毫秒\r\n\t\t\t};\r\n\t\t\tif (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n\t\t\tfor (var k in o) if (new RegExp('(' + k + ')').test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\r\n\t\t\treturn fmt;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.handle-select {\r\n\twidth: 120px;\r\n}\r\n\r\n.handle-label {\r\n\twidth: 140px;\r\n}\r\n\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.del-dialog-cnt {\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n.table {\r\n\twidth: 100%;\r\n\tfont-size: 14px;\r\n}\r\n.red {\r\n\tcolor: #ff0000;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n</style>\n"],"sourceRoot":"src/main/statistics"}]}