{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\system\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\system\\user.vue","mtime":1598262990417},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Array$isArray from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/array/is-array\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      userType: null,\n      // 默认用户为普通用户\n      status: null,\n      appSystemCode: null,\n      userId: null,\n      parentId: null,\n      pageNum: 1,\n      pageSize: 10,\n      cur_page: 1,\n      cur_size: 1,\n      childPageSize: 10,\n      childPageNum: 1,\n      childCurrentPage: 1,\n      mobile: null,\n      cur_total: 0,\n      curChild_total: 0,\n      childParentId: null,\n      tableLoading: false,\n      tableChildLoading: false,\n      dialogTableVisible: false,\n      userStatusOptions: [{\n        label: '全部',\n        value: ''\n      }, {\n        label: '封禁',\n        value: 0\n      }, {\n        label: '正常',\n        value: 1\n      }, {\n        label: '异常',\n        value: 2\n      }],\n      dataList: [],\n      dataChildList: [],\n      userTypeArr: [{\n        name: '全部',\n        value: ''\n      }, {\n        name: '普通用户',\n        value: 1\n      }, {\n        name: 'vip用户',\n        value: 2\n      }, {\n        name: 'svip用户',\n        value: 3\n      }],\n      appSystemArr: [{\n        name: '全部',\n        value: ''\n      }, {\n        name: '未知',\n        value: 0\n      }, {\n        name: 'android',\n        value: 1\n      }, {\n        name: 'ios',\n        value: 2\n      }]\n    };\n  },\n  filters: {\n    formatString: function formatString(value) {\n      if (value && value.length > 5) {\n        return value.substring(0, 5) + '...';\n      } else {\n        return value;\n      }\n    }\n  },\n  created: function created() {\n    this.tableLoading = true;\n    this.getData();\n  },\n  methods: {\n    search: function search() {\n      this.tableLoading = true;\n      this.pageNum = 1;\n      this.cur_page = 1;\n      this.getData();\n    },\n    formatUserType: function formatUserType(row, column, cellValue, index) {\n      return cellValue === 1 ? '普通用户' : cellValue === 2 ? 'vip用户' : 'svip用户';\n    },\n    formatVersion: function formatVersion(row, column, cellValue, index) {\n      return cellValue === 1 ? 'android' : cellValue === 2 ? 'ios' : '未知';\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.pageNum = val;\n      this.cur_page = val;\n      this.getData();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.pageNum = 1;\n      this.cur_page = 1;\n      this.pageSize = val;\n      this.getData();\n    },\n    // 徒弟数处理函数\n    handleChildCurrentChange: function handleChildCurrentChange(val) {\n      this.childPageNum = val;\n      this.childCurrentPage = val;\n      this.getChildData();\n    },\n    handleChildSizeChange: function handleChildSizeChange(val) {\n      this.childPageNum = 1;\n      this.childCurrentPage = 1;\n      this.childPageSize = val;\n      this.getChildData();\n    },\n    showChild: function showChild(index, data) {\n      this.dialogTableVisible = true;\n      this.childParentId = data.userId;\n      this.getChildData();\n    },\n    changeStatus: function changeStatus() {\n      this.cur_page = 1;\n      this.pageNum = 1;\n      this.getData();\n    },\n    cancelRemark: function cancelRemark(row) {\n      row.remark = row.originRemark;\n      row.editR = false;\n    },\n    editRemark: function editRemark(row) {\n      this.dataList.map(function (item) {\n        item.editR = false;\n      });\n      row.editR = true;\n    },\n    cancelEdit: function cancelEdit(row) {\n      row.edit = false;\n      row.nickname = row.originalNickName;\n      row.name = row.originalName;\n      row.wechat = row.originalWechat;\n      row.status = row.originalStatus;\n      row.alipay = row.originalAlipay;\n      row.mobile = row.orginalMobile;\n      row.parentId = row.orginalParentId;\n    },\n    confirmEdit: function confirmEdit(row) {\n      var _this = this;\n\n      var userId = row.userId,\n          mobile = row.mobile,\n          nickname = row.nickname,\n          name = row.name,\n          wechat = row.wechat,\n          alipay = row.alipay,\n          parentId = row.parentId,\n          remark = row.remark;\n      this.$axios.post(this.BASE_URL + 'admin/user/updateUserByCon', {\n        userId: userId,\n        // status, // statusChange 方法改变状态\n        mobile: mobile,\n        nickname: nickname,\n        name: name,\n        wechat: wechat,\n        alipay: alipay,\n        parentId: parentId,\n        remark: remark\n      }).then(function (res) {\n        if (res) {\n          _this.$message({\n            message: '更新用户信息成功',\n            type: 'success'\n          });\n\n          _this.getData();\n        }\n      });\n    },\n    statusChange: function () {\n      var _statusChange = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(e, row) {\n        var postData, _ref, _ref$data, code, message;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // this.tableLoading = true;\n                postData = {\n                  userId: row.userId,\n                  status: e\n                };\n                _context.prev = 1;\n                _context.next = 4;\n                return this.$axios.post(this.BASE_URL + 'admin/account/forceOutWecharUser', postData);\n\n              case 4:\n                _ref = _context.sent;\n                _ref$data = _ref.data;\n                code = _ref$data.code;\n                message = _ref$data.message;\n\n                if (code === '200') {\n                  this.$message.success(message);\n                }\n\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](1);\n                this.getData();\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 11]]);\n      }));\n\n      function statusChange(_x, _x2) {\n        return _statusChange.apply(this, arguments);\n      }\n\n      return statusChange;\n    }(),\n    operateList: function operateList(list) {\n      var _this2 = this;\n\n      if (!_Array$isArray(list)) return;\n      list.map(function (item) {\n        item.statusLabel = item.status === 0 ? '封禁' : item.status === 1 ? '正常' : '异常';\n        item.originalStatus = item.status;\n        item.orginalMobile = item.mobile;\n        item.originalNickName = item.nickname;\n        item.originalName = item.name;\n        item.originalWechat = item.wechat;\n        item.originalAlipay = item.alipay;\n        item.orginalParentId = item.parentId;\n        item.dateLocal = _this2.$moment(item.addDate).format('YYYY-MM-DD HH:mm:ss');\n        item.edit = false;\n        item.originRemark = item.remark;\n        item.editR = false;\n      });\n      return list;\n    },\n    getData: function getData() {\n      var _this3 = this;\n\n      var pageNum = this.pageNum,\n          status = this.status,\n          pageSize = this.pageSize,\n          userId = this.userId,\n          parentId = this.parentId,\n          mobile = this.mobile,\n          userType = this.userType,\n          appSystemCode = this.appSystemCode;\n      this.$axios.post(this.BASE_URL + 'admin/user/listUserPageByCon', {\n        page: pageNum,\n        size: pageSize,\n        status: status,\n        userId: userId,\n        parentId: parentId,\n        mobile: mobile,\n        userType: userType,\n        appSystemCode: appSystemCode\n      }).then(function (res) {\n        _this3.tableLoading = false;\n        _this3.dataList = _this3.operateList(res.data.data.list);\n        _this3.cur_total = res.data.data.total;\n      });\n    },\n    getChildData: function getChildData() {\n      var _this4 = this;\n\n      this.tableChildLoading = true;\n      var childPageNum = this.childPageNum,\n          childPageSize = this.childPageSize,\n          childParentId = this.childParentId;\n      this.$axios.post(this.BASE_URL + 'admin/user/listUserPageByCon', {\n        pageNum: childPageNum,\n        pageSize: childPageSize,\n        parentId: childParentId\n      }).then(function (res) {\n        _this4.tableChildLoading = false;\n        _this4.dataChildList = _this4.operateList(res.data.data.list);\n        _this4.curChild_total = res.data.data.total;\n      });\n    }\n  }\n};",{"version":3,"sources":["user.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"crumbs\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item>\r\n\t\t\t\t\t<i class=\"el-icon-lx-cascades\"></i>\r\n\t\t\t\t\t用户信息\r\n\t\t\t\t</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-select v-model=\"status\" placeholder=\"状态\" class=\"handle-select mr10\" @change=\"changeStatus\">\r\n\t\t\t\t\t<el-option v-for=\"item in userStatusOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<el-select v-model=\"userType\" placeholder=\"用户类型\" class=\"handle-select mr10\" @change=\"changeStatus\">\r\n\t\t\t\t\t<el-option v-for=\"item in userTypeArr\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<el-select v-model=\"appSystemCode\" placeholder=\"设备类型\" class=\"handle-select mr10\" @change=\"changeStatus\">\r\n\t\t\t\t\t<el-option v-for=\"item in appSystemArr\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"handle-box\">\r\n\t\t\t\t<el-input placeholder=\"用户ID\" class=\"handle-input mr10\" v-model=\"userId\" type=\"number\" clearable></el-input>\r\n\t\t\t\t<el-input v-model=\"parentId\" placeholder=\"师傅ID\" type=\"number\" class=\"handle-input mr10\" clearable></el-input>\r\n\t\t\t\t<el-input v-model=\"mobile\" placeholder=\"手机号\" class=\"handle-input mr10\" clearable></el-input>\r\n\t\t\t\t<el-button type=\"primary\" icon=\"search\" @click=\"search\">搜索</el-button>\r\n\t\t\t</div>\r\n\t\t\t<el-table v-loading=\"tableLoading\" :data=\"dataList\" border class=\"table\" ref=\"multipleTable\">\r\n\t\t\t\t<el-table-column prop=\"userId\" label=\"用户ID\" align=\"center\" width=\"60\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"remark\" align=\"center\" label=\"备注\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-popover trigger=\"hover\" placement=\"right\">\r\n\t\t\t\t\t\t\t<div style=\"margin-bottom:5px;\">\r\n\t\t\t\t\t\t\t\t<el-input type=\"textarea\" v-model=\"scope.row.remark\" :rows=\"3\" v-if=\"scope.row.editR\"></el-input>\r\n\t\t\t\t\t\t\t\t<p v-else>{{ scope.row.originRemark }}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<el-button type=\"info\" v-if=\"scope.row.editR\" @click=\"cancelRemark(scope.row, scope.$index)\">取消</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"info\" v-else @click=\"editRemark(scope.row, scope.$index)\">编辑</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"confirmEdit(scope.row)\">保存</el-button>\r\n\t\t\t\t\t\t\t<div slot=\"reference\" class=\"name-wrapper\">\r\n\t\t\t\t\t\t\t\t<p size=\"medium\">{{ scope.row.originRemark ? scope.row.originRemark : '无' | formatString }}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</el-popover>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"appSystemCode\" label=\"设备类型\" :formatter=\"formatVersion\" align=\"center\" width=\"60\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"statusLabel\" align=\"center\" label=\"状态\" width=\"120\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<!-- <template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"scope.row.status\" placeholder=\"请选择\" class=\"mr10\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item,index in userStatusOptions\" v-if=\"index !== 0\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<span v-else>{{ scope.row.statusLabel }}</span> -->\r\n\t\t\t\t\t\t<!-- <span>{{ scope.row.statusLabel }}</span> -->\r\n\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t<el-select v-model=\"scope.row.status\" placeholder=\"请选择\" @change=\"statusChange($event,scope.row)\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"(item,index) in userStatusOptions\" v-if=\"index !== 0\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"nickname\" align=\"center\" label=\"昵称\" width=\"100\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.nickname\" class=\"edit-input\" size=\"small\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<span v-else>{{ scope.row.nickname }}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"userType\" align=\"center\" :formatter=\"formatUserType\" label=\"用户类型\" width=\"100\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"name\" align=\"center\" label=\"收款人姓名\" width=\"60\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.name\" class=\"edit-input\" size=\"small\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<span v-else>{{ scope.row.name }}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"wechat\" align=\"center\" label=\"微信号\" width=\"100\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.wechat\" class=\"edit-input\" size=\"small\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<span v-else>{{ scope.row.wechat }}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"alipay\" align=\"center\" label=\"支付宝账号\" width=\"100\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.alipay\" class=\"edit-input\" size=\"small\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<span v-else>{{ scope.row.alipay }}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"parentId\" align=\"center\" label=\"师傅ID\" width=\"60\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.parentId\" class=\"edit-input\" size=\"small\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<span v-else>{{ scope.row.parentId }}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"mobile\" label=\"手机号\" align=\"center\" width=\"100\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.mobile\" class=\"edit-input\" size=\"small\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<span v-else>{{ scope.row.mobile }}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"totalIncome\" align=\"center\" label=\"总收入\" width=\"80\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"balance\" label=\"账户余额\" width=\"80\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"徒弟数\" align=\"center\" width=\"50\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-link type=\"primary\" @click=\"showChild(scope.$index, scope.row)\">{{ scope.row.discipleCount }}</el-link>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"efficientDiscipleCount\" align=\"center\" label=\"有效徒弟\" width=\"50\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"dateLocal\" label=\"注册时间\" width=\"95\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" align=\"center\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<template v-if=\"scope.row.edit\">\r\n\t\t\t\t\t\t\t<el-button style=\"margin-left:8px;margin-bottom:5px;\" type=\"success\" size=\"small\" @click=\"confirmEdit(scope.row)\">确认</el-button>\r\n\t\t\t\t\t\t\t<el-button type=\"info\" size=\"small\" @click=\"cancelEdit(scope.row)\">取消</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<el-button v-else type=\"primary\" size=\"small\" @click=\"scope.row.edit = !scope.row.edit\">编辑</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"pagination\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground\r\n\t\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t:current-page.sync=\"cur_page\"\r\n\t\t\t\t\t:total=\"cur_total\"\r\n\t\t\t\t></el-pagination>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 编辑弹出框 -->\r\n\t\t<el-dialog title=\"徒弟数\" width=\"100%\" :visible.sync=\"dialogTableVisible\">\r\n\t\t\t<el-table v-loading=\"tableChildLoading\" :data=\"dataChildList\" border class=\"table\" ref=\"multipleTable\">\r\n\t\t\t\t<el-table-column prop=\"userId\" label=\"用户ID\" align=\"center\" sortable></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"statusLabel\" label=\"状态\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"nickname\" label=\"昵称\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"payee\" label=\"收款人姓名\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"wechat\" label=\"微信号\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"alipay\" label=\"支付宝账号\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"parentId\" label=\"师傅ID\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"mobile\" label=\"手机号\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"totalIncome\" label=\"总收入\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"balance\" label=\"账户余额\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column label=\"徒弟数\" prop=\"discipleCount\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"efficientDiscipleCount\" label=\"有效徒弟\" align=\"center\"></el-table-column>\r\n\t\t\t\t<el-table-column prop=\"dateLocal\" label=\"注册时间\" align=\"center\"></el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div class=\"pagination\">\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\tbackground\r\n\t\t\t\t\t@current-change=\"handleChildCurrentChange\"\r\n\t\t\t\t\t@size-change=\"handleChildSizeChange\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t\t:current-page.sync=\"childCurrentPage\"\r\n\t\t\t\t\t:total=\"curChild_total\"\r\n\t\t\t\t></el-pagination>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserType: null, // 默认用户为普通用户\r\n\t\t\tstatus: null,\r\n\t\t\tappSystemCode: null,\r\n\t\t\tuserId: null,\r\n\t\t\tparentId: null,\r\n\t\t\tpageNum: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tcur_page: 1,\r\n\t\t\tcur_size: 1,\r\n\t\t\tchildPageSize: 10,\r\n\t\t\tchildPageNum: 1,\r\n\t\t\tchildCurrentPage: 1,\r\n\t\t\tmobile: null,\r\n\t\t\tcur_total: 0,\r\n\t\t\tcurChild_total: 0,\r\n\t\t\tchildParentId: null,\r\n\t\t\ttableLoading: false,\r\n\t\t\ttableChildLoading: false,\r\n\t\t\tdialogTableVisible: false,\r\n\t\t\tuserStatusOptions: [{ label: '全部', value: '' }, { label: '封禁', value: 0 }, { label: '正常', value: 1 }, { label: '异常', value: 2 }],\r\n\t\t\tdataList: [],\r\n\t\t\tdataChildList: [],\r\n\t\t\tuserTypeArr: [{ name: '全部', value: '' }, { name: '普通用户', value: 1 }, { name: 'vip用户', value: 2 }, { name: 'svip用户', value: 3 }],\r\n\t\t\tappSystemArr: [{ name: '全部', value: '' }, { name: '未知', value: 0 }, { name: 'android', value: 1 }, { name: 'ios', value: 2 }]\r\n\t\t};\r\n\t},\r\n\tfilters: {\r\n\t\tformatString: function(value) {\r\n\t\t\tif (value && value.length > 5) {\r\n\t\t\t\treturn value.substring(0, 5) + '...';\r\n\t\t\t} else {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.tableLoading = true;\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tsearch() {\r\n\t\t\tthis.tableLoading = true;\r\n\t\t\tthis.pageNum = 1;\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tformatUserType(row, column, cellValue, index) {\r\n\t\t\treturn cellValue === 1 ? '普通用户' : cellValue === 2 ? 'vip用户' : 'svip用户';\r\n\t\t},\r\n\t\tformatVersion(row, column, cellValue, index) {\r\n\t\t\treturn cellValue === 1 ? 'android' : cellValue === 2 ? 'ios' : '未知';\r\n\t\t},\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.pageNum = val;\r\n\t\t\tthis.cur_page = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\r\n\t\thandleSizeChange(val) {\r\n\t\t\tthis.pageNum = 1;\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.pageSize = val;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\r\n\t\t// 徒弟数处理函数\r\n\t\thandleChildCurrentChange(val) {\r\n\t\t\tthis.childPageNum = val;\r\n\t\t\tthis.childCurrentPage = val;\r\n\t\t\tthis.getChildData();\r\n\t\t},\r\n\r\n\t\thandleChildSizeChange(val) {\r\n\t\t\tthis.childPageNum = 1;\r\n\t\t\tthis.childCurrentPage = 1;\r\n\t\t\tthis.childPageSize = val;\r\n\t\t\tthis.getChildData();\r\n\t\t},\r\n\t\tshowChild(index, data) {\r\n\t\t\tthis.dialogTableVisible = true;\r\n\t\t\tthis.childParentId = data.userId;\r\n\t\t\tthis.getChildData();\r\n\t\t},\r\n\t\tchangeStatus() {\r\n\t\t\tthis.cur_page = 1;\r\n\t\t\tthis.pageNum = 1;\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\r\n\t\tcancelRemark(row) {\r\n\t\t\trow.remark = row.originRemark;\r\n\t\t\trow.editR = false;\r\n\t\t},\r\n\r\n\t\teditRemark(row) {\r\n\t\t\tthis.dataList.map(item => {\r\n\t\t\t\titem.editR = false;\r\n\t\t\t});\r\n\t\t\trow.editR = true;\r\n\t\t},\r\n\r\n\t\tcancelEdit(row) {\r\n\t\t\trow.edit = false;\r\n\t\t\trow.nickname = row.originalNickName;\r\n\t\t\trow.name = row.originalName;\r\n\t\t\trow.wechat = row.originalWechat;\r\n\t\t\trow.status = row.originalStatus;\r\n\t\t\trow.alipay = row.originalAlipay;\r\n\t\t\trow.mobile = row.orginalMobile;\r\n\t\t\trow.parentId = row.orginalParentId;\r\n\t\t},\r\n\r\n\t\tconfirmEdit(row) {\r\n\t\t\tconst { userId, mobile, nickname, name, wechat, alipay, parentId, remark } = row;\r\n\t\t\tthis.$axios\r\n\t\t\t\t.post(this.BASE_URL + 'admin/user/updateUserByCon', {\r\n\t\t\t\t\tuserId,\r\n\t\t\t\t\t// status, // statusChange 方法改变状态\r\n\t\t\t\t\tmobile,\r\n\t\t\t\t\tnickname,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\twechat,\r\n\t\t\t\t\talipay,\r\n\t\t\t\t\tparentId,\r\n\t\t\t\t\tremark\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '更新用户信息成功',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.getData();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tasync statusChange(e,row){\r\n\t\t\t// this.tableLoading = true;\r\n\t\t\tlet postData = {\r\n\t\t\t\tuserId: row.userId,\r\n\t\t\t\tstatus: e\r\n\t\t\t};\r\n\t\t\ttry{\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata: { code, message }\r\n\t\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/account/forceOutWecharUser', postData);\r\n\t\t\t\tif (code === '200') {\r\n\t\t\t\t\tthis.$message.success(message);\r\n\t\t\t\t}\r\n\t\t\t}catch(e){\r\n\t\t\t\tthis.getData();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\toperateList(list) {\r\n\t\t\tif (!Array.isArray(list)) return;\r\n\t\t\tlist.map(item => {\r\n\t\t\t\titem.statusLabel = item.status === 0 ? '封禁' : item.status === 1 ? '正常' : '异常';\r\n\t\t\t\titem.originalStatus = item.status;\r\n\t\t\t\titem.orginalMobile = item.mobile;\r\n\t\t\t\titem.originalNickName = item.nickname;\r\n\t\t\t\titem.originalName = item.name;\r\n\t\t\t\titem.originalWechat = item.wechat;\r\n\t\t\t\titem.originalAlipay = item.alipay;\r\n\t\t\t\titem.orginalParentId = item.parentId;\r\n\t\t\t\titem.dateLocal = this.$moment(item.addDate).format('YYYY-MM-DD HH:mm:ss');\r\n\t\t\t\titem.edit = false;\r\n\t\t\t\titem.originRemark = item.remark;\r\n\t\t\t\titem.editR = false;\r\n\t\t\t});\r\n\t\t\treturn list;\r\n\t\t},\r\n\t\tgetData() {\r\n\t\t\tlet { pageNum, status, pageSize, userId, parentId, mobile, userType, appSystemCode } = this;\r\n\r\n\t\t\tthis.$axios\r\n\t\t\t\t.post(this.BASE_URL + 'admin/user/listUserPageByCon', {\r\n\t\t\t\t\tpage: pageNum,\r\n\t\t\t\t\tsize: pageSize,\r\n\t\t\t\t\tstatus,\r\n\t\t\t\t\tuserId,\r\n\t\t\t\t\tparentId,\r\n\t\t\t\t\tmobile,\r\n\t\t\t\t\tuserType,\r\n\t\t\t\t\tappSystemCode\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.tableLoading = false;\r\n\t\t\t\t\tthis.dataList = this.operateList(res.data.data.list);\r\n\t\t\t\t\tthis.cur_total = res.data.data.total;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tgetChildData() {\r\n\t\t\tthis.tableChildLoading = true;\r\n\t\t\tlet { childPageNum, childPageSize, childParentId } = this;\r\n\t\t\tthis.$axios\r\n\t\t\t\t.post(this.BASE_URL + 'admin/user/listUserPageByCon', {\r\n\t\t\t\t\tpageNum: childPageNum,\r\n\t\t\t\t\tpageSize: childPageSize,\r\n\t\t\t\t\tparentId: childParentId\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.tableChildLoading = false;\r\n\t\t\t\t\tthis.dataChildList = this.operateList(res.data.data.list);\r\n\t\t\t\t\tthis.curChild_total = res.data.data.total;\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style scoped>\r\n.handle-box {\r\n\tpadding-bottom: 15px;\r\n}\r\n.handle-select {\r\n\twidth: 120px;\r\n}\r\n.handle-input {\r\n\twidth: 200px;\r\n\tdisplay: inline-block;\r\n}\r\n.mr10 {\r\n\tmargin-right: 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/main/system"}]}