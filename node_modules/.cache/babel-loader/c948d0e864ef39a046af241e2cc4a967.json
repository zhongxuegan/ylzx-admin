{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main.js","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main.js","mtime":1598337813722},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Promise from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/promise\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Tinymce from './components/Tinymce';\nimport ElementUI from 'element-ui';\nimport { Message } from 'element-ui';\nimport './style/element-variables.scss';\nimport './assets/css/left-nav-icon/iconfont.css'; //左侧导航icon\n// import 'element-ui/lib/theme-chalk/index.css'; // 默认主题\n// import '../static/css/theme-green/index.css';       // 浅绿色主题\n\nimport './assets/css/icon.css';\nimport 'babel-polyfill';\nimport './main/common/directives.js'; //v-dialogDrag: 弹窗拖拽属性\n\nVue.config.productionTip = false;\nVue.use(ElementUI, {\n  size: 'small'\n});\nVue.component('tinymce', Tinymce);\nVue.prototype.$moment = moment;\nVue.prototype.$axios = axios;\nVue.prototype.$message = Message; // api基础地址\n\nVue.prototype.BASE_URL = 'http://test.wz3.api.zhuanyuanbao.com/'; // Vue.prototype.BASE_URL = 'http://ylzx.api.sharing662.com/'\n// 善良\n// Vue.prototype.BASE_URL = 'http://172.17.30.77:801/'\n// 诗华\n// Vue.prototype.BASE_URL = 'http://172.17.43.91/'\n// Vue.prototype.BASE_URL = 'https://mrzx.api.zhuanfa222.com/'\n//使用钩子函数对路由进行权限跳转\n\nrouter.beforeEach(function (to, from, next) {\n  //请求头带token\n  // axios.defaults.headers.common['token'] = localStorage.getItem('token')\n  var role = localStorage.getItem('token');\n\n  if (!role && to.path !== '/login') {\n    next('/login');\n  } else if (to.meta.permission) {\n    // 如果是管理员权限则可进入，这里只是简单的模拟管理员权限而已\n    role === 'admin' ? next() : next('/403');\n  } else {\n    // 简单的判断IE10及以下不进入富文本编辑器，该组件不兼容\n    if (navigator.userAgent.indexOf('MSIE') > -1 && to.path === '/editor') {\n      Vue.prototype.$alert('vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看', '浏览器不兼容通知', {\n        confirmButtonText: '确定'\n      });\n    } else {\n      next();\n    }\n  }\n});\naxios.interceptors.request.use(function (res) {\n  console.log(res); //请求头带token\n\n  if (!res.url.includes('login')) {\n    var token = localStorage.getItem('token');\n    res.headers.common['token'] = token;\n  }\n\n  return res;\n}, function (error) {\n  return new _Promise.reject('error');\n}); //响应拦截（配置请求回来的信息）\n\naxios.interceptors.response.use(function (response) {\n  // debugger\n  if (response.headers['content-type'] === 'application/vnd.ms-excel') {\n    return response;\n  } else {\n    // 处理响应数据，如果登录失效 则移除token信息，跳转到登录页\n    if (response.data.code == '10001') {\n      router.push('/login');\n    } else {\n      if (response.data.code === '200') {\n        return response;\n      } else {\n        // debugger\n        Message({\n          message: response.data.message,\n          type: 'error'\n        });\n        return _Promise.reject('error');\n      }\n    }\n  }\n}, function (error) {\n  // 处理响应失败\n  Message({\n    showClose: true,\n    message: '服务错误，请重试',\n    type: 'error'\n  });\n  return _Promise.reject(error);\n});\nnew Vue({\n  router: router,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main.js"],"names":["Vue","App","router","axios","moment","Tinymce","ElementUI","Message","config","productionTip","use","size","component","prototype","$moment","$axios","$message","BASE_URL","beforeEach","to","from","next","role","localStorage","getItem","path","meta","permission","navigator","userAgent","indexOf","$alert","confirmButtonText","interceptors","request","res","console","log","url","includes","token","headers","common","error","reject","response","data","code","push","message","type","showClose","render","h","$mount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\nimport Tinymce from './components/Tinymce'\r\nimport ElementUI from 'element-ui'\r\nimport { Message } from 'element-ui'\r\nimport './style/element-variables.scss'\r\nimport './assets/css/left-nav-icon/iconfont.css' //左侧导航icon\r\n// import 'element-ui/lib/theme-chalk/index.css'; // 默认主题\r\n// import '../static/css/theme-green/index.css';       // 浅绿色主题\r\nimport './assets/css/icon.css'\r\nimport 'babel-polyfill'\r\nimport './main/common/directives.js' //v-dialogDrag: 弹窗拖拽属性\r\n\r\nVue.config.productionTip = false\r\nVue.use(ElementUI, {\r\n\tsize: 'small',\r\n})\r\nVue.component('tinymce', Tinymce)\r\nVue.prototype.$moment = moment\r\nVue.prototype.$axios = axios\r\nVue.prototype.$message = Message\r\n// api基础地址\r\nVue.prototype.BASE_URL = 'http://test.wz3.api.zhuanyuanbao.com/'\r\n\r\n// Vue.prototype.BASE_URL = 'http://ylzx.api.sharing662.com/'\r\n// 善良\r\n// Vue.prototype.BASE_URL = 'http://172.17.30.77:801/'\r\n// 诗华\r\n// Vue.prototype.BASE_URL = 'http://172.17.43.91/'\r\n\r\n\r\n// Vue.prototype.BASE_URL = 'https://mrzx.api.zhuanfa222.com/'\r\n\r\n//使用钩子函数对路由进行权限跳转\r\nrouter.beforeEach((to, from, next) => {\r\n\t//请求头带token\r\n\t// axios.defaults.headers.common['token'] = localStorage.getItem('token')\r\n\tconst role = localStorage.getItem('token')\r\n\tif (!role && to.path !== '/login') {\r\n\t\tnext('/login')\r\n\t} else if (to.meta.permission) {\r\n\t\t// 如果是管理员权限则可进入，这里只是简单的模拟管理员权限而已\r\n\t\trole === 'admin' ? next() : next('/403')\r\n\t} else {\r\n\t\t// 简单的判断IE10及以下不进入富文本编辑器，该组件不兼容\r\n\t\tif (navigator.userAgent.indexOf('MSIE') > -1 && to.path === '/editor') {\r\n\t\t\tVue.prototype.$alert(\r\n\t\t\t\t'vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看',\r\n\t\t\t\t'浏览器不兼容通知', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\tnext()\r\n\t\t}\r\n\t}\r\n})\r\n\r\naxios.interceptors.request.use(\r\n\tres => {\r\n\t\tconsole.log(res);\r\n\t\t//请求头带token\r\n\t\tif(!res.url.includes('login')){\r\n\t\t\tlet token = localStorage.getItem('token');\r\n\t\t\tres.headers.common['token'] = token;\r\n\t\t}\r\n\t\treturn res;\r\n\t},\r\n\terror => {\r\n\t\treturn new Promise.reject('error')\r\n\t}\r\n);\r\n\r\n//响应拦截（配置请求回来的信息）\r\naxios.interceptors.response.use(\r\n\t(response) => {\r\n\t\t// debugger\r\n\t\tif (response.headers['content-type'] === 'application/vnd.ms-excel') {\r\n\t\t\treturn response\r\n\t\t} else {\r\n\t\t\t// 处理响应数据，如果登录失效 则移除token信息，跳转到登录页\r\n\t\t\tif (response.data.code == '10001') {\r\n\t\t\t\trouter.push('/login')\r\n\t\t\t} else {\r\n\t\t\t\tif (response.data.code === '200') {\r\n\t\t\t\t\treturn response\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// debugger\r\n\t\t\t\t\tMessage({\r\n\t\t\t\t\t\tmessage: response.data.message,\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn Promise.reject('error')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t(error) => {\r\n\t\t// 处理响应失败\r\n\t\tMessage({\r\n\t\t\tshowClose: true,\r\n\t\t\tmessage: '服务错误，请重试',\r\n\t\t\ttype: 'error',\r\n\t\t})\r\n\t\treturn Promise.reject(error)\r\n\t}\r\n)\r\n\r\nnew Vue({\r\n\trouter,\r\n\trender: (h) => h(App),\r\n}).$mount('#app')\r\n"]}]}