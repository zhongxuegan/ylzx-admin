{"remainingRequest":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\advertising\\back_page_manage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\src\\main\\advertising\\back_page_manage.vue","mtime":1596275511869},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\钟学刚\\Desktop\\jfzx-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\nimport _toConsumableArray from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\\\u949F\\u5B66\\u521A\\\\Desktop\\\\jfzx-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'backPageManager',\n  data: function data() {\n    return {\n      isEdit: false,\n      page: 1,\n      classifyList: [],\n      classifyIds: [],\n      originClassifyList: [],\n      backFormOrigin: {},\n      classifyIdsOrigin: [],\n      backForm: {\n        articleScale: null,\n        advertScale: null,\n        showCount: null,\n        url: null,\n        twoUrl: null,\n        threeUrl: null,\n        oneAdvertName: null,\n        twoAdvertName: null,\n        threeAdvertName: null\n      }\n    };\n  },\n  created: function created() {\n    this.getClassifyList();\n    this.getsettingData();\n  },\n  methods: {\n    getClassifyList: function () {\n      var _getClassifyList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var postData, _ref, list;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                postData = {\n                  params: {\n                    page: 1,\n                    size: 100,\n                    deleteFlag: '0',\n                    name: ''\n                  }\n                };\n                _context.next = 3;\n                return this.$axios.get(this.BASE_URL + 'admin/article/classify/list', postData);\n\n              case 3:\n                _ref = _context.sent;\n                list = _ref.data.data.list;\n                this.classifyList = list;\n                this.classifyIds = this.pushSelectedClassfiyFromClassifyList();\n                this.classifyIdsOrigin = _toConsumableArray(this.classifyIds);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getClassifyList() {\n        return _getClassifyList.apply(this, arguments);\n      }\n\n      return getClassifyList;\n    }(),\n    getsettingData: function () {\n      var _getsettingData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _ref2, _ref2$data$data, showCount, advertScale, articleScale, url, twoUrl, threeUrl, oneAdvertName, twoAdvertName, threeAdvertName;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$axios.post(this.BASE_URL + 'admin/article/back/page/config/getBackPageConfig');\n\n              case 2:\n                _ref2 = _context2.sent;\n                _ref2$data$data = _ref2.data.data;\n                showCount = _ref2$data$data.showCount;\n                advertScale = _ref2$data$data.advertScale;\n                articleScale = _ref2$data$data.articleScale;\n                url = _ref2$data$data.url;\n                twoUrl = _ref2$data$data.twoUrl;\n                threeUrl = _ref2$data$data.threeUrl;\n                oneAdvertName = _ref2$data$data.oneAdvertName;\n                twoAdvertName = _ref2$data$data.twoAdvertName;\n                threeAdvertName = _ref2$data$data.threeAdvertName;\n                this.backForm = {\n                  showCount: showCount,\n                  advertScale: advertScale,\n                  articleScale: articleScale,\n                  url: url,\n                  twoUrl: twoUrl,\n                  threeUrl: threeUrl,\n                  oneAdvertName: oneAdvertName,\n                  twoAdvertName: twoAdvertName,\n                  threeAdvertName: threeAdvertName\n                };\n                this.backFormOrigin = _Object$assign({}, this.backForm);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getsettingData() {\n        return _getsettingData.apply(this, arguments);\n      }\n\n      return getsettingData;\n    }(),\n    pushorignClassifyList: function pushorignClassifyList() {\n      var result = [];\n      this.classifyList.map(function (item) {\n        result.push(item.id);\n      });\n      return result;\n    },\n    pushSelectedClassfiyFromClassifyList: function pushSelectedClassfiyFromClassifyList() {\n      var result = [];\n      this.classifyList.map(function (item) {\n        if (item.backPageCheckFlag === 1) {\n          result.push(item.id);\n        }\n      });\n      return result;\n    },\n    saveBackUpateConfig: function () {\n      var _saveBackUpateConfig = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.originClassifyList = this.pushorignClassifyList();\n                result = this.generateClassifyList(this.originClassifyList, this.classifyIds);\n                this.backForm.classifys = result;\n                _context3.next = 5;\n                return this.$axios.post(this.BASE_URL + 'admin/article/back/page/config/updateBackPageConfig', this.backForm);\n\n              case 5:\n                this.$message({\n                  message: '修改成功',\n                  type: 'success'\n                });\n                this.getClassifyList();\n                this.getsettingData();\n                this.isEdit = false;\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function saveBackUpateConfig() {\n        return _saveBackUpateConfig.apply(this, arguments);\n      }\n\n      return saveBackUpateConfig;\n    }(),\n    // 根据选中的classifyId生成后台需要的格式\n    generateClassifyList: function generateClassifyList(arrParent, arrChild) {\n      var result = [];\n\n      for (var i = 0; i < arrParent.length; i++) {\n        result.push({\n          id: arrParent[i],\n          backPageCheckFlag: 0\n        });\n\n        for (var j = 0; j < arrChild.length; j++) {\n          if (arrChild[j] === arrParent[i]) {\n            result[i].backPageCheckFlag = 1;\n          }\n        }\n      }\n\n      return result;\n    },\n    reset: function reset() {\n      this.classifyIds = this.classifyIdsOrigin;\n      this.backForm = _Object$assign({}, this.backFormOrigin);\n      this.isEdit = false;\n    },\n    confirm: function confirm() {\n      this.saveBackUpateConfig();\n    },\n    edit: function edit() {\n      this.isEdit = true;\n    }\n  }\n};",{"version":3,"sources":["back_page_manage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form ref=\"backForm\" :model=\"backForm\" label-width=\"200px\">\r\n\t\t\t<el-form-item label=\"栏目分类\">\r\n\t\t\t\t<el-checkbox-group v-model=\"classifyIds\">\r\n\t\t\t\t\t<el-checkbox v-for=\"item in classifyList\" :disabled=\"!isEdit\" name=\"wexinClassify\" :label=\"item.id\" :key=\"item.id\">{{ item.name }}</el-checkbox>\r\n\t\t\t\t</el-checkbox-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"文章\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input type=\"number\" class=\"input--width200\" v-model=\"backForm.articleScale\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.articleScale }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"广告\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input type=\"number\" class=\"input--width200\" v-model=\"backForm.advertScale\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.advertScale }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"显示条数\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input type=\"number\" class=\"input--width200\" v-model=\"backForm.showCount\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.showCount }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"一反广告名称\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input maxlength=\"50\" show-word-limit class=\"input--width200\" v-model=\"backForm.oneAdvertName\" style=\"width:400px;\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.oneAdvertName }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"一反后退页链接\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input class=\"input--width200\" style=\"width:400px;\" v-model=\"backForm.url\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.url }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"二反广告名称\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input maxlength=\"50\" show-word-limit class=\"input--width200\" v-model=\"backForm.twoAdvertName\" style=\"width:400px;\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.twoAdvertName }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"二反后退页链接\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input class=\"input--width200\" style=\"width:400px;\" v-model=\"backForm.twoUrl\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.twoUrl }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"三反广告名称\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input maxlength=\"50\" show-word-limit class=\"input--width200\" v-model=\"backForm.threeAdvertName\" style=\"width:400px;\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.threeAdvertName }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"三反后退页链接\">\r\n\t\t\t\t<template v-if=\"isEdit\">\r\n\t\t\t\t\t<el-input class=\"input--width200\" style=\"width:400px;\" v-model=\"backForm.threeUrl\"></el-input>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<span>{{ backForm.threeUrl }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item style=\"display:block;\">\r\n\t\t\t\t<el-button v-if=\"!isEdit\" type=\"primary\" @click=\"edit\">修改</el-button>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<el-button type=\"default\" @click=\"reset\">取消</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"confirm\">确认</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tname: 'backPageManager',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisEdit: false,\r\n\t\t\tpage: 1,\r\n\t\t\tclassifyList: [],\r\n\t\t\tclassifyIds: [],\r\n\t\t\toriginClassifyList: [],\r\n\t\t\tbackFormOrigin: {},\r\n\t\t\tclassifyIdsOrigin: [],\r\n\t\t\tbackForm: {\r\n\t\t\t\tarticleScale: null,\r\n\t\t\t\tadvertScale: null,\r\n\t\t\t\tshowCount: null,\r\n\t\t\t\turl: null,\r\n\t\t\t\ttwoUrl: null,\r\n\t\t\t\tthreeUrl: null,\r\n\t\t\t\toneAdvertName: null,\r\n\t\t\t\ttwoAdvertName: null,\r\n\t\t\t\tthreeAdvertName: null\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getClassifyList();\r\n\t\tthis.getsettingData();\r\n\t},\r\n\tmethods: {\r\n\t\tasync getClassifyList() {\r\n\t\t\tlet postData = {\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tsize: 100,\r\n\t\t\t\t\tdeleteFlag: '0',\r\n\t\t\t\t\tname: ''\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tlet {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdata: { list }\r\n\t\t\t\t}\r\n\t\t\t} = await this.$axios.get(this.BASE_URL + 'admin/article/classify/list', postData);\r\n\t\t\tthis.classifyList = list;\r\n\t\t\tthis.classifyIds = this.pushSelectedClassfiyFromClassifyList();\r\n\t\t\tthis.classifyIdsOrigin = [...this.classifyIds];\r\n\t\t},\r\n\t\tasync getsettingData() {\r\n\t\t\tlet {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdata: { showCount, advertScale, articleScale, url, twoUrl, threeUrl,oneAdvertName,twoAdvertName,threeAdvertName }\r\n\t\t\t\t}\r\n\t\t\t} = await this.$axios.post(this.BASE_URL + 'admin/article/back/page/config/getBackPageConfig');\r\n\t\t\tthis.backForm = {\r\n\t\t\t\tshowCount,\r\n\t\t\t\tadvertScale,\r\n\t\t\t\tarticleScale,\r\n\t\t\t\turl,\r\n\t\t\t\ttwoUrl,\r\n\t\t\t\tthreeUrl,\r\n\t\t\t\toneAdvertName,\r\n\t\t\t\ttwoAdvertName,\r\n\t\t\t\tthreeAdvertName\r\n\t\t\t};\r\n\t\t\tthis.backFormOrigin = Object.assign({}, this.backForm);\r\n\t\t},\r\n\t\tpushorignClassifyList() {\r\n\t\t\tlet result = [];\r\n\t\t\tthis.classifyList.map(item => {\r\n\t\t\t\tresult.push(item.id);\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tpushSelectedClassfiyFromClassifyList() {\r\n\t\t\tlet result = [];\r\n\t\t\tthis.classifyList.map(item => {\r\n\t\t\t\tif (item.backPageCheckFlag === 1) {\r\n\t\t\t\t\tresult.push(item.id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tasync saveBackUpateConfig() {\r\n\t\t\tthis.originClassifyList = this.pushorignClassifyList();\r\n\t\t\tlet result = this.generateClassifyList(this.originClassifyList, this.classifyIds);\r\n\t\t\tthis.backForm.classifys = result;\r\n\t\t\tawait this.$axios.post(this.BASE_URL + 'admin/article/back/page/config/updateBackPageConfig', this.backForm);\r\n\t\t\tthis.$message({\r\n\t\t\t\tmessage: '修改成功',\r\n\t\t\t\ttype: 'success'\r\n\t\t\t});\r\n\t\t\tthis.getClassifyList();\r\n\t\t\tthis.getsettingData();\r\n\t\t\tthis.isEdit = false;\r\n\t\t},\r\n\r\n\t\t// 根据选中的classifyId生成后台需要的格式\r\n\t\tgenerateClassifyList(arrParent, arrChild) {\r\n\t\t\tlet result = [];\r\n\t\t\tfor (let i = 0; i < arrParent.length; i++) {\r\n\t\t\t\tresult.push({ id: arrParent[i], backPageCheckFlag: 0 });\r\n\t\t\t\tfor (let j = 0; j < arrChild.length; j++) {\r\n\t\t\t\t\tif (arrChild[j] === arrParent[i]) {\r\n\t\t\t\t\t\tresult[i].backPageCheckFlag = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\treset() {\r\n\t\t\tthis.classifyIds = this.classifyIdsOrigin;\r\n\t\t\tthis.backForm = Object.assign({}, this.backFormOrigin);\r\n\t\t\tthis.isEdit = false;\r\n\t\t},\r\n\t\tconfirm() {\r\n\t\t\tthis.saveBackUpateConfig();\r\n\t\t},\r\n\t\tedit() {\r\n\t\t\tthis.isEdit = true;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style>\r\n.input--width200 {\r\n\twidth: 200px;\r\n}\r\n</style>\n"],"sourceRoot":"src/main/advertising"}]}